<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>lj_ffrecord.c source code [luajit/lj_ffrecord.c] - Woboq Code Browser</title>
<link rel="stylesheet" href=".././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href=".././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src=".././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src=".././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'luajit/lj_ffrecord.c'; var root_path = '..'; var data_path = '.././data'; var ecma_script_api_version = 2;</script>
<script src='.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='./'>luajit</a>/<a href='lj_ffrecord.c.html'>lj_ffrecord.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i>** Fast function call recorder.</i></td></tr>
<tr><th id="3">3</th><td><i>** Copyright (C) 2005-2021 Mike Pall. See Copyright Notice in luajit.h</i></td></tr>
<tr><th id="4">4</th><td><i>*/</i></td></tr>
<tr><th id="5">5</th><td></td></tr>
<tr><th id="6">6</th><td><u>#define <dfn class="macro" id="_M/lj_ffrecord_c" data-ref="_M/lj_ffrecord_c">lj_ffrecord_c</dfn></u></td></tr>
<tr><th id="7">7</th><td><u>#define <dfn class="macro" id="_M/LUA_CORE" data-ref="_M/LUA_CORE">LUA_CORE</dfn></u></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="lj_obj.h.html">"lj_obj.h"</a></u></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="11">if</span> <a class="macro" href="lj_arch.h.html#542" title="1" data-ref="_M/LJ_HASJIT">LJ_HASJIT</a></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="lj_err.h.html">"lj_err.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="lj_str.h.html">"lj_str.h"</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="lj_tab.h.html">"lj_tab.h"</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="lj_frame.h.html">"lj_frame.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="lj_bc.h.html">"lj_bc.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="lj_ff.h.html">"lj_ff.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="lj_ir.h.html">"lj_ir.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="lj_jit.h.html">"lj_jit.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="lj_ircall.h.html">"lj_ircall.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="lj_iropt.h.html">"lj_iropt.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="lj_trace.h.html">"lj_trace.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="lj_record.h.html">"lj_record.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="lj_ffrecord.h.html">"lj_ffrecord.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="lj_crecord.h.html">"lj_crecord.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="lj_dispatch.h.html">"lj_dispatch.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="lj_vm.h.html">"lj_vm.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="lj_strscan.h.html">"lj_strscan.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="lj_strfmt.h.html">"lj_strfmt.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><i>/* Some local macros to save typing. Undef'd at the end. */</i></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/IR" data-ref="_M/IR">IR</dfn>(ref)			(&amp;<a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J"><a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a></a></a></a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::cur" title='jit_State::cur' data-ref="jit_State::cur" data-ref-filename="jit_State..cur">cur</a>.<a class="ref field" href="lj_jit.h.html#GCtrace::ir" title='GCtrace::ir' data-ref="GCtrace::ir" data-ref-filename="GCtrace..ir">ir</a>[(ref)])</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><i>/* Pass IR on to next optimization in chain (FOLD). */</i></td></tr>
<tr><th id="36">36</th><td><u>#define <dfn class="macro" id="_M/emitir" data-ref="_M/emitir">emitir</dfn>(ot, a, b)	(lj_ir_set(<a class="local col1 ref" href="#21J" title='J' data-ref="21J" data-ref-filename="21J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J"><a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J"><a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J"><a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J"><a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J"><a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J"><a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J"><a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J"><a class="local col8 ref" href="#108J" title='J' data-ref="108J" data-ref-filename="108J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J"><a class="local col3 ref" href="#123J" title='J' data-ref="123J" data-ref-filename="123J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J"><a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J"><a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J"><a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J"><a class="local col7 ref" href="#157J" title='J' data-ref="157J" data-ref-filename="157J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J"><a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a>, (ot), (a), (b)), <a class="ref fn" href="lj_iropt.h.html#lj_opt_fold" title='lj_opt_fold' data-ref="lj_opt_fold" data-ref-filename="lj_opt_fold">lj_opt_fold</a>(<a class="local col1 ref" href="#21J" title='J' data-ref="21J" data-ref-filename="21J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J"><a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J"><a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J"><a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J"><a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J"><a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J"><a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J"><a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J"><a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J"><a class="local col8 ref" href="#108J" title='J' data-ref="108J" data-ref-filename="108J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J"><a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J"><a class="local col3 ref" href="#123J" title='J' data-ref="123J" data-ref-filename="123J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J"><a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J"><a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J"><a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J"><a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J"><a class="local col7 ref" href="#157J" title='J' data-ref="157J" data-ref-filename="157J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J"><a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J"><a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J"><a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J"><a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J"><a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a>))</u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><i>/* -- Fast function recording handlers ------------------------------------ */</i></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>/* Conventions for fast function call handlers:</i></td></tr>
<tr><th id="41">41</th><td><i>**</i></td></tr>
<tr><th id="42">42</th><td><i>** The argument slots start at J-&gt;base[0]. All of them are guaranteed to be</i></td></tr>
<tr><th id="43">43</th><td><i>** valid and type-specialized references. J-&gt;base[J-&gt;maxslot] is set to 0</i></td></tr>
<tr><th id="44">44</th><td><i>** as a sentinel. The runtime argument values start at rd-&gt;argv[0].</i></td></tr>
<tr><th id="45">45</th><td><i>**</i></td></tr>
<tr><th id="46">46</th><td><i>** In general fast functions should check for presence of all of their</i></td></tr>
<tr><th id="47">47</th><td><i>** arguments and for the correct argument types. Some simplifications</i></td></tr>
<tr><th id="48">48</th><td><i>** are allowed if the interpreter throws instead. But even if recording</i></td></tr>
<tr><th id="49">49</th><td><i>** is aborted, the generated IR must be consistent (no zero-refs).</i></td></tr>
<tr><th id="50">50</th><td><i>**</i></td></tr>
<tr><th id="51">51</th><td><i>** The number of results in rd-&gt;nres is set to 1. Handlers that return</i></td></tr>
<tr><th id="52">52</th><td><i>** a different number of results need to override it. A negative value</i></td></tr>
<tr><th id="53">53</th><td><i>** prevents return processing (e.g. for pending calls).</i></td></tr>
<tr><th id="54">54</th><td><i>**</i></td></tr>
<tr><th id="55">55</th><td><i>** Results need to be stored starting at J-&gt;base[0]. Return processing</i></td></tr>
<tr><th id="56">56</th><td><i>** moves them to the right slots later.</i></td></tr>
<tr><th id="57">57</th><td><i>**</i></td></tr>
<tr><th id="58">58</th><td><i>** The per-ffid auxiliary data is the value of the 2nd part of the</i></td></tr>
<tr><th id="59">59</th><td><i>** LJLIB_REC() annotation. This allows handling similar functionality</i></td></tr>
<tr><th id="60">60</th><td><i>** in a common handler.</i></td></tr>
<tr><th id="61">61</th><td><i>*/</i></td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><i>/* Type of handler to record a fast function. */</i></td></tr>
<tr><th id="64">64</th><td><b>typedef</b> <em>void</em> (<a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> *<dfn class="typedef" id="RecordFunc" title='RecordFunc' data-type='void (*)(jit_State *, RecordFFData *)' data-ref="RecordFunc" data-ref-filename="RecordFunc">RecordFunc</dfn>)(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="1J" title='J' data-type='jit_State *' data-ref="1J" data-ref-filename="1J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="2rd" title='rd' data-type='RecordFFData *' data-ref="2rd" data-ref-filename="2rd">rd</dfn>);</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i  data-doc="argv2int">/* Get runtime value of int argument. */</i></td></tr>
<tr><th id="67">67</th><td><em>static</em> <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="tu decl def fn" id="argv2int" title='argv2int' data-type='int32_t argv2int(jit_State * J, TValue * o)' data-ref="argv2int" data-ref-filename="argv2int">argv2int</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col3 decl" id="3J" title='J' data-type='jit_State *' data-ref="3J" data-ref-filename="3J">J</dfn>, <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col4 decl" id="4o" title='o' data-type='TValue *' data-ref="4o" data-ref-filename="4o">o</dfn>)</td></tr>
<tr><th id="68">68</th><td>{</td></tr>
<tr><th id="69">69</th><td>  <b>if</b> (!<a class="ref fn" href="lj_strscan.h.html#lj_strscan_numberobj" title='lj_strscan_numberobj' data-ref="lj_strscan_numberobj" data-ref-filename="lj_strscan_numberobj">lj_strscan_numberobj</a>(<a class="local col4 ref" href="#4o" title='o' data-ref="4o" data-ref-filename="4o">o</a>))</td></tr>
<tr><th id="70">70</th><td>    <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col3 ref" href="#3J" title='J' data-ref="3J" data-ref-filename="3J">J</a>, <a class="enum" href="lj_traceerr.h.html#24" title='LJ_TRERR_BADTYPE' data-ref="LJ_TRERR_BADTYPE" data-ref-filename="LJ_TRERR_BADTYPE">LJ_TRERR_BADTYPE</a>);</td></tr>
<tr><th id="71">71</th><td>  <b>return</b> <a class="macro" href="lj_obj.h.html#797" title="(0 &amp;&amp; ((uint32_t)((o)-&gt;it64 &gt;&gt; 47)) == (~13u))" data-ref="_M/tvisint">tvisint</a>(<a class="local col4 ref" href="#4o" title='o' data-ref="4o" data-ref-filename="4o">o</a>) ? <a class="macro" href="lj_obj.h.html#860" title="((int32_t)(o)-&gt;i)" data-ref="_M/intV">intV</a>(<a class="local col4 ref" href="#4o" title='o' data-ref="4o" data-ref-filename="4o">o</a>) : <a class="macro" href="lj_obj.h.html#993" title="((int32_t)(((o)-&gt;n)))" data-ref="_M/lj_num2int">lj_num2int</a>(<a class="macro" href="lj_obj.h.html#859" title="((o)-&gt;n)" data-ref="_M/numV">numV</a>(<a class="local col4 ref" href="#4o" title='o' data-ref="4o" data-ref-filename="4o">o</a>));</td></tr>
<tr><th id="72">72</th><td>}</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><i  data-doc="argv2str">/* Get runtime value of string argument. */</i></td></tr>
<tr><th id="75">75</th><td><em>static</em> <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="tu decl def fn" id="argv2str" title='argv2str' data-type='GCstr * argv2str(jit_State * J, TValue * o)' data-ref="argv2str" data-ref-filename="argv2str">argv2str</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="5J" title='J' data-type='jit_State *' data-ref="5J" data-ref-filename="5J">J</dfn>, <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col6 decl" id="6o" title='o' data-type='TValue *' data-ref="6o" data-ref-filename="6o">o</dfn>)</td></tr>
<tr><th id="76">76</th><td>{</td></tr>
<tr><th id="77">77</th><td>  <b>if</b> (<a class="macro" href="lj_def.h.html#145" title="__builtin_expect(!!((((uint32_t)((o)-&gt;it64 &gt;&gt; 47)) == (~4u))), 1)" data-ref="_M/LJ_LIKELY">LJ_LIKELY</a>(<a class="macro" href="lj_obj.h.html#789" title="(((uint32_t)((o)-&gt;it64 &gt;&gt; 47)) == (~4u))" data-ref="_M/tvisstr">tvisstr</a>(<a class="local col6 ref" href="#6o" title='o' data-ref="6o" data-ref-filename="6o">o</a>))) {</td></tr>
<tr><th id="78">78</th><td>    <b>return</b> <a class="macro" href="lj_obj.h.html#852" title="(&amp;((GCobj *)((((o)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)" data-ref="_M/strV">strV</a>(<a class="local col6 ref" href="#6o" title='o' data-ref="6o" data-ref-filename="6o">o</a>);</td></tr>
<tr><th id="79">79</th><td>  } <b>else</b> {</td></tr>
<tr><th id="80">80</th><td>    <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col7 decl" id="7s" title='s' data-type='GCstr *' data-ref="7s" data-ref-filename="7s">s</dfn>;</td></tr>
<tr><th id="81">81</th><td>    <b>if</b> (!<a class="macro" href="lj_obj.h.html#796" title="(((uint32_t)((o)-&gt;it64 &gt;&gt; 47)) &lt;= (~13u))" data-ref="_M/tvisnumber">tvisnumber</a>(<a class="local col6 ref" href="#6o" title='o' data-ref="6o" data-ref-filename="6o">o</a>))</td></tr>
<tr><th id="82">82</th><td>      <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col5 ref" href="#5J" title='J' data-ref="5J" data-ref-filename="5J">J</a>, <a class="enum" href="lj_traceerr.h.html#24" title='LJ_TRERR_BADTYPE' data-ref="LJ_TRERR_BADTYPE" data-ref-filename="LJ_TRERR_BADTYPE">LJ_TRERR_BADTYPE</a>);</td></tr>
<tr><th id="83">83</th><td>    <a class="local col7 ref" href="#7s" title='s' data-ref="7s" data-ref-filename="7s">s</a> = <a class="ref fn" href="lj_strfmt.h.html#lj_strfmt_number" title='lj_strfmt_number' data-ref="lj_strfmt_number" data-ref-filename="lj_strfmt_number">lj_strfmt_number</a>(<a class="local col5 ref" href="#5J" title='J' data-ref="5J" data-ref-filename="5J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <a class="local col6 ref" href="#6o" title='o' data-ref="6o" data-ref-filename="6o">o</a>);</td></tr>
<tr><th id="84">84</th><td>    <a class="ref fn" href="lj_obj.h.html#930" title='setstrV' data-ref="setstrV" data-ref-filename="setstrV">setstrV</a>(<a class="local col5 ref" href="#5J" title='J' data-ref="5J" data-ref-filename="5J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <a class="local col6 ref" href="#6o" title='o' data-ref="6o" data-ref-filename="6o">o</a>, <a class="local col7 ref" href="#7s" title='s' data-ref="7s" data-ref-filename="7s">s</a>);</td></tr>
<tr><th id="85">85</th><td>    <b>return</b> <a class="local col7 ref" href="#7s" title='s' data-ref="7s" data-ref-filename="7s">s</a>;</td></tr>
<tr><th id="86">86</th><td>  }</td></tr>
<tr><th id="87">87</th><td>}</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td><i  data-doc="results_wanted">/* Return number of results wanted by caller. */</i></td></tr>
<tr><th id="90">90</th><td><em>static</em> <span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="tu decl def fn" id="results_wanted" title='results_wanted' data-type='ptrdiff_t results_wanted(jit_State * J)' data-ref="results_wanted" data-ref-filename="results_wanted">results_wanted</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="8J" title='J' data-type='jit_State *' data-ref="8J" data-ref-filename="8J">J</dfn>)</td></tr>
<tr><th id="91">91</th><td>{</td></tr>
<tr><th id="92">92</th><td>  <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col9 decl" id="9frame" title='frame' data-type='TValue *' data-ref="9frame" data-ref-filename="9frame">frame</dfn> = <a class="local col8 ref" href="#8J" title='J' data-ref="8J" data-ref-filename="8J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a>-<var>1</var>;</td></tr>
<tr><th id="93">93</th><td>  <b>if</b> (<a class="macro" href="lj_frame.h.html#77" title="((((ptrdiff_t)(frame)-&gt;ftsz) &amp; 3) == FRAME_LUA)" data-ref="_M/frame_islua">frame_islua</a>(<a class="local col9 ref" href="#9frame" title='frame' data-ref="9frame" data-ref-filename="9frame">frame</a>))</td></tr>
<tr><th id="94">94</th><td>    <b>return</b> (<span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span>)<a class="macro" href="lj_bc.h.html#36" title="((BCReg)((((const BCIns *)((ptrdiff_t)(frame)-&gt;ftsz))[-1])&gt;&gt;24))" data-ref="_M/bc_b">bc_b</a>(<a class="macro" href="lj_frame.h.html#48" title="((const BCIns *)((ptrdiff_t)(frame)-&gt;ftsz))" data-ref="_M/frame_pc">frame_pc</a>(<a class="local col9 ref" href="#9frame" title='frame' data-ref="9frame" data-ref-filename="9frame">frame</a>)[-<var>1</var>]) - <var>1</var>;</td></tr>
<tr><th id="95">95</th><td>  <b>else</b></td></tr>
<tr><th id="96">96</th><td>    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="97">97</th><td>}</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><i  data-doc="recff_stitch">/* Trace stitching: add continuation below frame to start a new trace. */</i></td></tr>
<tr><th id="100">100</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="recff_stitch" title='recff_stitch' data-type='void recff_stitch(jit_State * J)' data-ref="recff_stitch" data-ref-filename="recff_stitch">recff_stitch</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col0 decl" id="10J" title='J' data-type='jit_State *' data-ref="10J" data-ref-filename="10J">J</dfn>)</td></tr>
<tr><th id="101">101</th><td>{</td></tr>
<tr><th id="102">102</th><td>  <a class="typedef" href="lj_obj.h.html#ASMFunction" title='ASMFunction' data-type='void (*)(void)' data-ref="ASMFunction" data-ref-filename="ASMFunction">ASMFunction</a> <dfn class="local col1 decl" id="11cont" title='cont' data-type='ASMFunction' data-ref="11cont" data-ref-filename="11cont">cont</dfn> = <a class="ref fn" href="lj_vm.h.html#lj_cont_stitch" title='lj_cont_stitch' data-ref="lj_cont_stitch" data-ref-filename="lj_cont_stitch">lj_cont_stitch</a>;</td></tr>
<tr><th id="103">103</th><td>  <a class="typedef" href="lua.h.html#lua_State" title='lua_State' data-type='struct lua_State' data-ref="lua_State" data-ref-filename="lua_State">lua_State</a> *<dfn class="local col2 decl" id="12L" title='L' data-type='lua_State *' data-ref="12L" data-ref-filename="12L">L</dfn> = <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>;</td></tr>
<tr><th id="104">104</th><td>  <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col3 decl" id="13base" title='base' data-type='TValue *' data-ref="13base" data-ref-filename="13base">base</dfn> = <a class="local col2 ref" href="#12L" title='L' data-ref="12L" data-ref-filename="12L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a>;</td></tr>
<tr><th id="105">105</th><td>  <a class="typedef" href="lj_obj.h.html#BCReg" title='BCReg' data-type='uint32_t' data-ref="BCReg" data-ref-filename="BCReg">BCReg</a> <dfn class="local col4 decl" id="14nslot" title='nslot' data-type='BCReg' data-ref="14nslot" data-ref-filename="14nslot">nslot</dfn> = <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> + <var>1</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="106">106</th><td>  <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col5 decl" id="15nframe" title='nframe' data-type='TValue *' data-ref="15nframe" data-ref-filename="15nframe">nframe</dfn> = <a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a> + <var>1</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="107">107</th><td>  <em>const</em> <a class="typedef" href="lj_obj.h.html#BCIns" title='BCIns' data-type='uint32_t' data-ref="BCIns" data-ref-filename="BCIns">BCIns</a> *<dfn class="local col6 decl" id="16pc" title='pc' data-type='const BCIns *' data-ref="16pc" data-ref-filename="16pc">pc</dfn> = <a class="macro" href="lj_frame.h.html#48" title="((const BCIns *)((ptrdiff_t)(base-1)-&gt;ftsz))" data-ref="_M/frame_pc">frame_pc</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>-<var>1</var>);</td></tr>
<tr><th id="108">108</th><td>  <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col7 decl" id="17pframe" title='pframe' data-type='TValue *' data-ref="17pframe" data-ref-filename="17pframe">pframe</dfn> = <a class="macro" href="lj_frame.h.html#108" title="((base-1) - (1+1+((BCReg)(((((const BCIns *)((ptrdiff_t)(base-1)-&gt;ftsz))[-1])&gt;&gt;8)&amp;0xff))))" data-ref="_M/frame_prevl">frame_prevl</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>-<var>1</var>);</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td>  <i>/* Check for this now. Throwing in lj_record_stop messes up the stack. */</i></td></tr>
<tr><th id="111">111</th><td>  <b>if</b> (<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::cur" title='jit_State::cur' data-ref="jit_State::cur" data-ref-filename="jit_State..cur">cur</a>.<a class="ref field" href="lj_jit.h.html#GCtrace::nsnap" title='GCtrace::nsnap' data-ref="GCtrace::nsnap" data-ref-filename="GCtrace..nsnap">nsnap</a> &gt;= (<a class="typedef" href="lj_obj.h.html#MSize" title='MSize' data-type='uint32_t' data-ref="MSize" data-ref-filename="MSize">MSize</a>)<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::param" title='jit_State::param' data-ref="jit_State::param" data-ref-filename="jit_State..param">param</a>[<a class="enum" href="lj_jit.h.html#138" title='JIT_P_maxsnap' data-ref="JIT_P_maxsnap" data-ref-filename="JIT_P_maxsnap">JIT_P_maxsnap</a>])</td></tr>
<tr><th id="112">112</th><td>    <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>, <a class="enum" href="lj_traceerr.h.html#13" title='LJ_TRERR_SNAPOV' data-ref="LJ_TRERR_SNAPOV" data-ref-filename="LJ_TRERR_SNAPOV">LJ_TRERR_SNAPOV</a>);</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>  <i>/* Move func + args up in Lua stack and insert continuation. */</i></td></tr>
<tr><th id="115">115</th><td>  <a class="ref fn" href="../include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(&amp;<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>[<var>1</var>], &amp;<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>[-<var>1</var>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>], <b>sizeof</b>(<a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a>)*<a class="local col4 ref" href="#14nslot" title='nslot' data-ref="14nslot" data-ref-filename="14nslot">nslot</a>);</td></tr>
<tr><th id="116">116</th><td>  <a class="macro" href="lj_frame.h.html#50" title="((nframe)-&gt;ftsz = (((char *)nframe - (char *)pframe) + FRAME_CONT))" data-ref="_M/setframe_ftsz">setframe_ftsz</a>(<a class="local col5 ref" href="#15nframe" title='nframe' data-ref="15nframe" data-ref-filename="15nframe">nframe</a>, ((<em>char</em> *)<a class="local col5 ref" href="#15nframe" title='nframe' data-ref="15nframe" data-ref-filename="15nframe">nframe</a> - (<em>char</em> *)<a class="local col7 ref" href="#17pframe" title='pframe' data-ref="17pframe" data-ref-filename="17pframe">pframe</a>) + <a class="enum" href="lj_frame.h.html#FRAME_CONT" title='FRAME_CONT' data-ref="FRAME_CONT" data-ref-filename="FRAME_CONT">FRAME_CONT</a>);</td></tr>
<tr><th id="117">117</th><td>  <a class="macro" href="lj_obj.h.html#888" title="((base-1)-&gt;u64 = (uint64_t)(uintptr_t)((void *)(cont)))" data-ref="_M/setcont">setcont</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>, <a class="local col1 ref" href="#11cont" title='cont' data-ref="11cont" data-ref-filename="11cont">cont</a>);</td></tr>
<tr><th id="118">118</th><td>  <a class="macro" href="lj_frame.h.html#51" title="((base)-&gt;ftsz = (int64_t)(intptr_t)(pc))" data-ref="_M/setframe_pc">setframe_pc</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>, <a class="local col6 ref" href="#16pc" title='pc' data-ref="16pc" data-ref-filename="16pc">pc</a>);</td></tr>
<tr><th id="119">119</th><td>  <a class="macro" href="lj_obj.h.html#865" title="((base-1-1)-&gt;it64 = -1)" data-ref="_M/setnilV">setnilV</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>-<var>1</var>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>);  <i>/* Incorrect, but rec_check_slots() won't run anymore. */</i></td></tr>
<tr><th id="120">120</th><td>  <a class="local col2 ref" href="#12L" title='L' data-ref="12L" data-ref-filename="12L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a> += <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="121">121</th><td>  <a class="local col2 ref" href="#12L" title='L' data-ref="12L" data-ref-filename="12L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::top" title='lua_State::top' data-ref="lua_State::top" data-ref-filename="lua_State..top">top</a> += <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td>  <i>/* Ditto for the IR. */</i></td></tr>
<tr><th id="124">124</th><td>  <a class="ref fn" href="../include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(&amp;<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>], &amp;<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[-<var>1</var>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>], <b>sizeof</b>(<a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a>)*<a class="local col4 ref" href="#14nslot" title='nslot' data-ref="14nslot" data-ref-filename="14nslot">nslot</a>);</td></tr>
<tr><th id="125">125</th><td><u>#<span data-ppcond="125">if</span> <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a></u></td></tr>
<tr><th id="126">126</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>] = <a class="macro" href="lj_ir.h.html#483" title="0x00010000" data-ref="_M/TREF_FRAME">TREF_FRAME</a>;</td></tr>
<tr><th id="127">127</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[-<var>1</var>] = <a class="ref fn" href="lj_iropt.h.html#lj_ir_k64" title='lj_ir_k64' data-ref="lj_ir_k64" data-ref-filename="lj_ir_k64">lj_ir_k64</a>(<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>, <a class="enum" href="lj_ir.h.html#154" title='IR_KNUM' data-ref="IR_KNUM" data-ref-filename="IR_KNUM">IR_KNUM</a>, <a class="macro" href="lj_def.h.html#98" title="((uint64_t)(intptr_t)(void *)(((void *)(cont))))" data-ref="_M/u64ptr">u64ptr</a>(<a class="macro" href="lj_obj.h.html#887" title="((void *)(cont))" data-ref="_M/contptr">contptr</a>(<a class="local col1 ref" href="#11cont" title='cont' data-ref="11cont" data-ref-filename="11cont">cont</a>)));</td></tr>
<tr><th id="128">128</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_iropt.h.html#lj_ir_k64" title='lj_ir_k64' data-ref="lj_ir_k64" data-ref-filename="lj_ir_k64">lj_ir_k64</a>(<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>, <a class="enum" href="lj_ir.h.html#154" title='IR_KNUM' data-ref="IR_KNUM" data-ref-filename="IR_KNUM">IR_KNUM</a>, <a class="macro" href="lj_def.h.html#98" title="((uint64_t)(intptr_t)(void *)(pc))" data-ref="_M/u64ptr">u64ptr</a>(<a class="local col6 ref" href="#16pc" title='pc' data-ref="16pc" data-ref-filename="16pc">pc</a>)) | <a class="macro" href="lj_ir.h.html#484" title="0x00020000" data-ref="_M/TREF_CONT">TREF_CONT</a>;</td></tr>
<tr><th id="129">129</th><td><u>#<span data-ppcond="125">else</span></u></td></tr>
<tr><th id="130">130</th><td>  J-&gt;base[<var>0</var>] = lj_ir_kptr(J, contptr(cont)) | TREF_CONT;</td></tr>
<tr><th id="131">131</th><td><u>#<span data-ppcond="125">endif</span></u></td></tr>
<tr><th id="132">132</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::ktrace" title='jit_State::ktrace' data-ref="jit_State::ktrace" data-ref-filename="jit_State..ktrace">ktrace</a> = <a class="macro" href="lj_ir.h.html#488" title="((IRRef1)((J-&gt;base[-1-1] = lj_ir_ktrace(J))))" data-ref="_M/tref_ref">tref_ref</a>((<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[-<var>1</var>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>] = <a class="ref fn" href="lj_iropt.h.html#lj_ir_ktrace" title='lj_ir_ktrace' data-ref="lj_ir_ktrace" data-ref-filename="lj_ir_ktrace">lj_ir_ktrace</a>(<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>)));</td></tr>
<tr><th id="133">133</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a> += <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="134">134</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::baseslot" title='jit_State::baseslot' data-ref="jit_State::baseslot" data-ref-filename="jit_State..baseslot">baseslot</a> += <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="135">135</th><td>  <a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::framedepth" title='jit_State::framedepth' data-ref="jit_State::framedepth" data-ref-filename="jit_State..framedepth">framedepth</a>++;</td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td>  <a class="ref fn" href="lj_record.h.html#lj_record_stop" title='lj_record_stop' data-ref="lj_record_stop" data-ref-filename="lj_record_stop">lj_record_stop</a>(<a class="local col0 ref" href="#10J" title='J' data-ref="10J" data-ref-filename="10J">J</a>, <a class="enum" href="lj_jit.h.html#LJ_TRLINK_STITCH" title='LJ_TRLINK_STITCH' data-ref="LJ_TRLINK_STITCH" data-ref-filename="LJ_TRLINK_STITCH">LJ_TRLINK_STITCH</a>, <var>0</var>);</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>  <i>/* Undo Lua stack changes. */</i></td></tr>
<tr><th id="140">140</th><td>  <a class="ref fn" href="../include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(&amp;<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>[-<var>1</var>-<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>], &amp;<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>[<var>1</var>], <b>sizeof</b>(<a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a>)*<a class="local col4 ref" href="#14nslot" title='nslot' data-ref="14nslot" data-ref-filename="14nslot">nslot</a>);</td></tr>
<tr><th id="141">141</th><td>  <a class="macro" href="lj_frame.h.html#51" title="((base-1)-&gt;ftsz = (int64_t)(intptr_t)(pc))" data-ref="_M/setframe_pc">setframe_pc</a>(<a class="local col3 ref" href="#13base" title='base' data-ref="13base" data-ref-filename="13base">base</a>-<var>1</var>, <a class="local col6 ref" href="#16pc" title='pc' data-ref="16pc" data-ref-filename="16pc">pc</a>);</td></tr>
<tr><th id="142">142</th><td>  <a class="local col2 ref" href="#12L" title='L' data-ref="12L" data-ref-filename="12L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a> -= <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="143">143</th><td>  <a class="local col2 ref" href="#12L" title='L' data-ref="12L" data-ref-filename="12L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::top" title='lua_State::top' data-ref="lua_State::top" data-ref-filename="lua_State..top">top</a> -= <var>2</var> + <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>;</td></tr>
<tr><th id="144">144</th><td>}</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td><i  data-doc="recff_nyi">/* Fallback handler for fast functions that are not recorded (yet). */</i></td></tr>
<tr><th id="147">147</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_nyi" title='recff_nyi' data-type='void recff_nyi(jit_State * J, RecordFFData * rd)' data-ref="recff_nyi" data-ref-filename="recff_nyi">recff_nyi</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="18J" title='J' data-type='jit_State *' data-ref="18J" data-ref-filename="18J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="19rd" title='rd' data-type='RecordFFData *' data-ref="19rd" data-ref-filename="19rd">rd</dfn>)</td></tr>
<tr><th id="148">148</th><td>{</td></tr>
<tr><th id="149">149</th><td>  <b>if</b> (<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::cur" title='jit_State::cur' data-ref="jit_State::cur" data-ref-filename="jit_State..cur">cur</a>.<a class="ref field" href="lj_jit.h.html#GCtrace::nins" title='GCtrace::nins' data-ref="GCtrace::nins" data-ref-filename="GCtrace..nins">nins</a> &lt; (<a class="typedef" href="lj_ir.h.html#IRRef" title='IRRef' data-type='uint32_t' data-ref="IRRef" data-ref-filename="IRRef">IRRef</a>)<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::param" title='jit_State::param' data-ref="jit_State::param" data-ref-filename="jit_State..param">param</a>[<a class="enum" href="lj_jit.h.html#138" title='JIT_P_minstitch' data-ref="JIT_P_minstitch" data-ref-filename="JIT_P_minstitch">JIT_P_minstitch</a>] + <a class="enum" href="lj_ir.h.html#REF_BASE" title='REF_BASE' data-ref="REF_BASE" data-ref-filename="REF_BASE">REF_BASE</a>) {</td></tr>
<tr><th id="150">150</th><td>    <a class="ref fn" href="lj_trace.h.html#lj_trace_err_info" title='lj_trace_err_info' data-ref="lj_trace_err_info" data-ref-filename="lj_trace_err_info">lj_trace_err_info</a>(<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>, <a class="enum" href="lj_traceerr.h.html#10" title='LJ_TRERR_TRACEUV' data-ref="LJ_TRERR_TRACEUV" data-ref-filename="LJ_TRERR_TRACEUV">LJ_TRERR_TRACEUV</a>);</td></tr>
<tr><th id="151">151</th><td>  } <b>else</b> {</td></tr>
<tr><th id="152">152</th><td>    <i>/* Can only stitch from Lua call. */</i></td></tr>
<tr><th id="153">153</th><td>    <b>if</b> (<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::framedepth" title='jit_State::framedepth' data-ref="jit_State::framedepth" data-ref-filename="jit_State..framedepth">framedepth</a> &amp;&amp; <a class="macro" href="lj_frame.h.html#77" title="((((ptrdiff_t)(J-&gt;L-&gt;base-1)-&gt;ftsz) &amp; 3) == FRAME_LUA)" data-ref="_M/frame_islua">frame_islua</a>(<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a>-<var>1</var>)) {</td></tr>
<tr><th id="154">154</th><td>      <a class="typedef" href="lj_bc.h.html#BCOp" title='BCOp' data-type='enum BCOp' data-ref="BCOp" data-ref-filename="BCOp">BCOp</a> <dfn class="local col0 decl" id="20op" title='op' data-type='BCOp' data-ref="20op" data-ref-filename="20op">op</dfn> = <a class="macro" href="lj_bc.h.html#34" title="((BCOp)((*((const BCIns *)((ptrdiff_t)(J-&gt;L-&gt;base-1)-&gt;ftsz)))&amp;0xff))" data-ref="_M/bc_op">bc_op</a>(*<a class="macro" href="lj_frame.h.html#48" title="((const BCIns *)((ptrdiff_t)(J-&gt;L-&gt;base-1)-&gt;ftsz))" data-ref="_M/frame_pc">frame_pc</a>(<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a>-<var>1</var>));</td></tr>
<tr><th id="155">155</th><td>      <i>/* Stitched trace cannot start with *M op with variable # of args. */</i></td></tr>
<tr><th id="156">156</th><td>      <b>if</b> (!(<a class="local col0 ref" href="#20op" title='op' data-ref="20op" data-ref-filename="20op">op</a> == <a class="enum" href="lj_bc.h.html#202" title='BC_CALLM' data-ref="BC_CALLM" data-ref-filename="BC_CALLM">BC_CALLM</a> || <a class="local col0 ref" href="#20op" title='op' data-ref="20op" data-ref-filename="20op">op</a> == <a class="enum" href="lj_bc.h.html#202" title='BC_CALLMT' data-ref="BC_CALLMT" data-ref-filename="BC_CALLMT">BC_CALLMT</a> ||</td></tr>
<tr><th id="157">157</th><td>	    <a class="local col0 ref" href="#20op" title='op' data-ref="20op" data-ref-filename="20op">op</a> == <a class="enum" href="lj_bc.h.html#202" title='BC_RETM' data-ref="BC_RETM" data-ref-filename="BC_RETM">BC_RETM</a> || <a class="local col0 ref" href="#20op" title='op' data-ref="20op" data-ref-filename="20op">op</a> == <a class="enum" href="lj_bc.h.html#202" title='BC_TSETM' data-ref="BC_TSETM" data-ref-filename="BC_TSETM">BC_TSETM</a>)) {</td></tr>
<tr><th id="158">158</th><td>	<b>switch</b> (<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::fn" title='jit_State::fn' data-ref="jit_State::fn" data-ref-filename="jit_State..fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#456" title='GCfuncC::ffid' data-ref="GCfuncC::ffid" data-ref-filename="GCfuncC..ffid">ffid</a>) {</td></tr>
<tr><th id="159">159</th><td>	<b>case</b> <a class="enum" href="lj_ffdef.h.html#20" title='FF_error' data-ref="FF_error" data-ref-filename="FF_error">FF_error</a>:</td></tr>
<tr><th id="160">160</th><td>	<b>case</b> <a class="enum" href="lj_ffdef.h.html#140" title='FF_debug_sethook' data-ref="FF_debug_sethook" data-ref-filename="FF_debug_sethook">FF_debug_sethook</a>:</td></tr>
<tr><th id="161">161</th><td>	<b>case</b> <a class="enum" href="lj_ffdef.h.html#146" title='FF_jit_flush' data-ref="FF_jit_flush" data-ref-filename="FF_jit_flush">FF_jit_flush</a>:</td></tr>
<tr><th id="162">162</th><td>	  <b>break</b>;  <i>/* Don't stitch across special builtins. */</i></td></tr>
<tr><th id="163">163</th><td>	<b>default</b>:</td></tr>
<tr><th id="164">164</th><td>	  <a class="tu ref fn" href="#recff_stitch" title='recff_stitch' data-use='c' data-ref="recff_stitch" data-ref-filename="recff_stitch">recff_stitch</a>(<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>);  <i>/* Use trace stitching. */</i></td></tr>
<tr><th id="165">165</th><td>	  <a class="local col9 ref" href="#19rd" title='rd' data-ref="19rd" data-ref-filename="19rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = -<var>1</var>;</td></tr>
<tr><th id="166">166</th><td>	  <b>return</b>;</td></tr>
<tr><th id="167">167</th><td>	}</td></tr>
<tr><th id="168">168</th><td>      }</td></tr>
<tr><th id="169">169</th><td>    }</td></tr>
<tr><th id="170">170</th><td>    <i>/* Otherwise stop trace and return to interpreter. */</i></td></tr>
<tr><th id="171">171</th><td>    <a class="ref fn" href="lj_record.h.html#lj_record_stop" title='lj_record_stop' data-ref="lj_record_stop" data-ref-filename="lj_record_stop">lj_record_stop</a>(<a class="local col8 ref" href="#18J" title='J' data-ref="18J" data-ref-filename="18J">J</a>, <a class="enum" href="lj_jit.h.html#LJ_TRLINK_RETURN" title='LJ_TRLINK_RETURN' data-ref="LJ_TRLINK_RETURN" data-ref-filename="LJ_TRLINK_RETURN">LJ_TRLINK_RETURN</a>, <var>0</var>);</td></tr>
<tr><th id="172">172</th><td>    <a class="local col9 ref" href="#19rd" title='rd' data-ref="19rd" data-ref-filename="19rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = -<var>1</var>;</td></tr>
<tr><th id="173">173</th><td>  }</td></tr>
<tr><th id="174">174</th><td>}</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td><i>/* Fallback handler for unsupported variants of fast functions. */</i></td></tr>
<tr><th id="177">177</th><td><u>#define <dfn class="macro" id="_M/recff_nyiu" data-ref="_M/recff_nyiu">recff_nyiu</dfn>	<a class="tu ref fn" href="#recff_nyi" title='recff_nyi' data-use='c' data-ref="recff_nyi" data-ref-filename="recff_nyi">recff_nyi</a></u></td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><i>/* Must stop the trace for classic C functions with arbitrary side-effects. */</i></td></tr>
<tr><th id="180">180</th><td><u>#define <dfn class="macro" id="_M/recff_c" data-ref="_M/recff_c">recff_c</dfn>		recff_nyi</u></td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><i  data-doc="recff_bufhdr">/* Emit BUFHDR for the global temporary buffer. */</i></td></tr>
<tr><th id="183">183</th><td><em>static</em> <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="tu decl def fn" id="recff_bufhdr" title='recff_bufhdr' data-type='TRef recff_bufhdr(jit_State * J)' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="21J" title='J' data-type='jit_State *' data-ref="21J" data-ref-filename="21J">J</dfn>)</td></tr>
<tr><th id="184">184</th><td>{</td></tr>
<tr><th id="185">185</th><td>  <b>return</b> <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_BUFHDR)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((lj_ir_kptr_(J, IR_KPTR, (&amp;(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)-&gt;tmpbuf)))), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_BUFHDR)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFHDR' data-ref="IR_BUFHDR" data-ref-filename="IR_BUFHDR">IR_BUFHDR</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>),</td></tr>
<tr><th id="186">186</th><td>		<a class="macro" href="lj_iropt.h.html#69" title="lj_ir_kptr_(J, IR_KPTR, (&amp;(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)-&gt;tmpbuf))" data-ref="_M/lj_ir_kptr">lj_ir_kptr</a>(<a class="local col1 ref" href="#21J" title='J' data-ref="21J" data-ref-filename="21J">J</a>, &amp;<a class="macro" href="lj_dispatch.h.html#115" title="(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)" data-ref="_M/J2G">J2G</a>(<a class="local col1 ref" href="#21J" title='J' data-ref="21J" data-ref-filename="21J">J</a>)-&gt;<a class="ref field" href="lj_obj.h.html#global_State::tmpbuf" title='global_State::tmpbuf' data-ref="global_State::tmpbuf" data-ref-filename="global_State..tmpbuf">tmpbuf</a>), <a class="macro" href="lj_ir.h.html#235" title="0" data-ref="_M/IRBUFHDR_RESET">IRBUFHDR_RESET</a>);</td></tr>
<tr><th id="187">187</th><td>}</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td><i  data-doc="recff_assert">/* -- Base library fast functions ----------------------------------------- */</i></td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_assert" title='recff_assert' data-type='void recff_assert(jit_State * J, RecordFFData * rd)' data-ref="recff_assert" data-ref-filename="recff_assert">recff_assert</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="22J" title='J' data-type='jit_State *' data-ref="22J" data-ref-filename="22J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="23rd" title='rd' data-type='RecordFFData *' data-ref="23rd" data-ref-filename="23rd">rd</dfn>)</td></tr>
<tr><th id="192">192</th><td>{</td></tr>
<tr><th id="193">193</th><td>  <i>/* Arguments already specialized. The interpreter throws for nil/false. */</i></td></tr>
<tr><th id="194">194</th><td>  <a class="local col3 ref" href="#23rd" title='rd' data-ref="23rd" data-ref-filename="23rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <a class="local col2 ref" href="#22J" title='J' data-ref="22J" data-ref-filename="22J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a>;  <i>/* Pass through all arguments. */</i></td></tr>
<tr><th id="195">195</th><td>}</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_type" title='recff_type' data-type='void recff_type(jit_State * J, RecordFFData * rd)' data-ref="recff_type" data-ref-filename="recff_type">recff_type</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="24J" title='J' data-type='jit_State *' data-ref="24J" data-ref-filename="24J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="25rd" title='rd' data-type='RecordFFData *' data-ref="25rd" data-ref-filename="25rd">rd</dfn>)</td></tr>
<tr><th id="198">198</th><td>{</td></tr>
<tr><th id="199">199</th><td>  <i>/* Arguments already specialized. Result is a constant string. Neat, huh? */</i></td></tr>
<tr><th id="200">200</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="26t" title='t' data-type='uint32_t' data-ref="26t" data-ref-filename="26t">t</dfn>;</td></tr>
<tr><th id="201">201</th><td>  <b>if</b> (<a class="macro" href="lj_obj.h.html#796" title="(((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)) &lt;= (~13u))" data-ref="_M/tvisnumber">tvisnumber</a>(&amp;<a class="local col5 ref" href="#25rd" title='rd' data-ref="25rd" data-ref-filename="25rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]))</td></tr>
<tr><th id="202">202</th><td>    <a class="local col6 ref" href="#26t" title='t' data-ref="26t" data-ref-filename="26t">t</a> = ~<a class="macro" href="lj_obj.h.html#274" title="(~13u)" data-ref="_M/LJ_TNUMX">LJ_TNUMX</a>;</td></tr>
<tr><th id="203">203</th><td>  <b>else</b> <b>if</b> (<a class="macro" href="lj_arch.h.html#600" title="1" data-ref="_M/LJ_64">LJ_64</a> &amp;&amp; !<a class="macro" href="lj_arch.h.html#526" title="1" data-ref="_M/LJ_GC64">LJ_GC64</a> &amp;&amp; <a class="macro" href="lj_obj.h.html#787" title="(((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)) == (~3u))" data-ref="_M/tvislightud">tvislightud</a>(&amp;<a class="local col5 ref" href="#25rd" title='rd' data-ref="25rd" data-ref-filename="25rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]))</td></tr>
<tr><th id="204">204</th><td>    <a class="local col6 ref" href="#26t" title='t' data-ref="26t" data-ref-filename="26t">t</a> = ~<a class="macro" href="lj_obj.h.html#263" title="(~3u)" data-ref="_M/LJ_TLIGHTUD">LJ_TLIGHTUD</a>;</td></tr>
<tr><th id="205">205</th><td>  <b>else</b></td></tr>
<tr><th id="206">206</th><td>    <a class="local col6 ref" href="#26t" title='t' data-ref="26t" data-ref-filename="26t">t</a> = ~<a class="macro" href="lj_obj.h.html#775" title="((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47))" data-ref="_M/itype">itype</a>(&amp;<a class="local col5 ref" href="#25rd" title='rd' data-ref="25rd" data-ref-filename="25rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="207">207</th><td>  <a class="local col4 ref" href="#24J" title='J' data-ref="24J" data-ref-filename="24J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)(((&amp;((GCobj *)((((&amp;J-&gt;fn-&gt;c.upvalue[t])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col4 ref" href="#24J" title='J' data-ref="24J" data-ref-filename="24J">J</a>, <a class="macro" href="lj_obj.h.html#852" title="(&amp;((GCobj *)((((&amp;J-&gt;fn-&gt;c.upvalue[t])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)" data-ref="_M/strV">strV</a>(&amp;<a class="local col4 ref" href="#24J" title='J' data-ref="24J" data-ref-filename="24J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::fn" title='jit_State::fn' data-ref="jit_State::fn" data-ref-filename="jit_State..fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#GCfuncC::upvalue" title='GCfuncC::upvalue' data-ref="GCfuncC::upvalue" data-ref-filename="GCfuncC..upvalue">upvalue</a>[<a class="local col6 ref" href="#26t" title='t' data-ref="26t" data-ref-filename="26t">t</a>]));</td></tr>
<tr><th id="208">208</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col5 ref" href="#25rd" title='rd' data-ref="25rd" data-ref-filename="25rd">rd</a>);</td></tr>
<tr><th id="209">209</th><td>}</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_getmetatable" title='recff_getmetatable' data-type='void recff_getmetatable(jit_State * J, RecordFFData * rd)' data-ref="recff_getmetatable" data-ref-filename="recff_getmetatable">recff_getmetatable</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="27J" title='J' data-type='jit_State *' data-ref="27J" data-ref-filename="27J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="28rd" title='rd' data-type='RecordFFData *' data-ref="28rd" data-ref-filename="28rd">rd</dfn>)</td></tr>
<tr><th id="212">212</th><td>{</td></tr>
<tr><th id="213">213</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="29tr" title='tr' data-type='TRef' data-ref="29tr" data-ref-filename="29tr">tr</dfn> = <a class="local col7 ref" href="#27J" title='J' data-ref="27J" data-ref-filename="27J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="214">214</th><td>  <b>if</b> (<a class="local col9 ref" href="#29tr" title='tr' data-ref="29tr" data-ref-filename="29tr">tr</a>) {</td></tr>
<tr><th id="215">215</th><td>    <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col0 decl" id="30ix" title='ix' data-type='RecordIndex' data-ref="30ix" data-ref-filename="30ix">ix</dfn>;</td></tr>
<tr><th id="216">216</th><td>    <a class="local col0 ref" href="#30ix" title='ix' data-ref="30ix" data-ref-filename="30ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col9 ref" href="#29tr" title='tr' data-ref="29tr" data-ref-filename="29tr">tr</a>;</td></tr>
<tr><th id="217">217</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col7 ref" href="#27J" title='J' data-ref="27J" data-ref-filename="27J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col0 ref" href="#30ix" title='ix' data-ref="30ix" data-ref-filename="30ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, &amp;<a class="local col8 ref" href="#28rd" title='rd' data-ref="28rd" data-ref-filename="28rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="218">218</th><td>    <b>if</b> (<a class="ref fn" href="lj_record.h.html#lj_record_mm_lookup" title='lj_record_mm_lookup' data-ref="lj_record_mm_lookup" data-ref-filename="lj_record_mm_lookup">lj_record_mm_lookup</a>(<a class="local col7 ref" href="#27J" title='J' data-ref="27J" data-ref-filename="27J">J</a>, &amp;<a class="local col0 ref" href="#30ix" title='ix' data-ref="30ix" data-ref-filename="30ix">ix</a>, <a class="enum" href="lj_obj.h.html#564" title='MM_metatable' data-ref="MM_metatable" data-ref-filename="MM_metatable">MM_metatable</a>))</td></tr>
<tr><th id="219">219</th><td>      <a class="local col7 ref" href="#27J" title='J' data-ref="27J" data-ref-filename="27J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col0 ref" href="#30ix" title='ix' data-ref="30ix" data-ref-filename="30ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::mobj" title='RecordIndex::mobj' data-ref="RecordIndex::mobj" data-ref-filename="RecordIndex..mobj">mobj</a>;</td></tr>
<tr><th id="220">220</th><td>    <b>else</b></td></tr>
<tr><th id="221">221</th><td>      <a class="local col7 ref" href="#27J" title='J' data-ref="27J" data-ref-filename="27J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col0 ref" href="#30ix" title='ix' data-ref="30ix" data-ref-filename="30ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::mt" title='RecordIndex::mt' data-ref="RecordIndex::mt" data-ref-filename="RecordIndex..mt">mt</a>;</td></tr>
<tr><th id="222">222</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="223">223</th><td>}</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_setmetatable" title='recff_setmetatable' data-type='void recff_setmetatable(jit_State * J, RecordFFData * rd)' data-ref="recff_setmetatable" data-ref-filename="recff_setmetatable">recff_setmetatable</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="31J" title='J' data-type='jit_State *' data-ref="31J" data-ref-filename="31J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="32rd" title='rd' data-type='RecordFFData *' data-ref="32rd" data-ref-filename="32rd">rd</dfn>)</td></tr>
<tr><th id="226">226</th><td>{</td></tr>
<tr><th id="227">227</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="33tr" title='tr' data-type='TRef' data-ref="33tr" data-ref-filename="33tr">tr</dfn> = <a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="228">228</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="34mt" title='mt' data-type='TRef' data-ref="34mt" data-ref-filename="34mt">mt</dfn> = <a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>];</td></tr>
<tr><th id="229">229</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col3 ref" href="#33tr" title='tr' data-ref="33tr" data-ref-filename="33tr">tr</a>) &amp;&amp; (<a class="macro" href="lj_ir.h.html#502" title="(((((mt)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a>) || (<a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a> &amp;&amp; <a class="macro" href="lj_ir.h.html#495" title="(((((mt)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a>)))) {</td></tr>
<tr><th id="230">230</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="35fref" title='fref' data-type='TRef' data-ref="35fref" data-ref-filename="35fref">fref</dfn>, <dfn class="local col6 decl" id="36mtref" title='mtref' data-type='TRef' data-ref="36mtref" data-ref-filename="36mtref">mtref</dfn>;</td></tr>
<tr><th id="231">231</th><td>    <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col7 decl" id="37ix" title='ix' data-type='RecordIndex' data-ref="37ix" data-ref-filename="37ix">ix</dfn>;</td></tr>
<tr><th id="232">232</th><td>    <a class="local col7 ref" href="#37ix" title='ix' data-ref="37ix" data-ref-filename="37ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col3 ref" href="#33tr" title='tr' data-ref="33tr" data-ref-filename="33tr">tr</a>;</td></tr>
<tr><th id="233">233</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col7 ref" href="#37ix" title='ix' data-ref="37ix" data-ref-filename="37ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, &amp;<a class="local col2 ref" href="#32rd" title='rd' data-ref="32rd" data-ref-filename="32rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="234">234</th><td>    <a class="ref fn" href="lj_record.h.html#lj_record_mm_lookup" title='lj_record_mm_lookup' data-ref="lj_record_mm_lookup" data-ref-filename="lj_record_mm_lookup">lj_record_mm_lookup</a>(<a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>, &amp;<a class="local col7 ref" href="#37ix" title='ix' data-ref="37ix" data-ref-filename="37ix">ix</a>, <a class="enum" href="lj_obj.h.html#564" title='MM_metatable' data-ref="MM_metatable" data-ref-filename="MM_metatable">MM_metatable</a>); <i>/* Guard for no __metatable. */</i></td></tr>
<tr><th id="235">235</th><td>    <a class="local col5 ref" href="#35fref" title='fref' data-ref="35fref" data-ref-filename="35fref">fref</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((tr)), (IRRef1)((IRFL_TAB_META))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FREF' data-ref="IR_FREF" data-ref-filename="IR_FREF">IR_FREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col3 ref" href="#33tr" title='tr' data-ref="33tr" data-ref-filename="33tr">tr</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_TAB_META' data-ref="IRFL_TAB_META" data-ref-filename="IRFL_TAB_META">IRFL_TAB_META</a>);</td></tr>
<tr><th id="236">236</th><td>    <a class="local col6 ref" href="#36mtref" title='mtref' data-ref="36mtref" data-ref-filename="36mtref">mtref</a> = <a class="macro" href="lj_ir.h.html#495" title="(((((mt)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a>) ? <a class="ref fn" href="lj_iropt.h.html#lj_ir_knull" title='lj_ir_knull' data-ref="lj_ir_knull" data-ref-filename="lj_ir_knull">lj_ir_knull</a>(<a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>) : <a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a>;</td></tr>
<tr><th id="237">237</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FSTORE)&lt;&lt;8) | (IRT_TAB))))), (IRRef1)((fref)), (IRRef1)((mtref))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FSTORE)&lt;&lt;8) | (IRT_TAB)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FSTORE' data-ref="IR_FSTORE" data-ref-filename="IR_FSTORE">IR_FSTORE</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col5 ref" href="#35fref" title='fref' data-ref="35fref" data-ref-filename="35fref">fref</a>, <a class="local col6 ref" href="#36mtref" title='mtref' data-ref="36mtref" data-ref-filename="36mtref">mtref</a>);</td></tr>
<tr><th id="238">238</th><td>    <b>if</b> (!<a class="macro" href="lj_ir.h.html#495" title="(((((mt)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col4 ref" href="#34mt" title='mt' data-ref="34mt" data-ref-filename="34mt">mt</a>))</td></tr>
<tr><th id="239">239</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TBAR)&lt;&lt;8) | (IRT_TAB))))), (IRRef1)((tr)), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_TBAR)&lt;&lt;8) | (IRT_TAB)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_TBAR' data-ref="IR_TBAR" data-ref-filename="IR_TBAR">IR_TBAR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col3 ref" href="#33tr" title='tr' data-ref="33tr" data-ref-filename="33tr">tr</a>, <var>0</var>);</td></tr>
<tr><th id="240">240</th><td>    <a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col3 ref" href="#33tr" title='tr' data-ref="33tr" data-ref-filename="33tr">tr</a>;</td></tr>
<tr><th id="241">241</th><td>    <a class="local col1 ref" href="#31J" title='J' data-ref="31J" data-ref-filename="31J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::needsnap" title='jit_State::needsnap' data-ref="jit_State::needsnap" data-ref-filename="jit_State..needsnap">needsnap</a> = <var>1</var>;</td></tr>
<tr><th id="242">242</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="243">243</th><td>}</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_rawget" title='recff_rawget' data-type='void recff_rawget(jit_State * J, RecordFFData * rd)' data-ref="recff_rawget" data-ref-filename="recff_rawget">recff_rawget</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="38J" title='J' data-type='jit_State *' data-ref="38J" data-ref-filename="38J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="39rd" title='rd' data-type='RecordFFData *' data-ref="39rd" data-ref-filename="39rd">rd</dfn>)</td></tr>
<tr><th id="246">246</th><td>{</td></tr>
<tr><th id="247">247</th><td>  <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col0 decl" id="40ix" title='ix' data-type='RecordIndex' data-ref="40ix" data-ref-filename="40ix">ix</dfn>;</td></tr>
<tr><th id="248">248</th><td>  <a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]; <a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> = <a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>];</td></tr>
<tr><th id="249">249</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((ix.tab)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a>) &amp;&amp; <a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a>) {</td></tr>
<tr><th id="250">250</th><td>    <a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a> = <var>0</var>; <a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::idxchain" title='RecordIndex::idxchain' data-ref="RecordIndex::idxchain" data-ref-filename="RecordIndex..idxchain">idxchain</a> = <var>0</var>;</td></tr>
<tr><th id="251">251</th><td>    <a class="ref fn" href="lj_obj.h.html#935" title='settabV' data-ref="settabV" data-ref-filename="settabV">settabV</a>(<a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, <a class="macro" href="lj_obj.h.html#857" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)" data-ref="_M/tabV">tabV</a>(&amp;<a class="local col9 ref" href="#39rd" title='rd' data-ref="39rd" data-ref-filename="39rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]));</td></tr>
<tr><th id="252">252</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::keyv" title='RecordIndex::keyv' data-ref="RecordIndex::keyv" data-ref-filename="RecordIndex..keyv">keyv</a>, &amp;<a class="local col9 ref" href="#39rd" title='rd' data-ref="39rd" data-ref-filename="39rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="253">253</th><td>    <a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_record.h.html#lj_record_idx" title='lj_record_idx' data-ref="lj_record_idx" data-ref-filename="lj_record_idx">lj_record_idx</a>(<a class="local col8 ref" href="#38J" title='J' data-ref="38J" data-ref-filename="38J">J</a>, &amp;<a class="local col0 ref" href="#40ix" title='ix' data-ref="40ix" data-ref-filename="40ix">ix</a>);</td></tr>
<tr><th id="254">254</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="255">255</th><td>}</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_rawset" title='recff_rawset' data-type='void recff_rawset(jit_State * J, RecordFFData * rd)' data-ref="recff_rawset" data-ref-filename="recff_rawset">recff_rawset</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="41J" title='J' data-type='jit_State *' data-ref="41J" data-ref-filename="41J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="42rd" title='rd' data-type='RecordFFData *' data-ref="42rd" data-ref-filename="42rd">rd</dfn>)</td></tr>
<tr><th id="258">258</th><td>{</td></tr>
<tr><th id="259">259</th><td>  <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col3 decl" id="43ix" title='ix' data-type='RecordIndex' data-ref="43ix" data-ref-filename="43ix">ix</dfn>;</td></tr>
<tr><th id="260">260</th><td>  <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]; <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> = <a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]; <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a> = <a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>];</td></tr>
<tr><th id="261">261</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((ix.tab)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a>) &amp;&amp; <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> &amp;&amp; <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a>) {</td></tr>
<tr><th id="262">262</th><td>    <a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::idxchain" title='RecordIndex::idxchain' data-ref="RecordIndex::idxchain" data-ref-filename="RecordIndex..idxchain">idxchain</a> = <var>0</var>;</td></tr>
<tr><th id="263">263</th><td>    <a class="ref fn" href="lj_obj.h.html#935" title='settabV' data-ref="settabV" data-ref-filename="settabV">settabV</a>(<a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, <a class="macro" href="lj_obj.h.html#857" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)" data-ref="_M/tabV">tabV</a>(&amp;<a class="local col2 ref" href="#42rd" title='rd' data-ref="42rd" data-ref-filename="42rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]));</td></tr>
<tr><th id="264">264</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::keyv" title='RecordIndex::keyv' data-ref="RecordIndex::keyv" data-ref-filename="RecordIndex..keyv">keyv</a>, &amp;<a class="local col2 ref" href="#42rd" title='rd' data-ref="42rd" data-ref-filename="42rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="265">265</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::valv" title='RecordIndex::valv' data-ref="RecordIndex::valv" data-ref-filename="RecordIndex..valv">valv</a>, &amp;<a class="local col2 ref" href="#42rd" title='rd' data-ref="42rd" data-ref-filename="42rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>2</var>]);</td></tr>
<tr><th id="266">266</th><td>    <a class="ref fn" href="lj_record.h.html#lj_record_idx" title='lj_record_idx' data-ref="lj_record_idx" data-ref-filename="lj_record_idx">lj_record_idx</a>(<a class="local col1 ref" href="#41J" title='J' data-ref="41J" data-ref-filename="41J">J</a>, &amp;<a class="local col3 ref" href="#43ix" title='ix' data-ref="43ix" data-ref-filename="43ix">ix</a>);</td></tr>
<tr><th id="267">267</th><td>    <i>/* Pass through table at J-&gt;base[0] as result. */</i></td></tr>
<tr><th id="268">268</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="269">269</th><td>}</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_rawequal" title='recff_rawequal' data-type='void recff_rawequal(jit_State * J, RecordFFData * rd)' data-ref="recff_rawequal" data-ref-filename="recff_rawequal">recff_rawequal</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="44J" title='J' data-type='jit_State *' data-ref="44J" data-ref-filename="44J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="45rd" title='rd' data-type='RecordFFData *' data-ref="45rd" data-ref-filename="45rd">rd</dfn>)</td></tr>
<tr><th id="272">272</th><td>{</td></tr>
<tr><th id="273">273</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="46tra" title='tra' data-type='TRef' data-ref="46tra" data-ref-filename="46tra">tra</dfn> = <a class="local col4 ref" href="#44J" title='J' data-ref="44J" data-ref-filename="44J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="274">274</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="47trb" title='trb' data-type='TRef' data-ref="47trb" data-ref-filename="47trb">trb</dfn> = <a class="local col4 ref" href="#44J" title='J' data-ref="44J" data-ref-filename="44J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>];</td></tr>
<tr><th id="275">275</th><td>  <b>if</b> (<a class="local col6 ref" href="#46tra" title='tra' data-ref="46tra" data-ref-filename="46tra">tra</a> &amp;&amp; <a class="local col7 ref" href="#47trb" title='trb' data-ref="47trb" data-ref-filename="47trb">trb</a>) {</td></tr>
<tr><th id="276">276</th><td>    <em>int</em> <dfn class="local col8 decl" id="48diff" title='diff' data-type='int' data-ref="48diff" data-ref-filename="48diff">diff</dfn> = <a class="ref fn" href="lj_record.h.html#lj_record_objcmp" title='lj_record_objcmp' data-ref="lj_record_objcmp" data-ref-filename="lj_record_objcmp">lj_record_objcmp</a>(<a class="local col4 ref" href="#44J" title='J' data-ref="44J" data-ref-filename="44J">J</a>, <a class="local col6 ref" href="#46tra" title='tra' data-ref="46tra" data-ref-filename="46tra">tra</a>, <a class="local col7 ref" href="#47trb" title='trb' data-ref="47trb" data-ref-filename="47trb">trb</a>, &amp;<a class="local col5 ref" href="#45rd" title='rd' data-ref="45rd" data-ref-filename="45rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col5 ref" href="#45rd" title='rd' data-ref="45rd" data-ref-filename="45rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="277">277</th><td>    <a class="local col4 ref" href="#44J" title='J' data-ref="44J" data-ref-filename="44J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col8 ref" href="#48diff" title='diff' data-ref="48diff" data-ref-filename="48diff">diff</a> ? <a class="macro" href="lj_ir.h.html#520" title="((((TRef)((REF_NIL-(IRT_FALSE)) + (((IRT_FALSE))&lt;&lt;24)))))" data-ref="_M/TREF_FALSE">TREF_FALSE</a> : <a class="macro" href="lj_ir.h.html#521" title="((((TRef)((REF_NIL-(IRT_TRUE)) + (((IRT_TRUE))&lt;&lt;24)))))" data-ref="_M/TREF_TRUE">TREF_TRUE</a>;</td></tr>
<tr><th id="278">278</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="279">279</th><td>}</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td><u>#<span data-ppcond="281">if</span> <a class="macro" href="lj_arch.h.html#657" title="0" data-ref="_M/LJ_52">LJ_52</a></u></td></tr>
<tr><th id="282">282</th><td><em>static</em> <em>void</em> LJ_FASTCALL recff_rawlen(jit_State *J, RecordFFData *rd)</td></tr>
<tr><th id="283">283</th><td>{</td></tr>
<tr><th id="284">284</th><td>  TRef tr = J-&gt;base[<var>0</var>];</td></tr>
<tr><th id="285">285</th><td>  <b>if</b> (tref_isstr(tr))</td></tr>
<tr><th id="286">286</th><td>    J-&gt;base[<var>0</var>] = emitir(IRTI(IR_FLOAD), tr, IRFL_STR_LEN);</td></tr>
<tr><th id="287">287</th><td>  <b>else</b> <b>if</b> (tref_istab(tr))</td></tr>
<tr><th id="288">288</th><td>    J-&gt;base[<var>0</var>] = emitir(IRTI(IR_ALEN), tr, TREF_NIL);</td></tr>
<tr><th id="289">289</th><td>  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="290">290</th><td>  UNUSED(rd);</td></tr>
<tr><th id="291">291</th><td>}</td></tr>
<tr><th id="292">292</th><td><u>#<span data-ppcond="281">endif</span></u></td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td><i>/* Determine mode of select() call. */</i></td></tr>
<tr><th id="295">295</th><td><a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="decl def fn" id="lj_ffrecord_select_mode" title='lj_ffrecord_select_mode' data-ref="lj_ffrecord_select_mode" data-ref-filename="lj_ffrecord_select_mode">lj_ffrecord_select_mode</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col9 decl" id="49J" title='J' data-type='jit_State *' data-ref="49J" data-ref-filename="49J">J</dfn>, <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="50tr" title='tr' data-type='TRef' data-ref="50tr" data-ref-filename="50tr">tr</dfn>, <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="local col1 decl" id="51tv" title='tv' data-type='TValue *' data-ref="51tv" data-ref-filename="51tv">tv</dfn>)</td></tr>
<tr><th id="296">296</th><td>{</td></tr>
<tr><th id="297">297</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#499" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_STR)&lt;&lt;24)))" data-ref="_M/tref_isstr">tref_isstr</a>(<a class="local col0 ref" href="#50tr" title='tr' data-ref="50tr" data-ref-filename="50tr">tr</a>) &amp;&amp; *<a class="macro" href="lj_obj.h.html#315" title="((const char *)(((&amp;((GCobj *)((((tv)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str))+1))" data-ref="_M/strVdata">strVdata</a>(<a class="local col1 ref" href="#51tv" title='tv' data-ref="51tv" data-ref-filename="51tv">tv</a>) == <kbd>'#'</kbd>) {  <i>/* select('#', ...) */</i></td></tr>
<tr><th id="298">298</th><td>    <b>if</b> (<a class="macro" href="lj_obj.h.html#852" title="(&amp;((GCobj *)((((tv)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)" data-ref="_M/strV">strV</a>(<a class="local col1 ref" href="#51tv" title='tv' data-ref="51tv" data-ref-filename="51tv">tv</a>)-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a> == <var>1</var>) {</td></tr>
<tr><th id="299">299</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kgc(J, ((GCobj *)(((&amp;((GCobj *)((((tv)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)))), IRT_STR)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#50tr" title='tr' data-ref="50tr" data-ref-filename="50tr">tr</a>, <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)(((&amp;((GCobj *)((((tv)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J">J</a>, <a class="macro" href="lj_obj.h.html#852" title="(&amp;((GCobj *)((((tv)-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)" data-ref="_M/strV">strV</a>(<a class="local col1 ref" href="#51tv" title='tv' data-ref="51tv" data-ref-filename="51tv">tv</a>)));</td></tr>
<tr><th id="300">300</th><td>    } <b>else</b> {</td></tr>
<tr><th id="301">301</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="52trptr" title='trptr' data-type='TRef' data-ref="52trptr" data-ref-filename="52trptr">trptr</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kint(J, 0)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#50tr" title='tr' data-ref="50tr" data-ref-filename="50tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J">J</a>, <var>0</var>));</td></tr>
<tr><th id="302">302</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="53trchar" title='trchar' data-type='TRef' data-ref="53trchar" data-ref-filename="53trchar">trchar</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8))))), (IRRef1)((trptr)), (IRRef1)((1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_XLOAD' data-ref="IR_XLOAD" data-ref-filename="IR_XLOAD">IR_XLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_U8' data-ref="IRT_U8" data-ref-filename="IRT_U8">IRT_U8</a>), <a class="local col2 ref" href="#52trptr" title='trptr' data-ref="52trptr" data-ref-filename="52trptr">trptr</a>, <a class="macro" href="lj_ir.h.html#230" title="1" data-ref="_M/IRXLOAD_READONLY">IRXLOAD_READONLY</a>);</td></tr>
<tr><th id="303">303</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_INT))))))), (IRRef1)((trchar)), (IRRef1)((lj_ir_kint(J, &apos;#&apos;)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_INT)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_INT' data-ref="IRT_INT" data-ref-filename="IRT_INT">IRT_INT</a>), <a class="local col3 ref" href="#53trchar" title='trchar' data-ref="53trchar" data-ref-filename="53trchar">trchar</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J">J</a>, <kbd>'#'</kbd>));</td></tr>
<tr><th id="304">304</th><td>    }</td></tr>
<tr><th id="305">305</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="306">306</th><td>  } <b>else</b> {  <i>/* select(n, ...) */</i></td></tr>
<tr><th id="307">307</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col4 decl" id="54start" title='start' data-type='int32_t' data-ref="54start" data-ref-filename="54start">start</dfn> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J">J</a>, <a class="local col1 ref" href="#51tv" title='tv' data-ref="51tv" data-ref-filename="51tv">tv</a>);</td></tr>
<tr><th id="308">308</th><td>    <b>if</b> (<a class="local col4 ref" href="#54start" title='start' data-ref="54start" data-ref-filename="54start">start</a> == <var>0</var>) <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col9 ref" href="#49J" title='J' data-ref="49J" data-ref-filename="49J">J</a>, <a class="enum" href="lj_traceerr.h.html#24" title='LJ_TRERR_BADTYPE' data-ref="LJ_TRERR_BADTYPE" data-ref-filename="LJ_TRERR_BADTYPE">LJ_TRERR_BADTYPE</a>);  <i>/* A bit misleading. */</i></td></tr>
<tr><th id="309">309</th><td>    <b>return</b> <a class="local col4 ref" href="#54start" title='start' data-ref="54start" data-ref-filename="54start">start</a>;</td></tr>
<tr><th id="310">310</th><td>  }</td></tr>
<tr><th id="311">311</th><td>}</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_select" title='recff_select' data-type='void recff_select(jit_State * J, RecordFFData * rd)' data-ref="recff_select" data-ref-filename="recff_select">recff_select</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="55J" title='J' data-type='jit_State *' data-ref="55J" data-ref-filename="55J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="56rd" title='rd' data-type='RecordFFData *' data-ref="56rd" data-ref-filename="56rd">rd</dfn>)</td></tr>
<tr><th id="314">314</th><td>{</td></tr>
<tr><th id="315">315</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="57tr" title='tr' data-type='TRef' data-ref="57tr" data-ref-filename="57tr">tr</dfn> = <a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="316">316</th><td>  <b>if</b> (<a class="local col7 ref" href="#57tr" title='tr' data-ref="57tr" data-ref-filename="57tr">tr</a>) {</td></tr>
<tr><th id="317">317</th><td>    <span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="local col8 decl" id="58start" title='start' data-type='ptrdiff_t' data-ref="58start" data-ref-filename="58start">start</dfn> = <a class="ref fn" href="#lj_ffrecord_select_mode" title='lj_ffrecord_select_mode' data-ref="lj_ffrecord_select_mode" data-ref-filename="lj_ffrecord_select_mode">lj_ffrecord_select_mode</a>(<a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>, <a class="local col7 ref" href="#57tr" title='tr' data-ref="57tr" data-ref-filename="57tr">tr</a>, &amp;<a class="local col6 ref" href="#56rd" title='rd' data-ref="56rd" data-ref-filename="56rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="318">318</th><td>    <b>if</b> (<a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> == <var>0</var>) {  <i>/* select('#', ...) */</i></td></tr>
<tr><th id="319">319</th><td>      <a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>, <a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> - <var>1</var>);</td></tr>
<tr><th id="320">320</th><td>    } <b>else</b> <b>if</b> (<a class="macro" href="lj_ir.h.html#515" title="(((((IRRef1)((tr)))) &lt; REF_BIAS))" data-ref="_M/tref_isk">tref_isk</a>(<a class="local col7 ref" href="#57tr" title='tr' data-ref="57tr" data-ref-filename="57tr">tr</a>)) {  <i>/* select(k, ...) */</i></td></tr>
<tr><th id="321">321</th><td>      <span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="local col9 decl" id="59n" title='n' data-type='ptrdiff_t' data-ref="59n" data-ref-filename="59n">n</dfn> = (<span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span>)<a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a>;</td></tr>
<tr><th id="322">322</th><td>      <b>if</b> (<a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> &lt; <var>0</var>) <a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> += <a class="local col9 ref" href="#59n" title='n' data-ref="59n" data-ref-filename="59n">n</a>;</td></tr>
<tr><th id="323">323</th><td>      <b>else</b> <b>if</b> (<a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> &gt; <a class="local col9 ref" href="#59n" title='n' data-ref="59n" data-ref-filename="59n">n</a>) <a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> = <a class="local col9 ref" href="#59n" title='n' data-ref="59n" data-ref-filename="59n">n</a>;</td></tr>
<tr><th id="324">324</th><td>      <a class="local col6 ref" href="#56rd" title='rd' data-ref="56rd" data-ref-filename="56rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <a class="local col9 ref" href="#59n" title='n' data-ref="59n" data-ref-filename="59n">n</a> - <a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a>;</td></tr>
<tr><th id="325">325</th><td>      <b>if</b> (<a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a> &gt;= <var>1</var>) {</td></tr>
<tr><th id="326">326</th><td>	<span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="local col0 decl" id="60i" title='i' data-type='ptrdiff_t' data-ref="60i" data-ref-filename="60i">i</dfn>;</td></tr>
<tr><th id="327">327</th><td>	<b>for</b> (<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a> = <var>0</var>; <a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a> &lt; <a class="local col9 ref" href="#59n" title='n' data-ref="59n" data-ref-filename="59n">n</a> - <a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a>; <a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>++)</td></tr>
<tr><th id="328">328</th><td>	  <a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>] = <a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col8 ref" href="#58start" title='start' data-ref="58start" data-ref-filename="58start">start</a>+<a class="local col0 ref" href="#60i" title='i' data-ref="60i" data-ref-filename="60i">i</a>];</td></tr>
<tr><th id="329">329</th><td>      }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="330">330</th><td>    } <b>else</b> {</td></tr>
<tr><th id="331">331</th><td>      <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col5 ref" href="#55J" title='J' data-ref="55J" data-ref-filename="55J">J</a>, <a class="local col6 ref" href="#56rd" title='rd' data-ref="56rd" data-ref-filename="56rd">rd</a>);</td></tr>
<tr><th id="332">332</th><td>      <b>return</b>;</td></tr>
<tr><th id="333">333</th><td>    }</td></tr>
<tr><th id="334">334</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="335">335</th><td>}</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_tonumber" title='recff_tonumber' data-type='void recff_tonumber(jit_State * J, RecordFFData * rd)' data-ref="recff_tonumber" data-ref-filename="recff_tonumber">recff_tonumber</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="61J" title='J' data-type='jit_State *' data-ref="61J" data-ref-filename="61J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="62rd" title='rd' data-type='RecordFFData *' data-ref="62rd" data-ref-filename="62rd">rd</dfn>)</td></tr>
<tr><th id="338">338</th><td>{</td></tr>
<tr><th id="339">339</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="63tr" title='tr' data-type='TRef' data-ref="63tr" data-ref-filename="63tr">tr</dfn> = <a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="340">340</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="64base" title='base' data-type='TRef' data-ref="64base" data-ref-filename="64base">base</dfn> = <a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>];</td></tr>
<tr><th id="341">341</th><td>  <b>if</b> (<a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a> &amp;&amp; !<a class="macro" href="lj_ir.h.html#495" title="(((((base)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col4 ref" href="#64base" title='base' data-ref="64base" data-ref-filename="64base">base</a>)) {</td></tr>
<tr><th id="342">342</th><td>    <a class="local col4 ref" href="#64base" title='base' data-ref="64base" data-ref-filename="64base">base</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>, <a class="local col4 ref" href="#64base" title='base' data-ref="64base" data-ref-filename="64base">base</a>);</td></tr>
<tr><th id="343">343</th><td>    <b>if</b> (!<a class="macro" href="lj_ir.h.html#515" title="(((((IRRef1)((base)))) &lt; REF_BIAS))" data-ref="_M/tref_isk">tref_isk</a>(<a class="local col4 ref" href="#64base" title='base' data-ref="64base" data-ref-filename="64base">base</a>) || <a class="macro" href="#33" title="(&amp;J-&gt;cur.ir[(((IRRef1)(base)))])" data-ref="_M/IR">IR</a>(<a class="macro" href="lj_ir.h.html#488" title="((IRRef1)(base))" data-ref="_M/tref_ref">tref_ref</a>(<a class="local col4 ref" href="#64base" title='base' data-ref="64base" data-ref-filename="64base">base</a>))-&gt;<a class="ref field" href="lj_ir.h.html#IRIns::i" title='IRIns::i' data-ref="IRIns::i" data-ref-filename="IRIns..i">i</a> != <var>10</var>) {</td></tr>
<tr><th id="344">344</th><td>      <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>, <a class="local col2 ref" href="#62rd" title='rd' data-ref="62rd" data-ref-filename="62rd">rd</a>);</td></tr>
<tr><th id="345">345</th><td>      <b>return</b>;</td></tr>
<tr><th id="346">346</th><td>    }</td></tr>
<tr><th id="347">347</th><td>  }</td></tr>
<tr><th id="348">348</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#512" title="((((((((tr)))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_NUM) &lt;= (TRef)(IRT_INT-IRT_NUM))) || ((((((tr))) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_STR)&lt;&lt;24))))" data-ref="_M/tref_isnumber_str">tref_isnumber_str</a>(<a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a>)) {</td></tr>
<tr><th id="349">349</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#499" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_STR)&lt;&lt;24)))" data-ref="_M/tref_isstr">tref_isstr</a>(<a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a>)) {</td></tr>
<tr><th id="350">350</th><td>      <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> <dfn class="local col5 decl" id="65tmp" title='tmp' data-type='TValue' data-ref="65tmp" data-ref-filename="65tmp">tmp</dfn>;</td></tr>
<tr><th id="351">351</th><td>      <b>if</b> (!<a class="ref fn" href="lj_strscan.h.html#lj_strscan_num" title='lj_strscan_num' data-ref="lj_strscan_num" data-ref-filename="lj_strscan_num">lj_strscan_num</a>(<a class="macro" href="lj_obj.h.html#852" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;str)" data-ref="_M/strV">strV</a>(&amp;<a class="local col2 ref" href="#62rd" title='rd' data-ref="62rd" data-ref-filename="62rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]), &amp;<a class="local col5 ref" href="#65tmp" title='tmp' data-ref="65tmp" data-ref-filename="65tmp">tmp</a>)) {</td></tr>
<tr><th id="352">352</th><td>	<a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>, <a class="local col2 ref" href="#62rd" title='rd' data-ref="62rd" data-ref-filename="62rd">rd</a>);  <i>/* Would need an inverted STRTO for this case. */</i></td></tr>
<tr><th id="353">353</th><td>	<b>return</b>;</td></tr>
<tr><th id="354">354</th><td>      }</td></tr>
<tr><th id="355">355</th><td>      <a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_STRTO))&lt;&lt;8) | (IRT_GUARD|(IRT_NUM))))))), (IRRef1)((tr)), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_STRTO))&lt;&lt;8) | (IRT_GUARD|(IRT_NUM)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRTO' data-ref="IR_STRTO" data-ref-filename="IR_STRTO">IR_STRTO</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_NUM' data-ref="IRT_NUM" data-ref-filename="IRT_NUM">IRT_NUM</a>), <a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a>, <var>0</var>);</td></tr>
<tr><th id="356">356</th><td>    }</td></tr>
<tr><th id="357">357</th><td><u>#<span data-ppcond="357">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="358">358</th><td>  } <b>else</b> <b>if</b> (<a class="macro" href="lj_ir.h.html#501" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_CDATA)&lt;&lt;24)))" data-ref="_M/tref_iscdata">tref_iscdata</a>(<a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a>)) {</td></tr>
<tr><th id="359">359</th><td>    <a class="ref fn" href="lj_crecord.h.html#lj_crecord_tonumber" title='lj_crecord_tonumber' data-ref="lj_crecord_tonumber" data-ref-filename="lj_crecord_tonumber">lj_crecord_tonumber</a>(<a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>, <a class="local col2 ref" href="#62rd" title='rd' data-ref="62rd" data-ref-filename="62rd">rd</a>);</td></tr>
<tr><th id="360">360</th><td>    <b>return</b>;</td></tr>
<tr><th id="361">361</th><td><u>#<span data-ppcond="357">endif</span></u></td></tr>
<tr><th id="362">362</th><td>  } <b>else</b> {</td></tr>
<tr><th id="363">363</th><td>    <a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a> = <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>;</td></tr>
<tr><th id="364">364</th><td>  }</td></tr>
<tr><th id="365">365</th><td>  <a class="local col1 ref" href="#61J" title='J' data-ref="61J" data-ref-filename="61J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col3 ref" href="#63tr" title='tr' data-ref="63tr" data-ref-filename="63tr">tr</a>;</td></tr>
<tr><th id="366">366</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col2 ref" href="#62rd" title='rd' data-ref="62rd" data-ref-filename="62rd">rd</a>);</td></tr>
<tr><th id="367">367</th><td>}</td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td><em>static</em> <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="tu decl def fn" id="recff_metacall_cp" title='recff_metacall_cp' data-type='TValue * recff_metacall_cp(lua_State * L, lua_CFunction dummy, void * ud)' data-ref="recff_metacall_cp" data-ref-filename="recff_metacall_cp">recff_metacall_cp</dfn>(<a class="typedef" href="lua.h.html#lua_State" title='lua_State' data-type='struct lua_State' data-ref="lua_State" data-ref-filename="lua_State">lua_State</a> *<dfn class="local col6 decl" id="66L" title='L' data-type='lua_State *' data-ref="66L" data-ref-filename="66L">L</dfn>, <a class="typedef" href="lua.h.html#lua_CFunction" title='lua_CFunction' data-type='int (*)(lua_State *)' data-ref="lua_CFunction" data-ref-filename="lua_CFunction">lua_CFunction</a> <dfn class="local col7 decl" id="67dummy" title='dummy' data-type='lua_CFunction' data-ref="67dummy" data-ref-filename="67dummy">dummy</dfn>, <em>void</em> *<dfn class="local col8 decl" id="68ud" title='ud' data-type='void *' data-ref="68ud" data-ref-filename="68ud">ud</dfn>)</td></tr>
<tr><th id="370">370</th><td>{</td></tr>
<tr><th id="371">371</th><td>  <a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col9 decl" id="69J" title='J' data-type='jit_State *' data-ref="69J" data-ref-filename="69J">J</dfn> = (<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *)<a class="local col8 ref" href="#68ud" title='ud' data-ref="68ud" data-ref-filename="68ud">ud</a>;</td></tr>
<tr><th id="372">372</th><td>  <a class="ref fn" href="lj_record.h.html#lj_record_tailcall" title='lj_record_tailcall' data-ref="lj_record_tailcall" data-ref-filename="lj_record_tailcall">lj_record_tailcall</a>(<a class="local col9 ref" href="#69J" title='J' data-ref="69J" data-ref-filename="69J">J</a>, <var>0</var>, <var>1</var>);</td></tr>
<tr><th id="373">373</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(L))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col6 ref" href="#66L" title='L' data-ref="66L" data-ref-filename="66L">L</a>); <a class="macro" href="lj_def.h.html#91" title="((void)(dummy))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col7 ref" href="#67dummy" title='dummy' data-ref="67dummy" data-ref-filename="67dummy">dummy</a>);</td></tr>
<tr><th id="374">374</th><td>  <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="375">375</th><td>}</td></tr>
<tr><th id="376">376</th><td></td></tr>
<tr><th id="377">377</th><td><em>static</em> <em>int</em> <dfn class="tu decl def fn" id="recff_metacall" title='recff_metacall' data-type='int recff_metacall(jit_State * J, RecordFFData * rd, MMS mm)' data-ref="recff_metacall" data-ref-filename="recff_metacall">recff_metacall</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col0 decl" id="70J" title='J' data-type='jit_State *' data-ref="70J" data-ref-filename="70J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col1 decl" id="71rd" title='rd' data-type='RecordFFData *' data-ref="71rd" data-ref-filename="71rd">rd</dfn>, <a class="typedef" href="lj_obj.h.html#MMS" title='MMS' data-type='enum MMS' data-ref="MMS" data-ref-filename="MMS">MMS</a> <dfn class="local col2 decl" id="72mm" title='mm' data-type='MMS' data-ref="72mm" data-ref-filename="72mm">mm</dfn>)</td></tr>
<tr><th id="378">378</th><td>{</td></tr>
<tr><th id="379">379</th><td>  <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col3 decl" id="73ix" title='ix' data-type='RecordIndex' data-ref="73ix" data-ref-filename="73ix">ix</dfn>;</td></tr>
<tr><th id="380">380</th><td>  <a class="local col3 ref" href="#73ix" title='ix' data-ref="73ix" data-ref-filename="73ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="381">381</th><td>  <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col3 ref" href="#73ix" title='ix' data-ref="73ix" data-ref-filename="73ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="382">382</th><td>  <b>if</b> (<a class="ref fn" href="lj_record.h.html#lj_record_mm_lookup" title='lj_record_mm_lookup' data-ref="lj_record_mm_lookup" data-ref-filename="lj_record_mm_lookup">lj_record_mm_lookup</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>, &amp;<a class="local col3 ref" href="#73ix" title='ix' data-ref="73ix" data-ref-filename="73ix">ix</a>, <a class="local col2 ref" href="#72mm" title='mm' data-ref="72mm" data-ref-filename="72mm">mm</a>)) {  <i>/* Has metamethod? */</i></td></tr>
<tr><th id="383">383</th><td>    <em>int</em> <dfn class="local col4 decl" id="74errcode" title='errcode' data-type='int' data-ref="74errcode" data-ref-filename="74errcode">errcode</dfn>;</td></tr>
<tr><th id="384">384</th><td>    <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> <dfn class="local col5 decl" id="75argv0" title='argv0' data-type='TValue' data-ref="75argv0" data-ref-filename="75argv0">argv0</dfn>;</td></tr>
<tr><th id="385">385</th><td>    <i>/* Temporarily insert metamethod below object. */</i></td></tr>
<tr><th id="386">386</th><td>    <a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>+<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>] = <a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="387">387</th><td>    <a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col3 ref" href="#73ix" title='ix' data-ref="73ix" data-ref-filename="73ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::mobj" title='RecordIndex::mobj' data-ref="RecordIndex::mobj" data-ref-filename="RecordIndex..mobj">mobj</a>;</td></tr>
<tr><th id="388">388</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col5 ref" href="#75argv0" title='argv0' data-ref="75argv0" data-ref-filename="75argv0">argv0</a>, &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="389">389</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>+<a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a>], &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="390">390</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col3 ref" href="#73ix" title='ix' data-ref="73ix" data-ref-filename="73ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::mobjv" title='RecordIndex::mobjv' data-ref="RecordIndex::mobjv" data-ref-filename="RecordIndex..mobjv">mobjv</a>);</td></tr>
<tr><th id="391">391</th><td>    <i>/* Need to protect lj_record_tailcall because it may throw. */</i></td></tr>
<tr><th id="392">392</th><td>    <a class="local col4 ref" href="#74errcode" title='errcode' data-ref="74errcode" data-ref-filename="74errcode">errcode</a> = <a class="ref fn" href="lj_vm.h.html#lj_vm_cpcall" title='lj_vm_cpcall' data-ref="lj_vm_cpcall" data-ref-filename="lj_vm_cpcall">lj_vm_cpcall</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>, <a class="tu ref fn" href="#recff_metacall_cp" title='recff_metacall_cp' data-use='r' data-ref="recff_metacall_cp" data-ref-filename="recff_metacall_cp">recff_metacall_cp</a>);</td></tr>
<tr><th id="393">393</th><td>    <i>/* Always undo Lua stack changes to avoid confusing the interpreter. */</i></td></tr>
<tr><th id="394">394</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col5 ref" href="#75argv0" title='argv0' data-ref="75argv0" data-ref-filename="75argv0">argv0</a>);</td></tr>
<tr><th id="395">395</th><td>    <b>if</b> (<a class="local col4 ref" href="#74errcode" title='errcode' data-ref="74errcode" data-ref-filename="74errcode">errcode</a>)</td></tr>
<tr><th id="396">396</th><td>      <a class="ref fn" href="lj_err.h.html#lj_err_throw" title='lj_err_throw' data-ref="lj_err_throw" data-ref-filename="lj_err_throw">lj_err_throw</a>(<a class="local col0 ref" href="#70J" title='J' data-ref="70J" data-ref-filename="70J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <a class="local col4 ref" href="#74errcode" title='errcode' data-ref="74errcode" data-ref-filename="74errcode">errcode</a>);  <i>/* Propagate errors. */</i></td></tr>
<tr><th id="397">397</th><td>    <a class="local col1 ref" href="#71rd" title='rd' data-ref="71rd" data-ref-filename="71rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = -<var>1</var>;  <i>/* Pending call. */</i></td></tr>
<tr><th id="398">398</th><td>    <b>return</b> <var>1</var>;  <i>/* Tailcalled to metamethod. */</i></td></tr>
<tr><th id="399">399</th><td>  }</td></tr>
<tr><th id="400">400</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="401">401</th><td>}</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_tostring" title='recff_tostring' data-type='void recff_tostring(jit_State * J, RecordFFData * rd)' data-ref="recff_tostring" data-ref-filename="recff_tostring">recff_tostring</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col6 decl" id="76J" title='J' data-type='jit_State *' data-ref="76J" data-ref-filename="76J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col7 decl" id="77rd" title='rd' data-type='RecordFFData *' data-ref="77rd" data-ref-filename="77rd">rd</dfn>)</td></tr>
<tr><th id="404">404</th><td>{</td></tr>
<tr><th id="405">405</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="78tr" title='tr' data-type='TRef' data-ref="78tr" data-ref-filename="78tr">tr</dfn> = <a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="406">406</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#499" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_STR)&lt;&lt;24)))" data-ref="_M/tref_isstr">tref_isstr</a>(<a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a>)) {</td></tr>
<tr><th id="407">407</th><td>    <i>/* Ignore __tostring in the string base metatable. */</i></td></tr>
<tr><th id="408">408</th><td>    <i>/* Pass on result in J-&gt;base[0]. */</i></td></tr>
<tr><th id="409">409</th><td>  } <b>else</b> <b>if</b> (<a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a> &amp;&amp; !<a class="tu ref fn" href="#recff_metacall" title='recff_metacall' data-use='c' data-ref="recff_metacall" data-ref-filename="recff_metacall">recff_metacall</a>(<a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>, <a class="local col7 ref" href="#77rd" title='rd' data-ref="77rd" data-ref-filename="77rd">rd</a>, <a class="enum" href="lj_obj.h.html#564" title='MM_tostring' data-ref="MM_tostring" data-ref-filename="MM_tostring">MM_tostring</a>)) {</td></tr>
<tr><th id="410">410</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#511" title="((((((tr))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_NUM) &lt;= (TRef)(IRT_INT-IRT_NUM)))" data-ref="_M/tref_isnumber">tref_isnumber</a>(<a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a>)) {</td></tr>
<tr><th id="411">411</th><td>      <a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tr)), (IRRef1)(((((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NUM)&lt;&lt;24))) ? 1 : 0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_TOSTR' data-ref="IR_TOSTR" data-ref-filename="IR_TOSTR">IR_TOSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a>,</td></tr>
<tr><th id="412">412</th><td>			  <a class="macro" href="lj_ir.h.html#504" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NUM)&lt;&lt;24)))" data-ref="_M/tref_isnum">tref_isnum</a>(<a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a>) ? <a class="macro" href="lj_ir.h.html#256" title="1" data-ref="_M/IRTOSTR_NUM">IRTOSTR_NUM</a> : <a class="macro" href="lj_ir.h.html#255" title="0" data-ref="_M/IRTOSTR_INT">IRTOSTR_INT</a>);</td></tr>
<tr><th id="413">413</th><td>    } <b>else</b> <b>if</b> (<a class="macro" href="lj_ir.h.html#508" title="((((((tr))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_NIL) &lt;= (TRef)(IRT_TRUE-IRT_NIL)))" data-ref="_M/tref_ispri">tref_ispri</a>(<a class="local col8 ref" href="#78tr" title='tr' data-ref="78tr" data-ref-filename="78tr">tr</a>)) {</td></tr>
<tr><th id="414">414</th><td>      <a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((lj_strfmt_obj(J-&gt;L, &amp;rd-&gt;argv[0])))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>, <a class="ref fn" href="lj_strfmt.h.html#lj_strfmt_obj" title='lj_strfmt_obj' data-ref="lj_strfmt_obj" data-ref-filename="lj_strfmt_obj">lj_strfmt_obj</a>(<a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col7 ref" href="#77rd" title='rd' data-ref="77rd" data-ref-filename="77rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]));</td></tr>
<tr><th id="415">415</th><td>    } <b>else</b> {</td></tr>
<tr><th id="416">416</th><td>      <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col6 ref" href="#76J" title='J' data-ref="76J" data-ref-filename="76J">J</a>, <a class="local col7 ref" href="#77rd" title='rd' data-ref="77rd" data-ref-filename="77rd">rd</a>);</td></tr>
<tr><th id="417">417</th><td>      <b>return</b>;</td></tr>
<tr><th id="418">418</th><td>    }</td></tr>
<tr><th id="419">419</th><td>  }</td></tr>
<tr><th id="420">420</th><td>}</td></tr>
<tr><th id="421">421</th><td></td></tr>
<tr><th id="422">422</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_ipairs_aux" title='recff_ipairs_aux' data-type='void recff_ipairs_aux(jit_State * J, RecordFFData * rd)' data-ref="recff_ipairs_aux" data-ref-filename="recff_ipairs_aux">recff_ipairs_aux</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col9 decl" id="79J" title='J' data-type='jit_State *' data-ref="79J" data-ref-filename="79J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col0 decl" id="80rd" title='rd' data-type='RecordFFData *' data-ref="80rd" data-ref-filename="80rd">rd</dfn>)</td></tr>
<tr><th id="423">423</th><td>{</td></tr>
<tr><th id="424">424</th><td>  <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col1 decl" id="81ix" title='ix' data-type='RecordIndex' data-ref="81ix" data-ref-filename="81ix">ix</dfn>;</td></tr>
<tr><th id="425">425</th><td>  <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="426">426</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((ix.tab)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a>)) {</td></tr>
<tr><th id="427">427</th><td>    <b>if</b> (!<a class="macro" href="lj_obj.h.html#796" title="(((uint32_t)((&amp;rd-&gt;argv[1])-&gt;it64 &gt;&gt; 47)) &lt;= (~13u))" data-ref="_M/tvisnumber">tvisnumber</a>(&amp;<a class="local col0 ref" href="#80rd" title='rd' data-ref="80rd" data-ref-filename="80rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]))  <i>/* No support for string coercion. */</i></td></tr>
<tr><th id="428">428</th><td>      <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>, <a class="enum" href="lj_traceerr.h.html#24" title='LJ_TRERR_BADTYPE' data-ref="LJ_TRERR_BADTYPE" data-ref-filename="LJ_TRERR_BADTYPE">LJ_TRERR_BADTYPE</a>);</td></tr>
<tr><th id="429">429</th><td>    <a class="ref fn" href="lj_obj.h.html#setintV" title='setintV' data-ref="setintV" data-ref-filename="setintV">setintV</a>(&amp;<a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::keyv" title='RecordIndex::keyv' data-ref="RecordIndex::keyv" data-ref-filename="RecordIndex..keyv">keyv</a>, <a class="ref fn" href="lj_obj.h.html#numberVint" title='numberVint' data-ref="numberVint" data-ref-filename="numberVint">numberVint</a>(&amp;<a class="local col0 ref" href="#80rd" title='rd' data-ref="80rd" data-ref-filename="80rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>])+<var>1</var>);</td></tr>
<tr><th id="430">430</th><td>    <a class="ref fn" href="lj_obj.h.html#935" title='settabV' data-ref="settabV" data-ref-filename="settabV">settabV</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, <a class="macro" href="lj_obj.h.html#857" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)" data-ref="_M/tabV">tabV</a>(&amp;<a class="local col0 ref" href="#80rd" title='rd' data-ref="80rd" data-ref-filename="80rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]));</td></tr>
<tr><th id="431">431</th><td>    <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a> = <var>0</var>; <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::idxchain" title='RecordIndex::idxchain' data-ref="RecordIndex::idxchain" data-ref-filename="RecordIndex..idxchain">idxchain</a> = <var>0</var>;</td></tr>
<tr><th id="432">432</th><td>    <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>, <a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="433">433</th><td>    <a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((ix.key)), (IRRef1)((lj_ir_kint(J, 1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>, <var>1</var>));</td></tr>
<tr><th id="434">434</th><td>    <a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] = <a class="ref fn" href="lj_record.h.html#lj_record_idx" title='lj_record_idx' data-ref="lj_record_idx" data-ref-filename="lj_record_idx">lj_record_idx</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>, &amp;<a class="local col1 ref" href="#81ix" title='ix' data-ref="81ix" data-ref-filename="81ix">ix</a>);</td></tr>
<tr><th id="435">435</th><td>    <a class="local col0 ref" href="#80rd" title='rd' data-ref="80rd" data-ref-filename="80rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[1])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col9 ref" href="#79J" title='J' data-ref="79J" data-ref-filename="79J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]) ? <var>0</var> : <var>2</var>;</td></tr>
<tr><th id="436">436</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="437">437</th><td>}</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_xpairs" title='recff_xpairs' data-type='void recff_xpairs(jit_State * J, RecordFFData * rd)' data-ref="recff_xpairs" data-ref-filename="recff_xpairs">recff_xpairs</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="82J" title='J' data-type='jit_State *' data-ref="82J" data-ref-filename="82J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="83rd" title='rd' data-type='RecordFFData *' data-ref="83rd" data-ref-filename="83rd">rd</dfn>)</td></tr>
<tr><th id="440">440</th><td>{</td></tr>
<tr><th id="441">441</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="84tr" title='tr' data-type='TRef' data-ref="84tr" data-ref-filename="84tr">tr</dfn> = <a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="442">442</th><td>  <b>if</b> (!((<a class="macro" href="lj_arch.h.html#657" title="0" data-ref="_M/LJ_52">LJ_52</a> || (<a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a> &amp;&amp; <a class="macro" href="lj_ir.h.html#501" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_CDATA)&lt;&lt;24)))" data-ref="_M/tref_iscdata">tref_iscdata</a>(<a class="local col4 ref" href="#84tr" title='tr' data-ref="84tr" data-ref-filename="84tr">tr</a>))) &amp;&amp;</td></tr>
<tr><th id="443">443</th><td>	<a class="tu ref fn" href="#recff_metacall" title='recff_metacall' data-use='c' data-ref="recff_metacall" data-ref-filename="recff_metacall">recff_metacall</a>(<a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>, <a class="local col3 ref" href="#83rd" title='rd' data-ref="83rd" data-ref-filename="83rd">rd</a>, <a class="enum" href="lj_obj.h.html#564" title='MM_pairs' data-ref="MM_pairs" data-ref-filename="MM_pairs">MM_pairs</a> + <a class="local col3 ref" href="#83rd" title='rd' data-ref="83rd" data-ref-filename="83rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>))) {</td></tr>
<tr><th id="444">444</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col4 ref" href="#84tr" title='tr' data-ref="84tr" data-ref-filename="84tr">tr</a>)) {</td></tr>
<tr><th id="445">445</th><td>      <a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_iropt.h.html#68" title="lj_ir_kgc(J, ((GCobj *)(((&amp;((GCobj *)((((&amp;J-&gt;fn-&gt;c.upvalue[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;fn)))), IRT_FUNC)" data-ref="_M/lj_ir_kfunc">lj_ir_kfunc</a>(<a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>, <a class="macro" href="lj_obj.h.html#853" title="(&amp;((GCobj *)((((&amp;J-&gt;fn-&gt;c.upvalue[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;fn)" data-ref="_M/funcV">funcV</a>(&amp;<a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::fn" title='jit_State::fn' data-ref="jit_State::fn" data-ref-filename="jit_State..fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#GCfuncC::upvalue" title='GCfuncC::upvalue' data-ref="GCfuncC::upvalue" data-ref-filename="GCfuncC..upvalue">upvalue</a>[<var>0</var>]));</td></tr>
<tr><th id="446">446</th><td>      <a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] = <a class="local col4 ref" href="#84tr" title='tr' data-ref="84tr" data-ref-filename="84tr">tr</a>;</td></tr>
<tr><th id="447">447</th><td>      <a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>] = <a class="local col3 ref" href="#83rd" title='rd' data-ref="83rd" data-ref-filename="83rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a> ? <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col2 ref" href="#82J" title='J' data-ref="82J" data-ref-filename="82J">J</a>, <var>0</var>) : <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>;</td></tr>
<tr><th id="448">448</th><td>      <a class="local col3 ref" href="#83rd" title='rd' data-ref="83rd" data-ref-filename="83rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>3</var>;</td></tr>
<tr><th id="449">449</th><td>    }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="450">450</th><td>  }</td></tr>
<tr><th id="451">451</th><td>}</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_pcall" title='recff_pcall' data-type='void recff_pcall(jit_State * J, RecordFFData * rd)' data-ref="recff_pcall" data-ref-filename="recff_pcall">recff_pcall</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="85J" title='J' data-type='jit_State *' data-ref="85J" data-ref-filename="85J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="86rd" title='rd' data-type='RecordFFData *' data-ref="86rd" data-ref-filename="86rd">rd</dfn>)</td></tr>
<tr><th id="454">454</th><td>{</td></tr>
<tr><th id="455">455</th><td>  <b>if</b> (<a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> &gt;= <var>1</var>) {</td></tr>
<tr><th id="456">456</th><td><u>#<span data-ppcond="456">if</span> <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a></u></td></tr>
<tr><th id="457">457</th><td>    <i>/* Shift function arguments up. */</i></td></tr>
<tr><th id="458">458</th><td>    <a class="ref fn" href="../include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(<a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a> + <var>1</var>, <a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>, <b>sizeof</b>(<a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a>) * <a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a>);</td></tr>
<tr><th id="459">459</th><td><u>#<span data-ppcond="456">endif</span></u></td></tr>
<tr><th id="460">460</th><td>    <a class="ref fn" href="lj_record.h.html#lj_record_call" title='lj_record_call' data-ref="lj_record_call" data-ref-filename="lj_record_call">lj_record_call</a>(<a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>, <var>0</var>, <a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> - <var>1</var>);</td></tr>
<tr><th id="461">461</th><td>    <a class="local col6 ref" href="#86rd" title='rd' data-ref="86rd" data-ref-filename="86rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = -<var>1</var>;  <i>/* Pending call. */</i></td></tr>
<tr><th id="462">462</th><td>    <a class="local col5 ref" href="#85J" title='J' data-ref="85J" data-ref-filename="85J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::needsnap" title='jit_State::needsnap' data-ref="jit_State::needsnap" data-ref-filename="jit_State..needsnap">needsnap</a> = <var>1</var>;  <i>/* Start catching on-trace errors. */</i></td></tr>
<tr><th id="463">463</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="464">464</th><td>}</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><em>static</em> <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> *<dfn class="tu decl def fn" id="recff_xpcall_cp" title='recff_xpcall_cp' data-type='TValue * recff_xpcall_cp(lua_State * L, lua_CFunction dummy, void * ud)' data-ref="recff_xpcall_cp" data-ref-filename="recff_xpcall_cp">recff_xpcall_cp</dfn>(<a class="typedef" href="lua.h.html#lua_State" title='lua_State' data-type='struct lua_State' data-ref="lua_State" data-ref-filename="lua_State">lua_State</a> *<dfn class="local col7 decl" id="87L" title='L' data-type='lua_State *' data-ref="87L" data-ref-filename="87L">L</dfn>, <a class="typedef" href="lua.h.html#lua_CFunction" title='lua_CFunction' data-type='int (*)(lua_State *)' data-ref="lua_CFunction" data-ref-filename="lua_CFunction">lua_CFunction</a> <dfn class="local col8 decl" id="88dummy" title='dummy' data-type='lua_CFunction' data-ref="88dummy" data-ref-filename="88dummy">dummy</dfn>, <em>void</em> *<dfn class="local col9 decl" id="89ud" title='ud' data-type='void *' data-ref="89ud" data-ref-filename="89ud">ud</dfn>)</td></tr>
<tr><th id="467">467</th><td>{</td></tr>
<tr><th id="468">468</th><td>  <a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col0 decl" id="90J" title='J' data-type='jit_State *' data-ref="90J" data-ref-filename="90J">J</dfn> = (<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *)<a class="local col9 ref" href="#89ud" title='ud' data-ref="89ud" data-ref-filename="89ud">ud</a>;</td></tr>
<tr><th id="469">469</th><td>  <a class="ref fn" href="lj_record.h.html#lj_record_call" title='lj_record_call' data-ref="lj_record_call" data-ref-filename="lj_record_call">lj_record_call</a>(<a class="local col0 ref" href="#90J" title='J' data-ref="90J" data-ref-filename="90J">J</a>, <var>1</var>, <a class="local col0 ref" href="#90J" title='J' data-ref="90J" data-ref-filename="90J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> - <var>2</var>);</td></tr>
<tr><th id="470">470</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(L))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col7 ref" href="#87L" title='L' data-ref="87L" data-ref-filename="87L">L</a>); <a class="macro" href="lj_def.h.html#91" title="((void)(dummy))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col8 ref" href="#88dummy" title='dummy' data-ref="88dummy" data-ref-filename="88dummy">dummy</a>);</td></tr>
<tr><th id="471">471</th><td>  <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="472">472</th><td>}</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_xpcall" title='recff_xpcall' data-type='void recff_xpcall(jit_State * J, RecordFFData * rd)' data-ref="recff_xpcall" data-ref-filename="recff_xpcall">recff_xpcall</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="91J" title='J' data-type='jit_State *' data-ref="91J" data-ref-filename="91J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="92rd" title='rd' data-type='RecordFFData *' data-ref="92rd" data-ref-filename="92rd">rd</dfn>)</td></tr>
<tr><th id="475">475</th><td>{</td></tr>
<tr><th id="476">476</th><td>  <b>if</b> (<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a> &gt;= <var>2</var>) {</td></tr>
<tr><th id="477">477</th><td>    <a class="typedef" href="lj_obj.h.html#TValue" title='TValue' data-type='union TValue' data-ref="TValue" data-ref-filename="TValue">TValue</a> <dfn class="local col3 decl" id="93argv0" title='argv0' data-type='TValue' data-ref="93argv0" data-ref-filename="93argv0">argv0</dfn>, <dfn class="local col4 decl" id="94argv1" title='argv1' data-type='TValue' data-ref="94argv1" data-ref-filename="94argv1">argv1</dfn>;</td></tr>
<tr><th id="478">478</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="95tmp" title='tmp' data-type='TRef' data-ref="95tmp" data-ref-filename="95tmp">tmp</dfn>;</td></tr>
<tr><th id="479">479</th><td>    <em>int</em> <dfn class="local col6 decl" id="96errcode" title='errcode' data-type='int' data-ref="96errcode" data-ref-filename="96errcode">errcode</dfn>;</td></tr>
<tr><th id="480">480</th><td>    <i>/* Swap function and traceback. */</i></td></tr>
<tr><th id="481">481</th><td>    <a class="local col5 ref" href="#95tmp" title='tmp' data-ref="95tmp" data-ref-filename="95tmp">tmp</a> = <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]; <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]; <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] = <a class="local col5 ref" href="#95tmp" title='tmp' data-ref="95tmp" data-ref-filename="95tmp">tmp</a>;</td></tr>
<tr><th id="482">482</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col3 ref" href="#93argv0" title='argv0' data-ref="93argv0" data-ref-filename="93argv0">argv0</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="483">483</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col4 ref" href="#94argv1" title='argv1' data-ref="94argv1" data-ref-filename="94argv1">argv1</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="484">484</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col4 ref" href="#94argv1" title='argv1' data-ref="94argv1" data-ref-filename="94argv1">argv1</a>);</td></tr>
<tr><th id="485">485</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>], &amp;<a class="local col3 ref" href="#93argv0" title='argv0' data-ref="93argv0" data-ref-filename="93argv0">argv0</a>);</td></tr>
<tr><th id="486">486</th><td><u>#<span data-ppcond="486">if</span> <a class="macro" href="lj_arch.h.html#533" title="1" data-ref="_M/LJ_FR2">LJ_FR2</a></u></td></tr>
<tr><th id="487">487</th><td>    <i>/* Shift function arguments up. */</i></td></tr>
<tr><th id="488">488</th><td>    <a class="ref fn" href="../include/string.h.html#memmove" title='memmove' data-ref="memmove" data-ref-filename="memmove">memmove</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a> + <var>2</var>, <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a> + <var>1</var>, <b>sizeof</b>(<a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a>) * (<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a>-<var>1</var>));</td></tr>
<tr><th id="489">489</th><td><u>#<span data-ppcond="486">endif</span></u></td></tr>
<tr><th id="490">490</th><td>    <i>/* Need to protect lj_record_call because it may throw. */</i></td></tr>
<tr><th id="491">491</th><td>    <a class="local col6 ref" href="#96errcode" title='errcode' data-ref="96errcode" data-ref-filename="96errcode">errcode</a> = <a class="ref fn" href="lj_vm.h.html#lj_vm_cpcall" title='lj_vm_cpcall' data-ref="lj_vm_cpcall" data-ref-filename="lj_vm_cpcall">lj_vm_cpcall</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>, <a class="tu ref fn" href="#recff_xpcall_cp" title='recff_xpcall_cp' data-use='r' data-ref="recff_xpcall_cp" data-ref-filename="recff_xpcall_cp">recff_xpcall_cp</a>);</td></tr>
<tr><th id="492">492</th><td>    <i>/* Always undo Lua stack swap to avoid confusing the interpreter. */</i></td></tr>
<tr><th id="493">493</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col3 ref" href="#93argv0" title='argv0' data-ref="93argv0" data-ref-filename="93argv0">argv0</a>);</td></tr>
<tr><th id="494">494</th><td>    <a class="ref fn" href="lj_obj.h.html#copyTV" title='copyTV' data-ref="copyTV" data-ref-filename="copyTV">copyTV</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>], &amp;<a class="local col4 ref" href="#94argv1" title='argv1' data-ref="94argv1" data-ref-filename="94argv1">argv1</a>);</td></tr>
<tr><th id="495">495</th><td>    <b>if</b> (<a class="local col6 ref" href="#96errcode" title='errcode' data-ref="96errcode" data-ref-filename="96errcode">errcode</a>)</td></tr>
<tr><th id="496">496</th><td>      <a class="ref fn" href="lj_err.h.html#lj_err_throw" title='lj_err_throw' data-ref="lj_err_throw" data-ref-filename="lj_err_throw">lj_err_throw</a>(<a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <a class="local col6 ref" href="#96errcode" title='errcode' data-ref="96errcode" data-ref-filename="96errcode">errcode</a>);  <i>/* Propagate errors. */</i></td></tr>
<tr><th id="497">497</th><td>    <a class="local col2 ref" href="#92rd" title='rd' data-ref="92rd" data-ref-filename="92rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = -<var>1</var>;  <i>/* Pending call. */</i></td></tr>
<tr><th id="498">498</th><td>    <a class="local col1 ref" href="#91J" title='J' data-ref="91J" data-ref-filename="91J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::needsnap" title='jit_State::needsnap' data-ref="jit_State::needsnap" data-ref-filename="jit_State..needsnap">needsnap</a> = <var>1</var>;  <i>/* Start catching on-trace errors. */</i></td></tr>
<tr><th id="499">499</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="500">500</th><td>}</td></tr>
<tr><th id="501">501</th><td></td></tr>
<tr><th id="502">502</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_getfenv" title='recff_getfenv' data-type='void recff_getfenv(jit_State * J, RecordFFData * rd)' data-ref="recff_getfenv" data-ref-filename="recff_getfenv">recff_getfenv</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="97J" title='J' data-type='jit_State *' data-ref="97J" data-ref-filename="97J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="98rd" title='rd' data-type='RecordFFData *' data-ref="98rd" data-ref-filename="98rd">rd</dfn>)</td></tr>
<tr><th id="503">503</th><td>{</td></tr>
<tr><th id="504">504</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="99tr" title='tr' data-type='TRef' data-ref="99tr" data-ref-filename="99tr">tr</dfn> = <a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="505">505</th><td>  <i>/* Only support getfenv(0) for now. */</i></td></tr>
<tr><th id="506">506</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#505" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_INT)&lt;&lt;24)))" data-ref="_M/tref_isint">tref_isint</a>(<a class="local col9 ref" href="#99tr" title='tr' data-ref="99tr" data-ref-filename="99tr">tr</a>) &amp;&amp; <a class="macro" href="lj_ir.h.html#515" title="(((((IRRef1)((tr)))) &lt; REF_BIAS))" data-ref="_M/tref_isk">tref_isk</a>(<a class="local col9 ref" href="#99tr" title='tr' data-ref="99tr" data-ref-filename="99tr">tr</a>) &amp;&amp; <a class="macro" href="#33" title="(&amp;J-&gt;cur.ir[(((IRRef1)(tr)))])" data-ref="_M/IR">IR</a>(<a class="macro" href="lj_ir.h.html#488" title="((IRRef1)(tr))" data-ref="_M/tref_ref">tref_ref</a>(<a class="local col9 ref" href="#99tr" title='tr' data-ref="99tr" data-ref-filename="99tr">tr</a>))-&gt;<a class="ref field" href="lj_ir.h.html#IRIns::i" title='IRIns::i' data-ref="IRIns::i" data-ref-filename="IRIns..i">i</a> == <var>0</var>) {</td></tr>
<tr><th id="507">507</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="100trl" title='trl' data-type='TRef' data-ref="100trl" data-ref-filename="100trl">trl</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_LREF)&lt;&lt;8) | (IRT_THREAD))))), (IRRef1)((0)), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_LREF)&lt;&lt;8) | (IRT_THREAD)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LREF' data-ref="IR_LREF" data-ref-filename="IR_LREF">IR_LREF</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_THREAD' data-ref="IRT_THREAD" data-ref-filename="IRT_THREAD">IRT_THREAD</a>), <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="508">508</th><td>    <a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB))))), (IRRef1)((trl)), (IRRef1)((IRFL_THREAD_ENV))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col0 ref" href="#100trl" title='trl' data-ref="100trl" data-ref-filename="100trl">trl</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_THREAD_ENV' data-ref="IRFL_THREAD_ENV" data-ref-filename="IRFL_THREAD_ENV">IRFL_THREAD_ENV</a>);</td></tr>
<tr><th id="509">509</th><td>    <b>return</b>;</td></tr>
<tr><th id="510">510</th><td>  }</td></tr>
<tr><th id="511">511</th><td>  <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col7 ref" href="#97J" title='J' data-ref="97J" data-ref-filename="97J">J</a>, <a class="local col8 ref" href="#98rd" title='rd' data-ref="98rd" data-ref-filename="98rd">rd</a>);</td></tr>
<tr><th id="512">512</th><td>}</td></tr>
<tr><th id="513">513</th><td></td></tr>
<tr><th id="514">514</th><td><i  data-doc="recff_math_abs">/* -- Math library fast functions ----------------------------------------- */</i></td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_abs" title='recff_math_abs' data-type='void recff_math_abs(jit_State * J, RecordFFData * rd)' data-ref="recff_math_abs" data-ref-filename="recff_math_abs">recff_math_abs</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="101J" title='J' data-type='jit_State *' data-ref="101J" data-ref-filename="101J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="102rd" title='rd' data-type='RecordFFData *' data-ref="102rd" data-ref-filename="102rd">rd</dfn>)</td></tr>
<tr><th id="517">517</th><td>{</td></tr>
<tr><th id="518">518</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="103tr" title='tr' data-type='TRef' data-ref="103tr" data-ref-filename="103tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J">J</a>, <a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="519">519</th><td>  <a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ABS))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((lj_ir_ggfload(J, IRT_NUM, (uintptr_t)((TValue *)(((intptr_t)&amp;J-&gt;ksimd[2*(LJ_KSIMD_ABS)] + 15) &amp; ~(intptr_t)15)) - (uintptr_t)((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J)))))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_ABS))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ABS' data-ref="IR_ABS" data-ref-filename="IR_ABS">IR_ABS</a>), <a class="local col3 ref" href="#103tr" title='tr' data-ref="103tr" data-ref-filename="103tr">tr</a>, <a class="macro" href="lj_iropt.h.html#78" title="lj_ir_ggfload(J, IRT_NUM, (uintptr_t)((TValue *)(((intptr_t)&amp;J-&gt;ksimd[2*(LJ_KSIMD_ABS)] + 15) &amp; ~(intptr_t)15)) - (uintptr_t)((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J)))))" data-ref="_M/lj_ir_ksimd">lj_ir_ksimd</a>(<a class="local col1 ref" href="#101J" title='J' data-ref="101J" data-ref-filename="101J">J</a>, <a class="enum" href="lj_jit.h.html#LJ_KSIMD_ABS" title='LJ_KSIMD_ABS' data-ref="LJ_KSIMD_ABS" data-ref-filename="LJ_KSIMD_ABS">LJ_KSIMD_ABS</a>));</td></tr>
<tr><th id="520">520</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col2 ref" href="#102rd" title='rd' data-ref="102rd" data-ref-filename="102rd">rd</a>);</td></tr>
<tr><th id="521">521</th><td>}</td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td><i  data-doc="recff_math_round">/* Record rounding functions math.floor and math.ceil. */</i></td></tr>
<tr><th id="524">524</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_round" title='recff_math_round' data-type='void recff_math_round(jit_State * J, RecordFFData * rd)' data-ref="recff_math_round" data-ref-filename="recff_math_round">recff_math_round</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="104J" title='J' data-type='jit_State *' data-ref="104J" data-ref-filename="104J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="105rd" title='rd' data-type='RecordFFData *' data-ref="105rd" data-ref-filename="105rd">rd</dfn>)</td></tr>
<tr><th id="525">525</th><td>{</td></tr>
<tr><th id="526">526</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="106tr" title='tr' data-type='TRef' data-ref="106tr" data-ref-filename="106tr">tr</dfn> = <a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="527">527</th><td>  <b>if</b> (!<a class="macro" href="lj_ir.h.html#510" title="((((((tr))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a>)) {  <i>/* Pass through integers unmodified. */</i></td></tr>
<tr><th id="528">528</th><td>    <a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((lj_ir_tonum(J, tr))), (IRRef1)((rd-&gt;data))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J">J</a>, <a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a>), <a class="local col5 ref" href="#105rd" title='rd' data-ref="105rd" data-ref-filename="105rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="529">529</th><td>    <i>/* Result is integral (or NaN/Inf), but may not fit an int32_t. */</i></td></tr>
<tr><th id="530">530</th><td>    <b>if</b> (<a class="macro" href="lj_arch.h.html#513" title="0" data-ref="_M/LJ_DUALNUM">LJ_DUALNUM</a>) {  <i>/* Try to narrow using a guarded conversion to int. */</i></td></tr>
<tr><th id="531">531</th><td>      <a class="typedef" href="lua.h.html#lua_Number" title='lua_Number' data-type='double' data-ref="lua_Number" data-ref-filename="lua_Number">lua_Number</a> <dfn class="local col7 decl" id="107n" title='n' data-type='lua_Number' data-ref="107n" data-ref-filename="107n">n</dfn> = <a class="ref fn" href="lj_vm.h.html#lj_vm_foldfpm" title='lj_vm_foldfpm' data-ref="lj_vm_foldfpm" data-ref-filename="lj_vm_foldfpm">lj_vm_foldfpm</a>(<a class="ref fn" href="lj_obj.h.html#numberVnum" title='numberVnum' data-ref="numberVnum" data-ref-filename="numberVnum">numberVnum</a>(&amp;<a class="local col5 ref" href="#105rd" title='rd' data-ref="105rd" data-ref-filename="105rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]), <a class="local col5 ref" href="#105rd" title='rd' data-ref="105rd" data-ref-filename="105rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="532">532</th><td>      <b>if</b> (<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a> == (<a class="typedef" href="lua.h.html#lua_Number" title='lua_Number' data-type='double' data-ref="lua_Number" data-ref-filename="lua_Number">lua_Number</a>)<a class="macro" href="lj_obj.h.html#993" title="((int32_t)(n))" data-ref="_M/lj_num2int">lj_num2int</a>(<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a>))</td></tr>
<tr><th id="533">533</th><td>	<a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((((IRT_INT&lt;&lt;5)|IRT_NUM)|(3&lt;&lt;12)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_CONV' data-ref="IR_CONV" data-ref-filename="IR_CONV">IR_CONV</a>), <a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a>, <a class="macro" href="lj_ir.h.html#243" title="((IRT_INT&lt;&lt;5)|IRT_NUM)" data-ref="_M/IRCONV_INT_NUM">IRCONV_INT_NUM</a>|<a class="macro" href="lj_ir.h.html#252" title="(3&lt;&lt;12)" data-ref="_M/IRCONV_CHECK">IRCONV_CHECK</a>);</td></tr>
<tr><th id="534">534</th><td>    }</td></tr>
<tr><th id="535">535</th><td>    <a class="local col4 ref" href="#104J" title='J' data-ref="104J" data-ref-filename="104J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col6 ref" href="#106tr" title='tr' data-ref="106tr" data-ref-filename="106tr">tr</a>;</td></tr>
<tr><th id="536">536</th><td>  }</td></tr>
<tr><th id="537">537</th><td>}</td></tr>
<tr><th id="538">538</th><td></td></tr>
<tr><th id="539">539</th><td><i  data-doc="recff_math_unary">/* Record unary math.* functions, mapped to IR_FPMATH opcode. */</i></td></tr>
<tr><th id="540">540</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_unary" title='recff_math_unary' data-type='void recff_math_unary(jit_State * J, RecordFFData * rd)' data-ref="recff_math_unary" data-ref-filename="recff_math_unary">recff_math_unary</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="108J" title='J' data-type='jit_State *' data-ref="108J" data-ref-filename="108J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="109rd" title='rd' data-type='RecordFFData *' data-ref="109rd" data-ref-filename="109rd">rd</dfn>)</td></tr>
<tr><th id="541">541</th><td>{</td></tr>
<tr><th id="542">542</th><td>  <a class="local col8 ref" href="#108J" title='J' data-ref="108J" data-ref-filename="108J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((lj_ir_tonum(J, J-&gt;base[0]))), (IRRef1)((rd-&gt;data))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col8 ref" href="#108J" title='J' data-ref="108J" data-ref-filename="108J">J</a>, <a class="local col8 ref" href="#108J" title='J' data-ref="108J" data-ref-filename="108J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]), <a class="local col9 ref" href="#109rd" title='rd' data-ref="109rd" data-ref-filename="109rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="543">543</th><td>}</td></tr>
<tr><th id="544">544</th><td></td></tr>
<tr><th id="545">545</th><td><i  data-doc="recff_math_log">/* Record math.log. */</i></td></tr>
<tr><th id="546">546</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_log" title='recff_math_log' data-type='void recff_math_log(jit_State * J, RecordFFData * rd)' data-ref="recff_math_log" data-ref-filename="recff_math_log">recff_math_log</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col0 decl" id="110J" title='J' data-type='jit_State *' data-ref="110J" data-ref-filename="110J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col1 decl" id="111rd" title='rd' data-type='RecordFFData *' data-ref="111rd" data-ref-filename="111rd">rd</dfn>)</td></tr>
<tr><th id="547">547</th><td>{</td></tr>
<tr><th id="548">548</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="112tr" title='tr' data-type='TRef' data-ref="112tr" data-ref-filename="112tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>, <a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="549">549</th><td>  <b>if</b> (<a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]) {</td></tr>
<tr><th id="550">550</th><td><u>#<span data-ppcond="550">ifdef</span> <span class="macro" data-ref="_M/LUAJIT_NO_LOG2">LUAJIT_NO_LOG2</span></u></td></tr>
<tr><th id="551">551</th><td>    uint32_t fpm = IRFPM_LOG;</td></tr>
<tr><th id="552">552</th><td><u>#<span data-ppcond="550">else</span></u></td></tr>
<tr><th id="553">553</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="113fpm" title='fpm' data-type='uint32_t' data-ref="113fpm" data-ref-filename="113fpm">fpm</dfn> = <a class="enum" href="lj_ir.h.html#186" title='IRFPM_LOG2' data-ref="IRFPM_LOG2" data-ref-filename="IRFPM_LOG2">IRFPM_LOG2</a>;</td></tr>
<tr><th id="554">554</th><td><u>#<span data-ppcond="550">endif</span></u></td></tr>
<tr><th id="555">555</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="114trb" title='trb' data-type='TRef' data-ref="114trb" data-ref-filename="114trb">trb</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>, <a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="556">556</th><td>    <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((fpm))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a>, <a class="local col3 ref" href="#113fpm" title='fpm' data-ref="113fpm" data-ref-filename="113fpm">fpm</a>);</td></tr>
<tr><th id="557">557</th><td>    <a class="local col4 ref" href="#114trb" title='trb' data-ref="114trb" data-ref-filename="114trb">trb</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((trb)), (IRRef1)((fpm))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="local col4 ref" href="#114trb" title='trb' data-ref="114trb" data-ref-filename="114trb">trb</a>, <a class="local col3 ref" href="#113fpm" title='fpm' data-ref="113fpm" data-ref-filename="113fpm">fpm</a>);</td></tr>
<tr><th id="558">558</th><td>    <a class="local col4 ref" href="#114trb" title='trb' data-ref="114trb" data-ref-filename="114trb">trb</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_DIV))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((lj_ir_knum_u64(J, (((uint64_t)0x3ff00000 &lt;&lt; 32) + (uint64_t)0x00000000)))), (IRRef1)((trb))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_DIV))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_DIV' data-ref="IR_DIV" data-ref-filename="IR_DIV">IR_DIV</a>), <a class="macro" href="lj_iropt.h.html#74" title="lj_ir_knum_u64(J, (((uint64_t)0x3ff00000 &lt;&lt; 32) + (uint64_t)0x00000000))" data-ref="_M/lj_ir_knum_one">lj_ir_knum_one</a>(<a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>), <a class="local col4 ref" href="#114trb" title='trb' data-ref="114trb" data-ref-filename="114trb">trb</a>);</td></tr>
<tr><th id="559">559</th><td>    <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((trb))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_MUL' data-ref="IR_MUL" data-ref-filename="IR_MUL">IR_MUL</a>), <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a>, <a class="local col4 ref" href="#114trb" title='trb' data-ref="114trb" data-ref-filename="114trb">trb</a>);</td></tr>
<tr><th id="560">560</th><td>  } <b>else</b> {</td></tr>
<tr><th id="561">561</th><td>    <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((IRFPM_LOG))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a>, <a class="enum" href="lj_ir.h.html#186" title='IRFPM_LOG' data-ref="IRFPM_LOG" data-ref-filename="IRFPM_LOG">IRFPM_LOG</a>);</td></tr>
<tr><th id="562">562</th><td>  }</td></tr>
<tr><th id="563">563</th><td>  <a class="local col0 ref" href="#110J" title='J' data-ref="110J" data-ref-filename="110J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col2 ref" href="#112tr" title='tr' data-ref="112tr" data-ref-filename="112tr">tr</a>;</td></tr>
<tr><th id="564">564</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col1 ref" href="#111rd" title='rd' data-ref="111rd" data-ref-filename="111rd">rd</a>);</td></tr>
<tr><th id="565">565</th><td>}</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td><i  data-doc="recff_math_atan2">/* Record math.atan2. */</i></td></tr>
<tr><th id="568">568</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_atan2" title='recff_math_atan2' data-type='void recff_math_atan2(jit_State * J, RecordFFData * rd)' data-ref="recff_math_atan2" data-ref-filename="recff_math_atan2">recff_math_atan2</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="115J" title='J' data-type='jit_State *' data-ref="115J" data-ref-filename="115J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="116rd" title='rd' data-type='RecordFFData *' data-ref="116rd" data-ref-filename="116rd">rd</dfn>)</td></tr>
<tr><th id="569">569</th><td>{</td></tr>
<tr><th id="570">570</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="117tr" title='tr' data-type='TRef' data-ref="117tr" data-ref-filename="117tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>, <a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="571">571</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="118tr2" title='tr2' data-type='TRef' data-ref="118tr2" data-ref-filename="118tr2">tr2</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>, <a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="572">572</th><td>  <a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col5 ref" href="#115J" title='J' data-ref="115J" data-ref-filename="115J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_atan2' data-ref="IRCALL_atan2" data-ref-filename="IRCALL_atan2">IRCALL_atan2</a>, <a class="local col7 ref" href="#117tr" title='tr' data-ref="117tr" data-ref-filename="117tr">tr</a>, <a class="local col8 ref" href="#118tr2" title='tr2' data-ref="118tr2" data-ref-filename="118tr2">tr2</a>);</td></tr>
<tr><th id="573">573</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col6 ref" href="#116rd" title='rd' data-ref="116rd" data-ref-filename="116rd">rd</a>);</td></tr>
<tr><th id="574">574</th><td>}</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td><i  data-doc="recff_math_ldexp">/* Record math.ldexp. */</i></td></tr>
<tr><th id="577">577</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_ldexp" title='recff_math_ldexp' data-type='void recff_math_ldexp(jit_State * J, RecordFFData * rd)' data-ref="recff_math_ldexp" data-ref-filename="recff_math_ldexp">recff_math_ldexp</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col9 decl" id="119J" title='J' data-type='jit_State *' data-ref="119J" data-ref-filename="119J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col0 decl" id="120rd" title='rd' data-type='RecordFFData *' data-ref="120rd" data-ref-filename="120rd">rd</dfn>)</td></tr>
<tr><th id="578">578</th><td>{</td></tr>
<tr><th id="579">579</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="121tr" title='tr' data-type='TRef' data-ref="121tr" data-ref-filename="121tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J">J</a>, <a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="580">580</th><td><u>#<span data-ppcond="580">if</span> <a class="macro" href="lj_arch.h.html#188" title="1" data-ref="_M/LJ_TARGET_X86ORX64">LJ_TARGET_X86ORX64</a></u></td></tr>
<tr><th id="581">581</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="122tr2" title='tr2' data-type='TRef' data-ref="122tr2" data-ref-filename="122tr2">tr2</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J">J</a>, <a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="582">582</th><td><u>#<span data-ppcond="580">else</span></u></td></tr>
<tr><th id="583">583</th><td>  TRef tr2 = lj_opt_narrow_toint(J, J-&gt;base[<var>1</var>]);</td></tr>
<tr><th id="584">584</th><td><u>#<span data-ppcond="580">endif</span></u></td></tr>
<tr><th id="585">585</th><td>  <a class="local col9 ref" href="#119J" title='J' data-ref="119J" data-ref-filename="119J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_LDEXP))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((tr2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_LDEXP))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LDEXP' data-ref="IR_LDEXP" data-ref-filename="IR_LDEXP">IR_LDEXP</a>), <a class="local col1 ref" href="#121tr" title='tr' data-ref="121tr" data-ref-filename="121tr">tr</a>, <a class="local col2 ref" href="#122tr2" title='tr2' data-ref="122tr2" data-ref-filename="122tr2">tr2</a>);</td></tr>
<tr><th id="586">586</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col0 ref" href="#120rd" title='rd' data-ref="120rd" data-ref-filename="120rd">rd</a>);</td></tr>
<tr><th id="587">587</th><td>}</td></tr>
<tr><th id="588">588</th><td></td></tr>
<tr><th id="589">589</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_call" title='recff_math_call' data-type='void recff_math_call(jit_State * J, RecordFFData * rd)' data-ref="recff_math_call" data-ref-filename="recff_math_call">recff_math_call</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col3 decl" id="123J" title='J' data-type='jit_State *' data-ref="123J" data-ref-filename="123J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col4 decl" id="124rd" title='rd' data-type='RecordFFData *' data-ref="124rd" data-ref-filename="124rd">rd</dfn>)</td></tr>
<tr><th id="590">590</th><td>{</td></tr>
<tr><th id="591">591</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="125tr" title='tr' data-type='TRef' data-ref="125tr" data-ref-filename="125tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col3 ref" href="#123J" title='J' data-ref="123J" data-ref-filename="123J">J</a>, <a class="local col3 ref" href="#123J" title='J' data-ref="123J" data-ref-filename="123J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="592">592</th><td>  <a class="local col3 ref" href="#123J" title='J' data-ref="123J" data-ref-filename="123J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_CALLN))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((rd-&gt;data))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_CALLN))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_CALLN' data-ref="IR_CALLN" data-ref-filename="IR_CALLN">IR_CALLN</a>), <a class="local col5 ref" href="#125tr" title='tr' data-ref="125tr" data-ref-filename="125tr">tr</a>, <a class="local col4 ref" href="#124rd" title='rd' data-ref="124rd" data-ref-filename="124rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="593">593</th><td>}</td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_pow" title='recff_math_pow' data-type='void recff_math_pow(jit_State * J, RecordFFData * rd)' data-ref="recff_math_pow" data-ref-filename="recff_math_pow">recff_math_pow</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col6 decl" id="126J" title='J' data-type='jit_State *' data-ref="126J" data-ref-filename="126J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col7 decl" id="127rd" title='rd' data-type='RecordFFData *' data-ref="127rd" data-ref-filename="127rd">rd</dfn>)</td></tr>
<tr><th id="596">596</th><td>{</td></tr>
<tr><th id="597">597</th><td>  <a class="local col6 ref" href="#126J" title='J' data-ref="126J" data-ref-filename="126J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_pow" title='lj_opt_narrow_pow' data-ref="lj_opt_narrow_pow" data-ref-filename="lj_opt_narrow_pow">lj_opt_narrow_pow</a>(<a class="local col6 ref" href="#126J" title='J' data-ref="126J" data-ref-filename="126J">J</a>, <a class="local col6 ref" href="#126J" title='J' data-ref="126J" data-ref-filename="126J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>], <a class="local col6 ref" href="#126J" title='J' data-ref="126J" data-ref-filename="126J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>],</td></tr>
<tr><th id="598">598</th><td>				 &amp;<a class="local col7 ref" href="#127rd" title='rd' data-ref="127rd" data-ref-filename="127rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>], &amp;<a class="local col7 ref" href="#127rd" title='rd' data-ref="127rd" data-ref-filename="127rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="599">599</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col7 ref" href="#127rd" title='rd' data-ref="127rd" data-ref-filename="127rd">rd</a>);</td></tr>
<tr><th id="600">600</th><td>}</td></tr>
<tr><th id="601">601</th><td></td></tr>
<tr><th id="602">602</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_minmax" title='recff_math_minmax' data-type='void recff_math_minmax(jit_State * J, RecordFFData * rd)' data-ref="recff_math_minmax" data-ref-filename="recff_math_minmax">recff_math_minmax</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="128J" title='J' data-type='jit_State *' data-ref="128J" data-ref-filename="128J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="129rd" title='rd' data-type='RecordFFData *' data-ref="129rd" data-ref-filename="129rd">rd</dfn>)</td></tr>
<tr><th id="603">603</th><td>{</td></tr>
<tr><th id="604">604</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="130tr" title='tr' data-type='TRef' data-ref="130tr" data-ref-filename="130tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonumber" title='lj_ir_tonumber' data-ref="lj_ir_tonumber" data-ref-filename="lj_ir_tonumber">lj_ir_tonumber</a>(<a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>, <a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="605">605</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="131op" title='op' data-type='uint32_t' data-ref="131op" data-ref-filename="131op">op</dfn> = <a class="local col9 ref" href="#129rd" title='rd' data-ref="129rd" data-ref-filename="129rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>;</td></tr>
<tr><th id="606">606</th><td>  <a class="typedef" href="lj_obj.h.html#BCReg" title='BCReg' data-type='uint32_t' data-ref="BCReg" data-ref-filename="BCReg">BCReg</a> <dfn class="local col2 decl" id="132i" title='i' data-type='BCReg' data-ref="132i" data-ref-filename="132i">i</dfn>;</td></tr>
<tr><th id="607">607</th><td>  <b>for</b> (<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a> = <var>1</var>; <a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>] != <var>0</var>; <a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>++) {</td></tr>
<tr><th id="608">608</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="133tr2" title='tr2' data-type='TRef' data-ref="133tr2" data-ref-filename="133tr2">tr2</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonumber" title='lj_ir_tonumber' data-ref="lj_ir_tonumber" data-ref-filename="lj_ir_tonumber">lj_ir_tonumber</a>(<a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>, <a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col2 ref" href="#132i" title='i' data-ref="132i" data-ref-filename="132i">i</a>]);</td></tr>
<tr><th id="609">609</th><td>    <a class="typedef" href="lj_ir.h.html#IRType" title='IRType' data-type='enum IRType' data-ref="IRType" data-ref-filename="IRType">IRType</a> <dfn class="local col4 decl" id="134t" title='t' data-type='IRType' data-ref="134t" data-ref-filename="134t">t</dfn> = <a class="enum" href="lj_ir.h.html#318" title='IRT_INT' data-ref="IRT_INT" data-ref-filename="IRT_INT">IRT_INT</a>;</td></tr>
<tr><th id="610">610</th><td>    <b>if</b> (!(<a class="macro" href="lj_ir.h.html#510" title="((((((tr))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a>) &amp;&amp; <a class="macro" href="lj_ir.h.html#510" title="((((((tr2))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col3 ref" href="#133tr2" title='tr2' data-ref="133tr2" data-ref-filename="133tr2">tr2</a>))) {</td></tr>
<tr><th id="611">611</th><td>      <b>if</b> (<a class="macro" href="lj_ir.h.html#510" title="((((((tr))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a>)) <a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((((IRT_NUM&lt;&lt;5)|IRT_INT)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_CONV' data-ref="IR_CONV" data-ref-filename="IR_CONV">IR_CONV</a>), <a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a>, <a class="macro" href="lj_ir.h.html#242" title="((IRT_NUM&lt;&lt;5)|IRT_INT)" data-ref="_M/IRCONV_NUM_INT">IRCONV_NUM_INT</a>);</td></tr>
<tr><th id="612">612</th><td>      <b>if</b> (<a class="macro" href="lj_ir.h.html#510" title="((((((tr2))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col3 ref" href="#133tr2" title='tr2' data-ref="133tr2" data-ref-filename="133tr2">tr2</a>)) <a class="local col3 ref" href="#133tr2" title='tr2' data-ref="133tr2" data-ref-filename="133tr2">tr2</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr2)), (IRRef1)((((IRT_NUM&lt;&lt;5)|IRT_INT)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_CONV))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_CONV' data-ref="IR_CONV" data-ref-filename="IR_CONV">IR_CONV</a>), <a class="local col3 ref" href="#133tr2" title='tr2' data-ref="133tr2" data-ref-filename="133tr2">tr2</a>, <a class="macro" href="lj_ir.h.html#242" title="((IRT_NUM&lt;&lt;5)|IRT_INT)" data-ref="_M/IRCONV_NUM_INT">IRCONV_NUM_INT</a>);</td></tr>
<tr><th id="613">613</th><td>      <a class="local col4 ref" href="#134t" title='t' data-ref="134t" data-ref-filename="134t">t</a> = <a class="enum" href="lj_ir.h.html#318" title='IRT_NUM' data-ref="IRT_NUM" data-ref-filename="IRT_NUM">IRT_NUM</a>;</td></tr>
<tr><th id="614">614</th><td>    }</td></tr>
<tr><th id="615">615</th><td>    <a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((op)&lt;&lt;8) | (t))))), (IRRef1)((tr)), (IRRef1)((tr2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((op)&lt;&lt;8) | (t)))" data-ref="_M/IRT">IRT</a>(<a class="local col1 ref" href="#131op" title='op' data-ref="131op" data-ref-filename="131op">op</a>, <a class="local col4 ref" href="#134t" title='t' data-ref="134t" data-ref-filename="134t">t</a>), <a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a>, <a class="local col3 ref" href="#133tr2" title='tr2' data-ref="133tr2" data-ref-filename="133tr2">tr2</a>);</td></tr>
<tr><th id="616">616</th><td>  }</td></tr>
<tr><th id="617">617</th><td>  <a class="local col8 ref" href="#128J" title='J' data-ref="128J" data-ref-filename="128J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col0 ref" href="#130tr" title='tr' data-ref="130tr" data-ref-filename="130tr">tr</a>;</td></tr>
<tr><th id="618">618</th><td>}</td></tr>
<tr><th id="619">619</th><td></td></tr>
<tr><th id="620">620</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_math_random" title='recff_math_random' data-type='void recff_math_random(jit_State * J, RecordFFData * rd)' data-ref="recff_math_random" data-ref-filename="recff_math_random">recff_math_random</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="135J" title='J' data-type='jit_State *' data-ref="135J" data-ref-filename="135J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="136rd" title='rd' data-type='RecordFFData *' data-ref="136rd" data-ref-filename="136rd">rd</dfn>)</td></tr>
<tr><th id="621">621</th><td>{</td></tr>
<tr><th id="622">622</th><td>  <a class="typedef" href="lj_obj.h.html#GCudata" title='GCudata' data-type='struct GCudata' data-ref="GCudata" data-ref-filename="GCudata">GCudata</a> *<dfn class="local col7 decl" id="137ud" title='ud' data-type='GCudata *' data-ref="137ud" data-ref-filename="137ud">ud</dfn> = <a class="macro" href="lj_obj.h.html#858" title="(&amp;((GCobj *)((((&amp;J-&gt;fn-&gt;c.upvalue[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;ud)" data-ref="_M/udataV">udataV</a>(&amp;<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::fn" title='jit_State::fn' data-ref="jit_State::fn" data-ref-filename="jit_State..fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#GCfuncC::upvalue" title='GCfuncC::upvalue' data-ref="GCfuncC::upvalue" data-ref-filename="GCfuncC..upvalue">upvalue</a>[<var>0</var>]);</td></tr>
<tr><th id="623">623</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="138tr" title='tr' data-type='TRef' data-ref="138tr" data-ref-filename="138tr">tr</dfn>, <dfn class="local col9 decl" id="139one" title='one' data-type='TRef' data-ref="139one" data-ref-filename="139one">one</dfn>;</td></tr>
<tr><th id="624">624</th><td>  <a class="ref fn" href="lj_iropt.h.html#lj_ir_kgc" title='lj_ir_kgc' data-ref="lj_ir_kgc" data-ref-filename="lj_ir_kgc">lj_ir_kgc</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>, <a class="macro" href="lj_obj.h.html#769" title="((GCobj *)(ud))" data-ref="_M/obj2gco">obj2gco</a>(<a class="local col7 ref" href="#137ud" title='ud' data-ref="137ud" data-ref-filename="137ud">ud</a>), <a class="enum" href="lj_ir.h.html#318" title='IRT_UDATA' data-ref="IRT_UDATA" data-ref-filename="IRT_UDATA">IRT_UDATA</a>);  <i>/* Prevent collection. */</i></td></tr>
<tr><th id="625">625</th><td>  <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_prng_u64d' data-ref="IRCALL_lj_prng_u64d" data-ref-filename="IRCALL_lj_prng_u64d">IRCALL_lj_prng_u64d</a>, <a class="macro" href="lj_iropt.h.html#69" title="lj_ir_kptr_(J, IR_KPTR, (((void *)((ud)+1))))" data-ref="_M/lj_ir_kptr">lj_ir_kptr</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>, <a class="macro" href="lj_obj.h.html#339" title="((void *)((ud)+1))" data-ref="_M/uddata">uddata</a>(<a class="local col7 ref" href="#137ud" title='ud' data-ref="137ud" data-ref-filename="137ud">ud</a>)));</td></tr>
<tr><th id="626">626</th><td>  <a class="local col9 ref" href="#139one" title='one' data-ref="139one" data-ref-filename="139one">one</a> = <a class="macro" href="lj_iropt.h.html#74" title="lj_ir_knum_u64(J, (((uint64_t)0x3ff00000 &lt;&lt; 32) + (uint64_t)0x00000000))" data-ref="_M/lj_ir_knum_one">lj_ir_knum_one</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>);</td></tr>
<tr><th id="627">627</th><td>  <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((one))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="local col9 ref" href="#139one" title='one' data-ref="139one" data-ref-filename="139one">one</a>);</td></tr>
<tr><th id="628">628</th><td>  <b>if</b> (<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]) {</td></tr>
<tr><th id="629">629</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="140tr1" title='tr1' data-type='TRef' data-ref="140tr1" data-ref-filename="140tr1">tr1</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>, <a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="630">630</th><td>    <b>if</b> (<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]) {  <i>/* d = floor(d*(r2-r1+1.0)) + r1 */</i></td></tr>
<tr><th id="631">631</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="141tr2" title='tr2' data-type='TRef' data-ref="141tr2" data-ref-filename="141tr2">tr2</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>, <a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="632">632</th><td>      <a class="local col1 ref" href="#141tr2" title='tr2' data-ref="141tr2" data-ref-filename="141tr2">tr2</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr2)), (IRRef1)((tr1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col1 ref" href="#141tr2" title='tr2' data-ref="141tr2" data-ref-filename="141tr2">tr2</a>, <a class="local col0 ref" href="#140tr1" title='tr1' data-ref="140tr1" data-ref-filename="140tr1">tr1</a>);</td></tr>
<tr><th id="633">633</th><td>      <a class="local col1 ref" href="#141tr2" title='tr2' data-ref="141tr2" data-ref-filename="141tr2">tr2</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr2)), (IRRef1)((one))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col1 ref" href="#141tr2" title='tr2' data-ref="141tr2" data-ref-filename="141tr2">tr2</a>, <a class="local col9 ref" href="#139one" title='one' data-ref="139one" data-ref-filename="139one">one</a>);</td></tr>
<tr><th id="634">634</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((tr2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_MUL' data-ref="IR_MUL" data-ref-filename="IR_MUL">IR_MUL</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="local col1 ref" href="#141tr2" title='tr2' data-ref="141tr2" data-ref-filename="141tr2">tr2</a>);</td></tr>
<tr><th id="635">635</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((IRFPM_FLOOR))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="enum" href="lj_ir.h.html#186" title='IRFPM_FLOOR' data-ref="IRFPM_FLOOR" data-ref-filename="IRFPM_FLOOR">IRFPM_FLOOR</a>);</td></tr>
<tr><th id="636">636</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((tr1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="local col0 ref" href="#140tr1" title='tr1' data-ref="140tr1" data-ref-filename="140tr1">tr1</a>);</td></tr>
<tr><th id="637">637</th><td>    } <b>else</b> {  <i>/* d = floor(d*r1) + 1.0 */</i></td></tr>
<tr><th id="638">638</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((tr1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_MUL))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_MUL' data-ref="IR_MUL" data-ref-filename="IR_MUL">IR_MUL</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="local col0 ref" href="#140tr1" title='tr1' data-ref="140tr1" data-ref-filename="140tr1">tr1</a>);</td></tr>
<tr><th id="639">639</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((IRFPM_FLOOR))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_FPMATH))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FPMATH' data-ref="IR_FPMATH" data-ref-filename="IR_FPMATH">IR_FPMATH</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="enum" href="lj_ir.h.html#186" title='IRFPM_FLOOR' data-ref="IRFPM_FLOOR" data-ref-filename="IRFPM_FLOOR">IRFPM_FLOOR</a>);</td></tr>
<tr><th id="640">640</th><td>      <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM)))))), (IRRef1)((tr)), (IRRef1)((one))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#346" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_NUM))))" data-ref="_M/IRTN">IRTN</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>, <a class="local col9 ref" href="#139one" title='one' data-ref="139one" data-ref-filename="139one">one</a>);</td></tr>
<tr><th id="641">641</th><td>    }</td></tr>
<tr><th id="642">642</th><td>  }</td></tr>
<tr><th id="643">643</th><td>  <a class="local col5 ref" href="#135J" title='J' data-ref="135J" data-ref-filename="135J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col8 ref" href="#138tr" title='tr' data-ref="138tr" data-ref-filename="138tr">tr</a>;</td></tr>
<tr><th id="644">644</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col6 ref" href="#136rd" title='rd' data-ref="136rd" data-ref-filename="136rd">rd</a>);</td></tr>
<tr><th id="645">645</th><td>}</td></tr>
<tr><th id="646">646</th><td></td></tr>
<tr><th id="647">647</th><td><i>/* -- Bit library fast functions ------------------------------------------ */</i></td></tr>
<tr><th id="648">648</th><td></td></tr>
<tr><th id="649">649</th><td><i  data-doc="recff_bit_tobit">/* Record bit.tobit. */</i></td></tr>
<tr><th id="650">650</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_bit_tobit" title='recff_bit_tobit' data-type='void recff_bit_tobit(jit_State * J, RecordFFData * rd)' data-ref="recff_bit_tobit" data-ref-filename="recff_bit_tobit">recff_bit_tobit</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="142J" title='J' data-type='jit_State *' data-ref="142J" data-ref-filename="142J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="143rd" title='rd' data-type='RecordFFData *' data-ref="143rd" data-ref-filename="143rd">rd</dfn>)</td></tr>
<tr><th id="651">651</th><td>{</td></tr>
<tr><th id="652">652</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="144tr" title='tr' data-type='TRef' data-ref="144tr" data-ref-filename="144tr">tr</dfn> = <a class="local col2 ref" href="#142J" title='J' data-ref="142J" data-ref-filename="142J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="653">653</th><td><u>#<span data-ppcond="653">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="654">654</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#501" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_CDATA)&lt;&lt;24)))" data-ref="_M/tref_iscdata">tref_iscdata</a>(<a class="local col4 ref" href="#144tr" title='tr' data-ref="144tr" data-ref-filename="144tr">tr</a>)) { <a class="ref fn" href="lj_crecord.h.html#recff_bit64_tobit" title='recff_bit64_tobit' data-ref="recff_bit64_tobit" data-ref-filename="recff_bit64_tobit">recff_bit64_tobit</a>(<a class="local col2 ref" href="#142J" title='J' data-ref="142J" data-ref-filename="142J">J</a>, <a class="local col3 ref" href="#143rd" title='rd' data-ref="143rd" data-ref-filename="143rd">rd</a>); <b>return</b>; }</td></tr>
<tr><th id="655">655</th><td><u>#<span data-ppcond="653">endif</span></u></td></tr>
<tr><th id="656">656</th><td>  <a class="local col2 ref" href="#142J" title='J' data-ref="142J" data-ref-filename="142J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col2 ref" href="#142J" title='J' data-ref="142J" data-ref-filename="142J">J</a>, <a class="local col4 ref" href="#144tr" title='tr' data-ref="144tr" data-ref-filename="144tr">tr</a>);</td></tr>
<tr><th id="657">657</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col3 ref" href="#143rd" title='rd' data-ref="143rd" data-ref-filename="143rd">rd</a>);</td></tr>
<tr><th id="658">658</th><td>}</td></tr>
<tr><th id="659">659</th><td></td></tr>
<tr><th id="660">660</th><td><i  data-doc="recff_bit_unary">/* Record unary bit.bnot, bit.bswap. */</i></td></tr>
<tr><th id="661">661</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_bit_unary" title='recff_bit_unary' data-type='void recff_bit_unary(jit_State * J, RecordFFData * rd)' data-ref="recff_bit_unary" data-ref-filename="recff_bit_unary">recff_bit_unary</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="145J" title='J' data-type='jit_State *' data-ref="145J" data-ref-filename="145J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="146rd" title='rd' data-type='RecordFFData *' data-ref="146rd" data-ref-filename="146rd">rd</dfn>)</td></tr>
<tr><th id="662">662</th><td>{</td></tr>
<tr><th id="663">663</th><td><u>#<span data-ppcond="663">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="664">664</th><td>  <b>if</b> (<a class="ref fn" href="lj_crecord.h.html#recff_bit64_unary" title='recff_bit64_unary' data-ref="recff_bit64_unary" data-ref-filename="recff_bit64_unary">recff_bit64_unary</a>(<a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J">J</a>, <a class="local col6 ref" href="#146rd" title='rd' data-ref="146rd" data-ref-filename="146rd">rd</a>))</td></tr>
<tr><th id="665">665</th><td>    <b>return</b>;</td></tr>
<tr><th id="666">666</th><td><u>#<span data-ppcond="663">endif</span></u></td></tr>
<tr><th id="667">667</th><td>  <a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((rd-&gt;data))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((lj_opt_narrow_tobit(J, J-&gt;base[0]))), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((rd-&gt;data))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="local col6 ref" href="#146rd" title='rd' data-ref="146rd" data-ref-filename="146rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>), <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J">J</a>, <a class="local col5 ref" href="#145J" title='J' data-ref="145J" data-ref-filename="145J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]), <var>0</var>);</td></tr>
<tr><th id="668">668</th><td>}</td></tr>
<tr><th id="669">669</th><td></td></tr>
<tr><th id="670">670</th><td><i  data-doc="recff_bit_nary">/* Record N-ary bit.band, bit.bor, bit.bxor. */</i></td></tr>
<tr><th id="671">671</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_bit_nary" title='recff_bit_nary' data-type='void recff_bit_nary(jit_State * J, RecordFFData * rd)' data-ref="recff_bit_nary" data-ref-filename="recff_bit_nary">recff_bit_nary</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="147J" title='J' data-type='jit_State *' data-ref="147J" data-ref-filename="147J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="148rd" title='rd' data-type='RecordFFData *' data-ref="148rd" data-ref-filename="148rd">rd</dfn>)</td></tr>
<tr><th id="672">672</th><td>{</td></tr>
<tr><th id="673">673</th><td><u>#<span data-ppcond="673">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="674">674</th><td>  <b>if</b> (<a class="ref fn" href="lj_crecord.h.html#recff_bit64_nary" title='recff_bit64_nary' data-ref="recff_bit64_nary" data-ref-filename="recff_bit64_nary">recff_bit64_nary</a>(<a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>, <a class="local col8 ref" href="#148rd" title='rd' data-ref="148rd" data-ref-filename="148rd">rd</a>))</td></tr>
<tr><th id="675">675</th><td>    <b>return</b>;</td></tr>
<tr><th id="676">676</th><td><u>#<span data-ppcond="673">endif</span></u></td></tr>
<tr><th id="677">677</th><td>  {</td></tr>
<tr><th id="678">678</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="149tr" title='tr' data-type='TRef' data-ref="149tr" data-ref-filename="149tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>, <a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="679">679</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="150ot" title='ot' data-type='uint32_t' data-ref="150ot" data-ref-filename="150ot">ot</dfn> = <a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((rd-&gt;data))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="local col8 ref" href="#148rd" title='rd' data-ref="148rd" data-ref-filename="148rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="680">680</th><td>    <a class="typedef" href="lj_obj.h.html#BCReg" title='BCReg' data-type='uint32_t' data-ref="BCReg" data-ref-filename="BCReg">BCReg</a> <dfn class="local col1 decl" id="151i" title='i' data-type='BCReg' data-ref="151i" data-ref-filename="151i">i</dfn>;</td></tr>
<tr><th id="681">681</th><td>    <b>for</b> (<a class="local col1 ref" href="#151i" title='i' data-ref="151i" data-ref-filename="151i">i</a> = <var>1</var>; <a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col1 ref" href="#151i" title='i' data-ref="151i" data-ref-filename="151i">i</a>] != <var>0</var>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i" data-ref-filename="151i">i</a>++)</td></tr>
<tr><th id="682">682</th><td>      <a class="local col9 ref" href="#149tr" title='tr' data-ref="149tr" data-ref-filename="149tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((ot)), (IRRef1)((tr)), (IRRef1)((lj_opt_narrow_tobit(J, J-&gt;base[i])))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="local col0 ref" href="#150ot" title='ot' data-ref="150ot" data-ref-filename="150ot">ot</a>, <a class="local col9 ref" href="#149tr" title='tr' data-ref="149tr" data-ref-filename="149tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>, <a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col1 ref" href="#151i" title='i' data-ref="151i" data-ref-filename="151i">i</a>]));</td></tr>
<tr><th id="683">683</th><td>    <a class="local col7 ref" href="#147J" title='J' data-ref="147J" data-ref-filename="147J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col9 ref" href="#149tr" title='tr' data-ref="149tr" data-ref-filename="149tr">tr</a>;</td></tr>
<tr><th id="684">684</th><td>  }</td></tr>
<tr><th id="685">685</th><td>}</td></tr>
<tr><th id="686">686</th><td></td></tr>
<tr><th id="687">687</th><td><i  data-doc="recff_bit_shift">/* Record bit shifts. */</i></td></tr>
<tr><th id="688">688</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_bit_shift" title='recff_bit_shift' data-type='void recff_bit_shift(jit_State * J, RecordFFData * rd)' data-ref="recff_bit_shift" data-ref-filename="recff_bit_shift">recff_bit_shift</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="152J" title='J' data-type='jit_State *' data-ref="152J" data-ref-filename="152J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="153rd" title='rd' data-type='RecordFFData *' data-ref="153rd" data-ref-filename="153rd">rd</dfn>)</td></tr>
<tr><th id="689">689</th><td>{</td></tr>
<tr><th id="690">690</th><td><u>#<span data-ppcond="690">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="691">691</th><td>  <b>if</b> (<a class="ref fn" href="lj_crecord.h.html#recff_bit64_shift" title='recff_bit64_shift' data-ref="recff_bit64_shift" data-ref-filename="recff_bit64_shift">recff_bit64_shift</a>(<a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>, <a class="local col3 ref" href="#153rd" title='rd' data-ref="153rd" data-ref-filename="153rd">rd</a>))</td></tr>
<tr><th id="692">692</th><td>    <b>return</b>;</td></tr>
<tr><th id="693">693</th><td><u>#<span data-ppcond="690">endif</span></u></td></tr>
<tr><th id="694">694</th><td>  {</td></tr>
<tr><th id="695">695</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="154tr" title='tr' data-type='TRef' data-ref="154tr" data-ref-filename="154tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>, <a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="696">696</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="155tsh" title='tsh' data-type='TRef' data-ref="155tsh" data-ref-filename="155tsh">tsh</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_tobit" title='lj_opt_narrow_tobit' data-ref="lj_opt_narrow_tobit" data-ref-filename="lj_opt_narrow_tobit">lj_opt_narrow_tobit</a>(<a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>, <a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="697">697</th><td>    <a class="typedef" href="lj_ir.h.html#IROp" title='IROp' data-type='enum IROp' data-ref="IROp" data-ref-filename="IROp">IROp</a> <dfn class="local col6 decl" id="156op" title='op' data-type='IROp' data-ref="156op" data-ref-filename="156op">op</dfn> = (<a class="typedef" href="lj_ir.h.html#IROp" title='IROp' data-type='enum IROp' data-ref="IROp" data-ref-filename="IROp">IROp</a>)<a class="local col3 ref" href="#153rd" title='rd' data-ref="153rd" data-ref-filename="153rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>;</td></tr>
<tr><th id="698">698</th><td>    <b>if</b> (!(<a class="local col6 ref" href="#156op" title='op' data-ref="156op" data-ref-filename="156op">op</a> &lt; <a class="enum" href="lj_ir.h.html#154" title='IR_BROL' data-ref="IR_BROL" data-ref-filename="IR_BROL">IR_BROL</a> ? <a class="macro" href="lj_arch.h.html#192" title="1" data-ref="_M/LJ_TARGET_MASKSHIFT">LJ_TARGET_MASKSHIFT</a> : <a class="macro" href="lj_arch.h.html#193" title="1" data-ref="_M/LJ_TARGET_MASKROT">LJ_TARGET_MASKROT</a>) &amp;&amp;</td></tr>
<tr><th id="699">699</th><td>	!<a class="macro" href="lj_ir.h.html#515" title="(((((IRRef1)((tsh)))) &lt; REF_BIAS))" data-ref="_M/tref_isk">tref_isk</a>(<a class="local col5 ref" href="#155tsh" title='tsh' data-ref="155tsh" data-ref-filename="155tsh">tsh</a>))</td></tr>
<tr><th id="700">700</th><td>      <a class="local col5 ref" href="#155tsh" title='tsh' data-ref="155tsh" data-ref-filename="155tsh">tsh</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BAND))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tsh)), (IRRef1)((lj_ir_kint(J, 31)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_BAND))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BAND' data-ref="IR_BAND" data-ref-filename="IR_BAND">IR_BAND</a>), <a class="local col5 ref" href="#155tsh" title='tsh' data-ref="155tsh" data-ref-filename="155tsh">tsh</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>, <var>31</var>));</td></tr>
<tr><th id="701">701</th><td><u>#<span data-ppcond="701">ifdef</span> <span class="macro" data-ref="_M/LJ_TARGET_UNIFYROT">LJ_TARGET_UNIFYROT</span></u></td></tr>
<tr><th id="702">702</th><td>    <b>if</b> (op == (LJ_TARGET_UNIFYROT == <var>1</var> ? IR_BROR : IR_BROL)) {</td></tr>
<tr><th id="703">703</th><td>      op = LJ_TARGET_UNIFYROT == <var>1</var> ? IR_BROL : IR_BROR;</td></tr>
<tr><th id="704">704</th><td>      tsh = emitir(IRTI(IR_NEG), tsh, tsh);</td></tr>
<tr><th id="705">705</th><td>    }</td></tr>
<tr><th id="706">706</th><td><u>#<span data-ppcond="701">endif</span></u></td></tr>
<tr><th id="707">707</th><td>    <a class="local col2 ref" href="#152J" title='J' data-ref="152J" data-ref-filename="152J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((op))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((tsh))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((op))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="local col6 ref" href="#156op" title='op' data-ref="156op" data-ref-filename="156op">op</a>), <a class="local col4 ref" href="#154tr" title='tr' data-ref="154tr" data-ref-filename="154tr">tr</a>, <a class="local col5 ref" href="#155tsh" title='tsh' data-ref="155tsh" data-ref-filename="155tsh">tsh</a>);</td></tr>
<tr><th id="708">708</th><td>  }</td></tr>
<tr><th id="709">709</th><td>}</td></tr>
<tr><th id="710">710</th><td></td></tr>
<tr><th id="711">711</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_bit_tohex" title='recff_bit_tohex' data-type='void recff_bit_tohex(jit_State * J, RecordFFData * rd)' data-ref="recff_bit_tohex" data-ref-filename="recff_bit_tohex">recff_bit_tohex</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="157J" title='J' data-type='jit_State *' data-ref="157J" data-ref-filename="157J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="158rd" title='rd' data-type='RecordFFData *' data-ref="158rd" data-ref-filename="158rd">rd</dfn>)</td></tr>
<tr><th id="712">712</th><td>{</td></tr>
<tr><th id="713">713</th><td><u>#<span data-ppcond="713">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="714">714</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="159hdr" title='hdr' data-type='TRef' data-ref="159hdr" data-ref-filename="159hdr">hdr</dfn> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col7 ref" href="#157J" title='J' data-ref="157J" data-ref-filename="157J">J</a>);</td></tr>
<tr><th id="715">715</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="160tr" title='tr' data-type='TRef' data-ref="160tr" data-ref-filename="160tr">tr</dfn> = <a class="ref fn" href="lj_crecord.h.html#recff_bit64_tohex" title='recff_bit64_tohex' data-ref="recff_bit64_tohex" data-ref-filename="recff_bit64_tohex">recff_bit64_tohex</a>(<a class="local col7 ref" href="#157J" title='J' data-ref="157J" data-ref-filename="157J">J</a>, <a class="local col8 ref" href="#158rd" title='rd' data-ref="158rd" data-ref-filename="158rd">rd</a>, <a class="local col9 ref" href="#159hdr" title='hdr' data-ref="159hdr" data-ref-filename="159hdr">hdr</a>);</td></tr>
<tr><th id="716">716</th><td>  <a class="local col7 ref" href="#157J" title='J' data-ref="157J" data-ref-filename="157J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#160tr" title='tr' data-ref="160tr" data-ref-filename="160tr">tr</a>, <a class="local col9 ref" href="#159hdr" title='hdr' data-ref="159hdr" data-ref-filename="159hdr">hdr</a>);</td></tr>
<tr><th id="717">717</th><td><u>#<span data-ppcond="713">else</span></u></td></tr>
<tr><th id="718">718</th><td>  recff_nyiu(J, rd);  <i>/* Don't bother working around this NYI. */</i></td></tr>
<tr><th id="719">719</th><td><u>#<span data-ppcond="713">endif</span></u></td></tr>
<tr><th id="720">720</th><td>}</td></tr>
<tr><th id="721">721</th><td></td></tr>
<tr><th id="722">722</th><td><i>/* -- String library fast functions --------------------------------------- */</i></td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td><i  data-doc="recff_string_start">/* Specialize to relative starting position for string. */</i></td></tr>
<tr><th id="725">725</th><td><em>static</em> <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="tu decl def fn" id="recff_string_start" title='recff_string_start' data-type='TRef recff_string_start(jit_State * J, GCstr * s, int32_t * st, TRef tr, TRef trlen, TRef tr0)' data-ref="recff_string_start" data-ref-filename="recff_string_start">recff_string_start</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="161J" title='J' data-type='jit_State *' data-ref="161J" data-ref-filename="161J">J</dfn>, <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col2 decl" id="162s" title='s' data-type='GCstr *' data-ref="162s" data-ref-filename="162s">s</dfn>, <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> *<dfn class="local col3 decl" id="163st" title='st' data-type='int32_t *' data-ref="163st" data-ref-filename="163st">st</dfn>, <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="164tr" title='tr' data-type='TRef' data-ref="164tr" data-ref-filename="164tr">tr</dfn>,</td></tr>
<tr><th id="726">726</th><td>			       <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="165trlen" title='trlen' data-type='TRef' data-ref="165trlen" data-ref-filename="165trlen">trlen</dfn>, <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="166tr0" title='tr0' data-type='TRef' data-ref="166tr0" data-ref-filename="166tr0">tr0</dfn>)</td></tr>
<tr><th id="727">727</th><td>{</td></tr>
<tr><th id="728">728</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col7 decl" id="167start" title='start' data-type='int32_t' data-ref="167start" data-ref-filename="167start">start</dfn> = *<a class="local col3 ref" href="#163st" title='st' data-ref="163st" data-ref-filename="163st">st</a>;</td></tr>
<tr><th id="729">729</th><td>  <b>if</b> (<a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="730">730</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LT' data-ref="IR_LT" data-ref-filename="IR_LT">IR_LT</a>), <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>, <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>);</td></tr>
<tr><th id="731">731</th><td>    <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trlen)), (IRRef1)((tr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col5 ref" href="#165trlen" title='trlen' data-ref="165trlen" data-ref-filename="165trlen">trlen</a>, <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>);</td></tr>
<tr><th id="732">732</th><td>    <a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> = <a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> + (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col2 ref" href="#162s" title='s' data-ref="162s" data-ref-filename="162s">s</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>;</td></tr>
<tr><th id="733">733</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((start &lt; 0 ? (((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))) : (((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> &lt; <var>0</var> ? <a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LT' data-ref="IR_LT" data-ref-filename="IR_LT">IR_LT</a>) : <a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_GE' data-ref="IR_GE" data-ref-filename="IR_GE">IR_GE</a>), <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>, <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>);</td></tr>
<tr><th id="734">734</th><td>    <b>if</b> (<a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="735">735</th><td>      <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a> = <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>;</td></tr>
<tr><th id="736">736</th><td>      <a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> = <var>0</var>;</td></tr>
<tr><th id="737">737</th><td>    }</td></tr>
<tr><th id="738">738</th><td>  } <b>else</b> <b>if</b> (<a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a> == <var>0</var>) {</td></tr>
<tr><th id="739">739</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>), <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>, <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>);</td></tr>
<tr><th id="740">740</th><td>    <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a> = <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>;</td></tr>
<tr><th id="741">741</th><td>  } <b>else</b> {</td></tr>
<tr><th id="742">742</th><td>    <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kint(J, -1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col1 ref" href="#161J" title='J' data-ref="161J" data-ref-filename="161J">J</a>, -<var>1</var>));</td></tr>
<tr><th id="743">743</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_GE' data-ref="IR_GE" data-ref-filename="IR_GE">IR_GE</a>), <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>, <a class="local col6 ref" href="#166tr0" title='tr0' data-ref="166tr0" data-ref-filename="166tr0">tr0</a>);</td></tr>
<tr><th id="744">744</th><td>    <a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a>--;</td></tr>
<tr><th id="745">745</th><td>  }</td></tr>
<tr><th id="746">746</th><td>  *<a class="local col3 ref" href="#163st" title='st' data-ref="163st" data-ref-filename="163st">st</a> = <a class="local col7 ref" href="#167start" title='start' data-ref="167start" data-ref-filename="167start">start</a>;</td></tr>
<tr><th id="747">747</th><td>  <b>return</b> <a class="local col4 ref" href="#164tr" title='tr' data-ref="164tr" data-ref-filename="164tr">tr</a>;</td></tr>
<tr><th id="748">748</th><td>}</td></tr>
<tr><th id="749">749</th><td></td></tr>
<tr><th id="750">750</th><td><i  data-doc="recff_string_range">/* Handle string.byte (rd-&gt;data = 0) and string.sub (rd-&gt;data = 1). */</i></td></tr>
<tr><th id="751">751</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_range" title='recff_string_range' data-type='void recff_string_range(jit_State * J, RecordFFData * rd)' data-ref="recff_string_range" data-ref-filename="recff_string_range">recff_string_range</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="168J" title='J' data-type='jit_State *' data-ref="168J" data-ref-filename="168J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="169rd" title='rd' data-type='RecordFFData *' data-ref="169rd" data-ref-filename="169rd">rd</dfn>)</td></tr>
<tr><th id="752">752</th><td>{</td></tr>
<tr><th id="753">753</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="170trstr" title='trstr' data-type='TRef' data-ref="170trstr" data-ref-filename="170trstr">trstr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="754">754</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="171trlen" title='trlen' data-type='TRef' data-ref="171trlen" data-ref-filename="171trlen">trlen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trstr)), (IRRef1)((IRFL_STR_LEN))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>), <a class="local col0 ref" href="#170trstr" title='trstr' data-ref="170trstr" data-ref-filename="170trstr">trstr</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_STR_LEN' data-ref="IRFL_STR_LEN" data-ref-filename="IRFL_STR_LEN">IRFL_STR_LEN</a>);</td></tr>
<tr><th id="755">755</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="172tr0" title='tr0' data-type='TRef' data-ref="172tr0" data-ref-filename="172tr0">tr0</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <var>0</var>);</td></tr>
<tr><th id="756">756</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="173trstart" title='trstart' data-type='TRef' data-ref="173trstart" data-ref-filename="173trstart">trstart</dfn>, <dfn class="local col4 decl" id="174trend" title='trend' data-type='TRef' data-ref="174trend" data-ref-filename="174trend">trend</dfn>;</td></tr>
<tr><th id="757">757</th><td>  <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col5 decl" id="175str" title='str' data-type='GCstr *' data-ref="175str" data-ref-filename="175str">str</dfn> = <a class="tu ref fn" href="#argv2str" title='argv2str' data-use='c' data-ref="argv2str" data-ref-filename="argv2str">argv2str</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="758">758</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col6 decl" id="176start" title='start' data-type='int32_t' data-ref="176start" data-ref-filename="176start">start</dfn>, <dfn class="local col7 decl" id="177end" title='end' data-type='int32_t' data-ref="177end" data-ref-filename="177end">end</dfn>;</td></tr>
<tr><th id="759">759</th><td>  <b>if</b> (<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>) {  <i>/* string.sub(str, start [,end]) */</i></td></tr>
<tr><th id="760">760</th><td>    <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="761">761</th><td>    <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="762">762</th><td>    <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>];</td></tr>
<tr><th id="763">763</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#495" title="(((((trend)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>)) {</td></tr>
<tr><th id="764">764</th><td>      <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, -<var>1</var>);</td></tr>
<tr><th id="765">765</th><td>      <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = -<var>1</var>;</td></tr>
<tr><th id="766">766</th><td>    } <b>else</b> {</td></tr>
<tr><th id="767">767</th><td>      <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>);</td></tr>
<tr><th id="768">768</th><td>      <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>2</var>]);</td></tr>
<tr><th id="769">769</th><td>    }</td></tr>
<tr><th id="770">770</th><td>  } <b>else</b> {  <i>/* string.byte(str, [,start [,end]]) */</i></td></tr>
<tr><th id="771">771</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[1])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>])) {</td></tr>
<tr><th id="772">772</th><td>      <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a> = <var>1</var>;</td></tr>
<tr><th id="773">773</th><td>      <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <var>1</var>);</td></tr>
<tr><th id="774">774</th><td>    } <b>else</b> {</td></tr>
<tr><th id="775">775</th><td>      <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="776">776</th><td>      <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="777">777</th><td>    }</td></tr>
<tr><th id="778">778</th><td>    <b>if</b> (<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] &amp;&amp; !<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[2])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>])) {</td></tr>
<tr><th id="779">779</th><td>      <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>]);</td></tr>
<tr><th id="780">780</th><td>      <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>2</var>]);</td></tr>
<tr><th id="781">781</th><td>    } <b>else</b> {</td></tr>
<tr><th id="782">782</th><td>      <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>;</td></tr>
<tr><th id="783">783</th><td>      <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a>;</td></tr>
<tr><th id="784">784</th><td>    }</td></tr>
<tr><th id="785">785</th><td>  }</td></tr>
<tr><th id="786">786</th><td>  <b>if</b> (<a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="787">787</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LT' data-ref="IR_LT" data-ref-filename="IR_LT">IR_LT</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col2 ref" href="#172tr0" title='tr0' data-ref="172tr0" data-ref-filename="172tr0">tr0</a>);</td></tr>
<tr><th id="788">788</th><td>    <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)(((lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trlen)), (IRRef1)((trend))), lj_opt_fold(J)))), (IRRef1)((lj_ir_kint(J, 1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trlen)), (IRRef1)((trend))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col1 ref" href="#171trlen" title='trlen' data-ref="171trlen" data-ref-filename="171trlen">trlen</a>, <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>),</td></tr>
<tr><th id="789">789</th><td>		   <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <var>1</var>));</td></tr>
<tr><th id="790">790</th><td>    <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a>+(<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col5 ref" href="#175str" title='str' data-ref="175str" data-ref-filename="175str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>+<var>1</var>;</td></tr>
<tr><th id="791">791</th><td>  } <b>else</b> <b>if</b> ((<a class="typedef" href="lj_obj.h.html#MSize" title='MSize' data-type='uint32_t' data-ref="MSize" data-ref-filename="MSize">MSize</a>)<a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> &lt;= <a class="local col5 ref" href="#175str" title='str' data-ref="175str" data-ref-filename="175str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>) {</td></tr>
<tr><th id="792">792</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trlen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ULE' data-ref="IR_ULE" data-ref-filename="IR_ULE">IR_ULE</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col1 ref" href="#171trlen" title='trlen' data-ref="171trlen" data-ref-filename="171trlen">trlen</a>);</td></tr>
<tr><th id="793">793</th><td>  } <b>else</b> {</td></tr>
<tr><th id="794">794</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_UGT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trlen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_UGT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_UGT' data-ref="IR_UGT" data-ref-filename="IR_UGT">IR_UGT</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col1 ref" href="#171trlen" title='trlen' data-ref="171trlen" data-ref-filename="171trlen">trlen</a>);</td></tr>
<tr><th id="795">795</th><td>    <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> = (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col5 ref" href="#175str" title='str' data-ref="175str" data-ref-filename="175str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>;</td></tr>
<tr><th id="796">796</th><td>    <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a> = <a class="local col1 ref" href="#171trlen" title='trlen' data-ref="171trlen" data-ref-filename="171trlen">trlen</a>;</td></tr>
<tr><th id="797">797</th><td>  }</td></tr>
<tr><th id="798">798</th><td>  <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a> = <a class="tu ref fn" href="#recff_string_start" title='recff_string_start' data-use='c' data-ref="recff_string_start" data-ref-filename="recff_string_start">recff_string_start</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="local col5 ref" href="#175str" title='str' data-ref="175str" data-ref-filename="175str">str</a>, &amp;<a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>, <a class="local col1 ref" href="#171trlen" title='trlen' data-ref="171trlen" data-ref-filename="171trlen">trlen</a>, <a class="local col2 ref" href="#172tr0" title='tr0' data-ref="172tr0" data-ref-filename="172tr0">tr0</a>);</td></tr>
<tr><th id="799">799</th><td>  <b>if</b> (<a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>) {  <i>/* Return string.sub result. */</i></td></tr>
<tr><th id="800">800</th><td>    <b>if</b> (<a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> - <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="801">801</th><td>      <i>/* Also handle empty range here, to avoid extra traces. */</i></td></tr>
<tr><th id="802">802</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="178trptr" title='trptr' data-type='TRef' data-ref="178trptr" data-ref-filename="178trptr">trptr</dfn>, <dfn class="local col9 decl" id="179trslen" title='trslen' data-type='TRef' data-ref="179trslen" data-ref-filename="179trslen">trslen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>);</td></tr>
<tr><th id="803">803</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trslen)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_GE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_GE' data-ref="IR_GE" data-ref-filename="IR_GE">IR_GE</a>), <a class="local col9 ref" href="#179trslen" title='trslen' data-ref="179trslen" data-ref-filename="179trslen">trslen</a>, <a class="local col2 ref" href="#172tr0" title='tr0' data-ref="172tr0" data-ref-filename="172tr0">tr0</a>);</td></tr>
<tr><th id="804">804</th><td>      <a class="local col8 ref" href="#178trptr" title='trptr' data-ref="178trptr" data-ref-filename="178trptr">trptr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((trstr)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#170trstr" title='trstr' data-ref="170trstr" data-ref-filename="170trstr">trstr</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>);</td></tr>
<tr><th id="805">805</th><td>      <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_SNEW)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((trptr)), (IRRef1)((trslen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_SNEW)&lt;&lt;8) | (IRT_STR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SNEW' data-ref="IR_SNEW" data-ref-filename="IR_SNEW">IR_SNEW</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col8 ref" href="#178trptr" title='trptr' data-ref="178trptr" data-ref-filename="178trptr">trptr</a>, <a class="local col9 ref" href="#179trslen" title='trslen' data-ref="179trslen" data-ref-filename="179trslen">trslen</a>);</td></tr>
<tr><th id="806">806</th><td>    } <b>else</b> {  <i>/* Range underflow: return empty string. */</i></td></tr>
<tr><th id="807">807</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_LT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LT' data-ref="IR_LT" data-ref-filename="IR_LT">IR_LT</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>);</td></tr>
<tr><th id="808">808</th><td>      <a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((&amp;(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)-&gt;strempty))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, &amp;<a class="macro" href="lj_dispatch.h.html#115" title="(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)" data-ref="_M/J2G">J2G</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>)-&gt;<a class="ref field" href="lj_obj.h.html#global_State::strempty" title='global_State::strempty' data-ref="global_State::strempty" data-ref-filename="global_State..strempty">strempty</a>);</td></tr>
<tr><th id="809">809</th><td>    }</td></tr>
<tr><th id="810">810</th><td>  } <b>else</b> {  <i>/* Return string.byte result(s). */</i></td></tr>
<tr><th id="811">811</th><td>    <span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="local col0 decl" id="180i" title='i' data-type='ptrdiff_t' data-ref="180i" data-ref-filename="180i">i</dfn>, <dfn class="local col1 decl" id="181len" title='len' data-type='ptrdiff_t' data-ref="181len" data-ref-filename="181len">len</dfn> = <a class="local col7 ref" href="#177end" title='end' data-ref="177end" data-ref-filename="177end">end</a> - <a class="local col6 ref" href="#176start" title='start' data-ref="176start" data-ref-filename="176start">start</a>;</td></tr>
<tr><th id="812">812</th><td>    <b>if</b> (<a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="813">813</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="182trslen" title='trslen' data-type='TRef' data-ref="182trslen" data-ref-filename="182trslen">trslen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>);</td></tr>
<tr><th id="814">814</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trslen)), (IRRef1)((lj_ir_kint(J, (int32_t)len)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>), <a class="local col2 ref" href="#182trslen" title='trslen' data-ref="182trslen" data-ref-filename="182trslen">trslen</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a>));</td></tr>
<tr><th id="815">815</th><td>      <b>if</b> (<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::baseslot" title='jit_State::baseslot' data-ref="jit_State::baseslot" data-ref-filename="jit_State..baseslot">baseslot</a> + <a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a> &gt; <a class="macro" href="lj_def.h.html#85" title="250" data-ref="_M/LJ_MAX_JSLOTS">LJ_MAX_JSLOTS</a>)</td></tr>
<tr><th id="816">816</th><td>	<a class="ref fn" href="lj_trace.h.html#lj_trace_err_info" title='lj_trace_err_info' data-ref="lj_trace_err_info" data-ref-filename="lj_trace_err_info">lj_trace_err_info</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, <a class="enum" href="lj_traceerr.h.html#12" title='LJ_TRERR_STACKOV' data-ref="LJ_TRERR_STACKOV" data-ref-filename="LJ_TRERR_STACKOV">LJ_TRERR_STACKOV</a>);</td></tr>
<tr><th id="817">817</th><td>      <a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a>;</td></tr>
<tr><th id="818">818</th><td>      <b>for</b> (<a class="local col0 ref" href="#180i" title='i' data-ref="180i" data-ref-filename="180i">i</a> = <var>0</var>; <a class="local col0 ref" href="#180i" title='i' data-ref="180i" data-ref-filename="180i">i</a> &lt; <a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a>; <a class="local col0 ref" href="#180i" title='i' data-ref="180i" data-ref-filename="180i">i</a>++) {</td></tr>
<tr><th id="819">819</th><td>	<a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="183tmp" title='tmp' data-type='TRef' data-ref="183tmp" data-ref-filename="183tmp">tmp</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trstart)), (IRRef1)((lj_ir_kint(J, (int32_t)i)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>, (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col0 ref" href="#180i" title='i' data-ref="180i" data-ref-filename="180i">i</a>));</td></tr>
<tr><th id="820">820</th><td>	<a class="local col3 ref" href="#183tmp" title='tmp' data-ref="183tmp" data-ref-filename="183tmp">tmp</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((trstr)), (IRRef1)((tmp))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#170trstr" title='trstr' data-ref="170trstr" data-ref-filename="170trstr">trstr</a>, <a class="local col3 ref" href="#183tmp" title='tmp' data-ref="183tmp" data-ref-filename="183tmp">tmp</a>);</td></tr>
<tr><th id="821">821</th><td>	<a class="local col8 ref" href="#168J" title='J' data-ref="168J" data-ref-filename="168J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col0 ref" href="#180i" title='i' data-ref="180i" data-ref-filename="180i">i</a>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8))))), (IRRef1)((tmp)), (IRRef1)((1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_XLOAD' data-ref="IR_XLOAD" data-ref-filename="IR_XLOAD">IR_XLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_U8' data-ref="IRT_U8" data-ref-filename="IRT_U8">IRT_U8</a>), <a class="local col3 ref" href="#183tmp" title='tmp' data-ref="183tmp" data-ref-filename="183tmp">tmp</a>, <a class="macro" href="lj_ir.h.html#230" title="1" data-ref="_M/IRXLOAD_READONLY">IRXLOAD_READONLY</a>);</td></tr>
<tr><th id="822">822</th><td>      }</td></tr>
<tr><th id="823">823</th><td>    } <b>else</b> {  <i>/* Empty range or range underflow: return no results. */</i></td></tr>
<tr><th id="824">824</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_LE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trend)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_LE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_LE' data-ref="IR_LE" data-ref-filename="IR_LE">IR_LE</a>), <a class="local col4 ref" href="#174trend" title='trend' data-ref="174trend" data-ref-filename="174trend">trend</a>, <a class="local col3 ref" href="#173trstart" title='trstart' data-ref="173trstart" data-ref-filename="173trstart">trstart</a>);</td></tr>
<tr><th id="825">825</th><td>      <a class="local col9 ref" href="#169rd" title='rd' data-ref="169rd" data-ref-filename="169rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>0</var>;</td></tr>
<tr><th id="826">826</th><td>    }</td></tr>
<tr><th id="827">827</th><td>  }</td></tr>
<tr><th id="828">828</th><td>}</td></tr>
<tr><th id="829">829</th><td></td></tr>
<tr><th id="830">830</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_char" title='recff_string_char' data-type='void recff_string_char(jit_State * J, RecordFFData * rd)' data-ref="recff_string_char" data-ref-filename="recff_string_char">recff_string_char</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="184J" title='J' data-type='jit_State *' data-ref="184J" data-ref-filename="184J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="185rd" title='rd' data-type='RecordFFData *' data-ref="185rd" data-ref-filename="185rd">rd</dfn>)</td></tr>
<tr><th id="831">831</th><td>{</td></tr>
<tr><th id="832">832</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="186k255" title='k255' data-type='TRef' data-ref="186k255" data-ref-filename="186k255">k255</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>, <var>255</var>);</td></tr>
<tr><th id="833">833</th><td>  <a class="typedef" href="lj_obj.h.html#BCReg" title='BCReg' data-type='uint32_t' data-ref="BCReg" data-ref-filename="BCReg">BCReg</a> <dfn class="local col7 decl" id="187i" title='i' data-type='BCReg' data-ref="187i" data-ref-filename="187i">i</dfn>;</td></tr>
<tr><th id="834">834</th><td>  <b>for</b> (<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a> = <var>0</var>; <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>] != <var>0</var>; <a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>++) {  <i>/* Convert char values to strings. */</i></td></tr>
<tr><th id="835">835</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="188tr" title='tr' data-type='TRef' data-ref="188tr" data-ref-filename="188tr">tr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>, <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>]);</td></tr>
<tr><th id="836">836</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((k255))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ULE' data-ref="IR_ULE" data-ref-filename="IR_ULE">IR_ULE</a>), <a class="local col8 ref" href="#188tr" title='tr' data-ref="188tr" data-ref-filename="188tr">tr</a>, <a class="local col6 ref" href="#186k255" title='k255' data-ref="186k255" data-ref-filename="186k255">k255</a>);</td></tr>
<tr><th id="837">837</th><td>    <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tr)), (IRRef1)((2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_TOSTR' data-ref="IR_TOSTR" data-ref-filename="IR_TOSTR">IR_TOSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col8 ref" href="#188tr" title='tr' data-ref="188tr" data-ref-filename="188tr">tr</a>, <a class="macro" href="lj_ir.h.html#257" title="2" data-ref="_M/IRTOSTR_CHAR">IRTOSTR_CHAR</a>);</td></tr>
<tr><th id="838">838</th><td>  }</td></tr>
<tr><th id="839">839</th><td>  <b>if</b> (<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a> &gt; <var>1</var>) {  <i>/* Concatenate the strings, if there's more than one. */</i></td></tr>
<tr><th id="840">840</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="189hdr" title='hdr' data-type='TRef' data-ref="189hdr" data-ref-filename="189hdr">hdr</dfn> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>), <dfn class="local col0 decl" id="190tr" title='tr' data-type='TRef' data-ref="190tr" data-ref-filename="190tr">tr</dfn> = <a class="local col9 ref" href="#189hdr" title='hdr' data-ref="189hdr" data-ref-filename="189hdr">hdr</a>;</td></tr>
<tr><th id="841">841</th><td>    <b>for</b> (<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a> = <var>0</var>; <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>] != <var>0</var>; <a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>++)</td></tr>
<tr><th id="842">842</th><td>      <a class="local col0 ref" href="#190tr" title='tr' data-ref="190tr" data-ref-filename="190tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((J-&gt;base[i]))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#190tr" title='tr' data-ref="190tr" data-ref-filename="190tr">tr</a>, <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a>]);</td></tr>
<tr><th id="843">843</th><td>    <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#190tr" title='tr' data-ref="190tr" data-ref-filename="190tr">tr</a>, <a class="local col9 ref" href="#189hdr" title='hdr' data-ref="189hdr" data-ref-filename="189hdr">hdr</a>);</td></tr>
<tr><th id="844">844</th><td>  } <b>else</b> <b>if</b> (<a class="local col7 ref" href="#187i" title='i' data-ref="187i" data-ref-filename="187i">i</a> == <var>0</var>) {</td></tr>
<tr><th id="845">845</th><td>    <a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((&amp;(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)-&gt;strempty))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>, &amp;<a class="macro" href="lj_dispatch.h.html#115" title="(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)" data-ref="_M/J2G">J2G</a>(<a class="local col4 ref" href="#184J" title='J' data-ref="184J" data-ref-filename="184J">J</a>)-&gt;<a class="ref field" href="lj_obj.h.html#global_State::strempty" title='global_State::strempty' data-ref="global_State::strempty" data-ref-filename="global_State..strempty">strempty</a>);</td></tr>
<tr><th id="846">846</th><td>  }</td></tr>
<tr><th id="847">847</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col5 ref" href="#185rd" title='rd' data-ref="185rd" data-ref-filename="185rd">rd</a>);</td></tr>
<tr><th id="848">848</th><td>}</td></tr>
<tr><th id="849">849</th><td></td></tr>
<tr><th id="850">850</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_rep" title='recff_string_rep' data-type='void recff_string_rep(jit_State * J, RecordFFData * rd)' data-ref="recff_string_rep" data-ref-filename="recff_string_rep">recff_string_rep</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="191J" title='J' data-type='jit_State *' data-ref="191J" data-ref-filename="191J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="192rd" title='rd' data-type='RecordFFData *' data-ref="192rd" data-ref-filename="192rd">rd</dfn>)</td></tr>
<tr><th id="851">851</th><td>{</td></tr>
<tr><th id="852">852</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="193str" title='str' data-type='TRef' data-ref="193str" data-ref-filename="193str">str</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, <a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="853">853</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="194rep" title='rep' data-type='TRef' data-ref="194rep" data-ref-filename="194rep">rep</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, <a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="854">854</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="195hdr" title='hdr' data-type='TRef' data-ref="195hdr" data-ref-filename="195hdr">hdr</dfn>, <dfn class="local col6 decl" id="196tr" title='tr' data-type='TRef' data-ref="196tr" data-ref-filename="196tr">tr</dfn>, <dfn class="local col7 decl" id="197str2" title='str2' data-type='TRef' data-ref="197str2" data-ref-filename="197str2">str2</dfn> = <var>0</var>;</td></tr>
<tr><th id="855">855</th><td>  <b>if</b> (!<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[2])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>])) {</td></tr>
<tr><th id="856">856</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="198sep" title='sep' data-type='TRef' data-ref="198sep" data-ref-filename="198sep">sep</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, <a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>]);</td></tr>
<tr><th id="857">857</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col9 decl" id="199vrep" title='vrep' data-type='int32_t' data-ref="199vrep" data-ref-filename="199vrep">vrep</dfn> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, &amp;<a class="local col2 ref" href="#192rd" title='rd' data-ref="192rd" data-ref-filename="192rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="858">858</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((vrep &gt; 1 ? IR_GT : IR_LE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((rep)), (IRRef1)((lj_ir_kint(J, 1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((vrep &gt; 1 ? IR_GT : IR_LE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="local col9 ref" href="#199vrep" title='vrep' data-ref="199vrep" data-ref-filename="199vrep">vrep</a> &gt; <var>1</var> ? <a class="enum" href="lj_ir.h.html#154" title='IR_GT' data-ref="IR_GT" data-ref-filename="IR_GT">IR_GT</a> : <a class="enum" href="lj_ir.h.html#154" title='IR_LE' data-ref="IR_LE" data-ref-filename="IR_LE">IR_LE</a>), <a class="local col4 ref" href="#194rep" title='rep' data-ref="194rep" data-ref-filename="194rep">rep</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, <var>1</var>));</td></tr>
<tr><th id="859">859</th><td>    <b>if</b> (<a class="local col9 ref" href="#199vrep" title='vrep' data-ref="199vrep" data-ref-filename="199vrep">vrep</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="860">860</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="200hdr2" title='hdr2' data-type='TRef' data-ref="200hdr2" data-ref-filename="200hdr2">hdr2</dfn> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>);</td></tr>
<tr><th id="861">861</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="201tr2" title='tr2' data-type='TRef' data-ref="201tr2" data-ref-filename="201tr2">tr2</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((hdr2)), (IRRef1)((sep))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#200hdr2" title='hdr2' data-ref="200hdr2" data-ref-filename="200hdr2">hdr2</a>, <a class="local col8 ref" href="#198sep" title='sep' data-ref="198sep" data-ref-filename="198sep">sep</a>);</td></tr>
<tr><th id="862">862</th><td>      <a class="local col1 ref" href="#201tr2" title='tr2' data-ref="201tr2" data-ref-filename="201tr2">tr2</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr2)), (IRRef1)((str))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col1 ref" href="#201tr2" title='tr2' data-ref="201tr2" data-ref-filename="201tr2">tr2</a>, <a class="local col3 ref" href="#193str" title='str' data-ref="193str" data-ref-filename="193str">str</a>);</td></tr>
<tr><th id="863">863</th><td>      <a class="local col7 ref" href="#197str2" title='str2' data-ref="197str2" data-ref-filename="197str2">str2</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr2)), (IRRef1)((hdr2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col1 ref" href="#201tr2" title='tr2' data-ref="201tr2" data-ref-filename="201tr2">tr2</a>, <a class="local col0 ref" href="#200hdr2" title='hdr2' data-ref="200hdr2" data-ref-filename="200hdr2">hdr2</a>);</td></tr>
<tr><th id="864">864</th><td>    }</td></tr>
<tr><th id="865">865</th><td>  }</td></tr>
<tr><th id="866">866</th><td>  <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a> = <a class="local col5 ref" href="#195hdr" title='hdr' data-ref="195hdr" data-ref-filename="195hdr">hdr</a> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>);</td></tr>
<tr><th id="867">867</th><td>  <b>if</b> (<a class="local col7 ref" href="#197str2" title='str2' data-ref="197str2" data-ref-filename="197str2">str2</a>) {</td></tr>
<tr><th id="868">868</th><td>    <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((str))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a>, <a class="local col3 ref" href="#193str" title='str' data-ref="193str" data-ref-filename="193str">str</a>);</td></tr>
<tr><th id="869">869</th><td>    <a class="local col3 ref" href="#193str" title='str' data-ref="193str" data-ref-filename="193str">str</a> = <a class="local col7 ref" href="#197str2" title='str2' data-ref="197str2" data-ref-filename="197str2">str2</a>;</td></tr>
<tr><th id="870">870</th><td>    <a class="local col4 ref" href="#194rep" title='rep' data-ref="194rep" data-ref-filename="194rep">rep</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((rep)), (IRRef1)((lj_ir_kint(J, -1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col4 ref" href="#194rep" title='rep' data-ref="194rep" data-ref-filename="194rep">rep</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, -<var>1</var>));</td></tr>
<tr><th id="871">871</th><td>  }</td></tr>
<tr><th id="872">872</th><td>  <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_buf_putstr_rep' data-ref="IRCALL_lj_buf_putstr_rep" data-ref-filename="IRCALL_lj_buf_putstr_rep">IRCALL_lj_buf_putstr_rep</a>, <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a>, <a class="local col3 ref" href="#193str" title='str' data-ref="193str" data-ref-filename="193str">str</a>, <a class="local col4 ref" href="#194rep" title='rep' data-ref="194rep" data-ref-filename="194rep">rep</a>);</td></tr>
<tr><th id="873">873</th><td>  <a class="local col1 ref" href="#191J" title='J' data-ref="191J" data-ref-filename="191J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col6 ref" href="#196tr" title='tr' data-ref="196tr" data-ref-filename="196tr">tr</a>, <a class="local col5 ref" href="#195hdr" title='hdr' data-ref="195hdr" data-ref-filename="195hdr">hdr</a>);</td></tr>
<tr><th id="874">874</th><td>}</td></tr>
<tr><th id="875">875</th><td></td></tr>
<tr><th id="876">876</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_op" title='recff_string_op' data-type='void recff_string_op(jit_State * J, RecordFFData * rd)' data-ref="recff_string_op" data-ref-filename="recff_string_op">recff_string_op</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="202J" title='J' data-type='jit_State *' data-ref="202J" data-ref-filename="202J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="203rd" title='rd' data-type='RecordFFData *' data-ref="203rd" data-ref-filename="203rd">rd</dfn>)</td></tr>
<tr><th id="877">877</th><td>{</td></tr>
<tr><th id="878">878</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="204str" title='str' data-type='TRef' data-ref="204str" data-ref-filename="204str">str</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J">J</a>, <a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="879">879</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="205hdr" title='hdr' data-type='TRef' data-ref="205hdr" data-ref-filename="205hdr">hdr</dfn> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J">J</a>);</td></tr>
<tr><th id="880">880</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="206tr" title='tr' data-type='TRef' data-ref="206tr" data-ref-filename="206tr">tr</dfn> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J">J</a>, <a class="local col3 ref" href="#203rd" title='rd' data-ref="203rd" data-ref-filename="203rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>, <a class="local col5 ref" href="#205hdr" title='hdr' data-ref="205hdr" data-ref-filename="205hdr">hdr</a>, <a class="local col4 ref" href="#204str" title='str' data-ref="204str" data-ref-filename="204str">str</a>);</td></tr>
<tr><th id="881">881</th><td>  <a class="local col2 ref" href="#202J" title='J' data-ref="202J" data-ref-filename="202J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col6 ref" href="#206tr" title='tr' data-ref="206tr" data-ref-filename="206tr">tr</a>, <a class="local col5 ref" href="#205hdr" title='hdr' data-ref="205hdr" data-ref-filename="205hdr">hdr</a>);</td></tr>
<tr><th id="882">882</th><td>}</td></tr>
<tr><th id="883">883</th><td></td></tr>
<tr><th id="884">884</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_find" title='recff_string_find' data-type='void recff_string_find(jit_State * J, RecordFFData * rd)' data-ref="recff_string_find" data-ref-filename="recff_string_find">recff_string_find</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="207J" title='J' data-type='jit_State *' data-ref="207J" data-ref-filename="207J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="208rd" title='rd' data-type='RecordFFData *' data-ref="208rd" data-ref-filename="208rd">rd</dfn>)</td></tr>
<tr><th id="885">885</th><td>{</td></tr>
<tr><th id="886">886</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="209trstr" title='trstr' data-type='TRef' data-ref="209trstr" data-ref-filename="209trstr">trstr</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="887">887</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="210trpat" title='trpat' data-type='TRef' data-ref="210trpat" data-ref-filename="210trpat">trpat</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="888">888</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="211trlen" title='trlen' data-type='TRef' data-ref="211trlen" data-ref-filename="211trlen">trlen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trstr)), (IRRef1)((IRFL_STR_LEN))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>), <a class="local col9 ref" href="#209trstr" title='trstr' data-ref="209trstr" data-ref-filename="209trstr">trstr</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_STR_LEN' data-ref="IRFL_STR_LEN" data-ref-filename="IRFL_STR_LEN">IRFL_STR_LEN</a>);</td></tr>
<tr><th id="889">889</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="212tr0" title='tr0' data-type='TRef' data-ref="212tr0" data-ref-filename="212tr0">tr0</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <var>0</var>);</td></tr>
<tr><th id="890">890</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="213trstart" title='trstart' data-type='TRef' data-ref="213trstart" data-ref-filename="213trstart">trstart</dfn>;</td></tr>
<tr><th id="891">891</th><td>  <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col4 decl" id="214str" title='str' data-type='GCstr *' data-ref="214str" data-ref-filename="214str">str</dfn> = <a class="tu ref fn" href="#argv2str" title='argv2str' data-use='c' data-ref="argv2str" data-ref-filename="argv2str">argv2str</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, &amp;<a class="local col8 ref" href="#208rd" title='rd' data-ref="208rd" data-ref-filename="208rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="892">892</th><td>  <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col5 decl" id="215pat" title='pat' data-type='GCstr *' data-ref="215pat" data-ref-filename="215pat">pat</dfn> = <a class="tu ref fn" href="#argv2str" title='argv2str' data-use='c' data-ref="argv2str" data-ref-filename="argv2str">argv2str</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, &amp;<a class="local col8 ref" href="#208rd" title='rd' data-ref="208rd" data-ref-filename="208rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>1</var>]);</td></tr>
<tr><th id="893">893</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col6 decl" id="216start" title='start' data-type='int32_t' data-ref="216start" data-ref-filename="216start">start</dfn>;</td></tr>
<tr><th id="894">894</th><td>  <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::needsnap" title='jit_State::needsnap' data-ref="jit_State::needsnap" data-ref-filename="jit_State..needsnap">needsnap</a> = <var>1</var>;</td></tr>
<tr><th id="895">895</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[2])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>])) {</td></tr>
<tr><th id="896">896</th><td>    <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <var>1</var>);</td></tr>
<tr><th id="897">897</th><td>    <a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a> = <var>1</var>;</td></tr>
<tr><th id="898">898</th><td>  } <b>else</b> {</td></tr>
<tr><th id="899">899</th><td>    <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>]);</td></tr>
<tr><th id="900">900</th><td>    <a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a> = <a class="tu ref fn" href="#argv2int" title='argv2int' data-use='c' data-ref="argv2int" data-ref-filename="argv2int">argv2int</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, &amp;<a class="local col8 ref" href="#208rd" title='rd' data-ref="208rd" data-ref-filename="208rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>2</var>]);</td></tr>
<tr><th id="901">901</th><td>  }</td></tr>
<tr><th id="902">902</th><td>  <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a> = <a class="tu ref fn" href="#recff_string_start" title='recff_string_start' data-use='c' data-ref="recff_string_start" data-ref-filename="recff_string_start">recff_string_start</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col4 ref" href="#214str" title='str' data-ref="214str" data-ref-filename="214str">str</a>, &amp;<a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a>, <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>, <a class="local col1 ref" href="#211trlen" title='trlen' data-ref="211trlen" data-ref-filename="211trlen">trlen</a>, <a class="local col2 ref" href="#212tr0" title='tr0' data-ref="212tr0" data-ref-filename="212tr0">tr0</a>);</td></tr>
<tr><th id="903">903</th><td>  <b>if</b> ((<a class="typedef" href="lj_obj.h.html#MSize" title='MSize' data-type='uint32_t' data-ref="MSize" data-ref-filename="MSize">MSize</a>)<a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a> &lt;= <a class="local col4 ref" href="#214str" title='str' data-ref="214str" data-ref-filename="214str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>) {</td></tr>
<tr><th id="904">904</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trstart)), (IRRef1)((trlen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_ULE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ULE' data-ref="IR_ULE" data-ref-filename="IR_ULE">IR_ULE</a>), <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>, <a class="local col1 ref" href="#211trlen" title='trlen' data-ref="211trlen" data-ref-filename="211trlen">trlen</a>);</td></tr>
<tr><th id="905">905</th><td>  } <b>else</b> {</td></tr>
<tr><th id="906">906</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_UGT))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((trstart)), (IRRef1)((trlen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_UGT))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_UGT' data-ref="IR_UGT" data-ref-filename="IR_UGT">IR_UGT</a>), <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>, <a class="local col1 ref" href="#211trlen" title='trlen' data-ref="211trlen" data-ref-filename="211trlen">trlen</a>);</td></tr>
<tr><th id="907">907</th><td><u>#<span data-ppcond="907">if</span> <a class="macro" href="lj_arch.h.html#657" title="0" data-ref="_M/LJ_52">LJ_52</a></u></td></tr>
<tr><th id="908">908</th><td>    J-&gt;base[<var>0</var>] = TREF_NIL;</td></tr>
<tr><th id="909">909</th><td>    <b>return</b>;</td></tr>
<tr><th id="910">910</th><td><u>#<span data-ppcond="907">else</span></u></td></tr>
<tr><th id="911">911</th><td>    <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a> = <a class="local col1 ref" href="#211trlen" title='trlen' data-ref="211trlen" data-ref-filename="211trlen">trlen</a>;</td></tr>
<tr><th id="912">912</th><td>    <a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a> = <a class="local col4 ref" href="#214str" title='str' data-ref="214str" data-ref-filename="214str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>;</td></tr>
<tr><th id="913">913</th><td><u>#<span data-ppcond="907">endif</span></u></td></tr>
<tr><th id="914">914</th><td>  }</td></tr>
<tr><th id="915">915</th><td>  <i>/* Fixed arg or no pattern matching chars? (Specialized to pattern string.) */</i></td></tr>
<tr><th id="916">916</th><td>  <b>if</b> ((<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>] &amp;&amp; <a class="macro" href="lj_ir.h.html#509" title="(!(((((J-&gt;base[3]))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_NIL) &lt;= (TRef)(IRT_FALSE-IRT_NIL)))" data-ref="_M/tref_istruecond">tref_istruecond</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>3</var>])) ||</td></tr>
<tr><th id="917">917</th><td>      (<a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((trpat)), (IRRef1)((lj_ir_kgc(J, ((GCobj *)((pat))), IRT_STR)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#210trpat" title='trpat' data-ref="210trpat" data-ref-filename="210trpat">trpat</a>, <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((pat))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col5 ref" href="#215pat" title='pat' data-ref="215pat" data-ref-filename="215pat">pat</a>)),</td></tr>
<tr><th id="918">918</th><td>       !<a class="ref fn" href="lj_str.h.html#lj_str_haspattern" title='lj_str_haspattern' data-ref="lj_str_haspattern" data-ref-filename="lj_str_haspattern">lj_str_haspattern</a>(<a class="local col5 ref" href="#215pat" title='pat' data-ref="215pat" data-ref-filename="215pat">pat</a>))) {  <i>/* Search for fixed string. */</i></td></tr>
<tr><th id="919">919</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="217trsptr" title='trsptr' data-type='TRef' data-ref="217trsptr" data-ref-filename="217trsptr">trsptr</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((trstr)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col9 ref" href="#209trstr" title='trstr' data-ref="209trstr" data-ref-filename="209trstr">trstr</a>, <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>);</td></tr>
<tr><th id="920">920</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="218trpptr" title='trpptr' data-type='TRef' data-ref="218trpptr" data-ref-filename="218trpptr">trpptr</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((trpat)), (IRRef1)((tr0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#210trpat" title='trpat' data-ref="210trpat" data-ref-filename="210trpat">trpat</a>, <a class="local col2 ref" href="#212tr0" title='tr0' data-ref="212tr0" data-ref-filename="212tr0">tr0</a>);</td></tr>
<tr><th id="921">921</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="219trslen" title='trslen' data-type='TRef' data-ref="219trslen" data-ref-filename="219trslen">trslen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trlen)), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col1 ref" href="#211trlen" title='trlen' data-ref="211trlen" data-ref-filename="211trlen">trlen</a>, <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>);</td></tr>
<tr><th id="922">922</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="220trplen" title='trplen' data-type='TRef' data-ref="220trplen" data-ref-filename="220trplen">trplen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trpat)), (IRRef1)((IRFL_STR_LEN))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>), <a class="local col0 ref" href="#210trpat" title='trpat' data-ref="210trpat" data-ref-filename="210trpat">trpat</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_STR_LEN' data-ref="IRFL_STR_LEN" data-ref-filename="IRFL_STR_LEN">IRFL_STR_LEN</a>);</td></tr>
<tr><th id="923">923</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="221tr" title='tr' data-type='TRef' data-ref="221tr" data-ref-filename="221tr">tr</dfn> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_str_find' data-ref="IRCALL_lj_str_find" data-ref-filename="IRCALL_lj_str_find">IRCALL_lj_str_find</a>, <a class="local col7 ref" href="#217trsptr" title='trsptr' data-ref="217trsptr" data-ref-filename="217trsptr">trsptr</a>, <a class="local col8 ref" href="#218trpptr" title='trpptr' data-ref="218trpptr" data-ref-filename="218trpptr">trpptr</a>, <a class="local col9 ref" href="#219trslen" title='trslen' data-ref="219trslen" data-ref-filename="219trslen">trslen</a>, <a class="local col0 ref" href="#220trplen" title='trplen' data-ref="220trplen" data-ref-filename="220trplen">trplen</a>);</td></tr>
<tr><th id="924">924</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="222trp0" title='trp0' data-type='TRef' data-ref="222trp0" data-ref-filename="222trp0">trp0</dfn> = <a class="macro" href="lj_iropt.h.html#70" title="lj_ir_kptr_(J, IR_KKPTR, (((void*)0)))" data-ref="_M/lj_ir_kkptr">lj_ir_kkptr</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="925">925</th><td>    <b>if</b> (<a class="ref fn" href="lj_str.h.html#lj_str_find" title='lj_str_find' data-ref="lj_str_find" data-ref-filename="lj_str_find">lj_str_find</a>(<a class="macro" href="lj_obj.h.html#313" title="((const char *)((str)+1))" data-ref="_M/strdata">strdata</a>(<a class="local col4 ref" href="#214str" title='str' data-ref="214str" data-ref-filename="214str">str</a>)+(<a class="typedef" href="lj_obj.h.html#MSize" title='MSize' data-type='uint32_t' data-ref="MSize" data-ref-filename="MSize">MSize</a>)<a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a>, <a class="macro" href="lj_obj.h.html#313" title="((const char *)((pat)+1))" data-ref="_M/strdata">strdata</a>(<a class="local col5 ref" href="#215pat" title='pat' data-ref="215pat" data-ref-filename="215pat">pat</a>),</td></tr>
<tr><th id="926">926</th><td>		    <a class="local col4 ref" href="#214str" title='str' data-ref="214str" data-ref-filename="214str">str</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>-(<a class="typedef" href="lj_obj.h.html#MSize" title='MSize' data-type='uint32_t' data-ref="MSize" data-ref-filename="MSize">MSize</a>)<a class="local col6 ref" href="#216start" title='start' data-ref="216start" data-ref-filename="216start">start</a>, <a class="local col5 ref" href="#215pat" title='pat' data-ref="215pat" data-ref-filename="215pat">pat</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>)) {</td></tr>
<tr><th id="927">927</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="223pos" title='pos' data-type='TRef' data-ref="223pos" data-ref-filename="223pos">pos</dfn>;</td></tr>
<tr><th id="928">928</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((trp0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_NE' data-ref="IR_NE" data-ref-filename="IR_NE">IR_NE</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col1 ref" href="#221tr" title='tr' data-ref="221tr" data-ref-filename="221tr">tr</a>, <a class="local col2 ref" href="#222trp0" title='trp0' data-ref="222trp0" data-ref-filename="222trp0">trp0</a>);</td></tr>
<tr><th id="929">929</th><td>      <i>/* Recompute offset. trsptr may not point into trstr after folding. */</i></td></tr>
<tr><th id="930">930</th><td>      <a class="local col3 ref" href="#223pos" title='pos' data-ref="223pos" data-ref-filename="223pos">pos</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)(((lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((trsptr))), lj_opt_fold(J)))), (IRRef1)((trstart))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((trsptr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_SUB))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_SUB' data-ref="IR_SUB" data-ref-filename="IR_SUB">IR_SUB</a>), <a class="local col1 ref" href="#221tr" title='tr' data-ref="221tr" data-ref-filename="221tr">tr</a>, <a class="local col7 ref" href="#217trsptr" title='trsptr' data-ref="217trsptr" data-ref-filename="217trsptr">trsptr</a>), <a class="local col3 ref" href="#213trstart" title='trstart' data-ref="213trstart" data-ref-filename="213trstart">trstart</a>);</td></tr>
<tr><th id="931">931</th><td>      <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((pos)), (IRRef1)((lj_ir_kint(J, 1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col3 ref" href="#223pos" title='pos' data-ref="223pos" data-ref-filename="223pos">pos</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <var>1</var>));</td></tr>
<tr><th id="932">932</th><td>      <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((pos)), (IRRef1)((trplen))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col3 ref" href="#223pos" title='pos' data-ref="223pos" data-ref-filename="223pos">pos</a>, <a class="local col0 ref" href="#220trplen" title='trplen' data-ref="220trplen" data-ref-filename="220trplen">trplen</a>);</td></tr>
<tr><th id="933">933</th><td>      <a class="local col8 ref" href="#208rd" title='rd' data-ref="208rd" data-ref-filename="208rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>2</var>;</td></tr>
<tr><th id="934">934</th><td>    } <b>else</b> {</td></tr>
<tr><th id="935">935</th><td>      <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((trp0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col1 ref" href="#221tr" title='tr' data-ref="221tr" data-ref-filename="221tr">tr</a>, <a class="local col2 ref" href="#222trp0" title='trp0' data-ref="222trp0" data-ref-filename="222trp0">trp0</a>);</td></tr>
<tr><th id="936">936</th><td>      <a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>;</td></tr>
<tr><th id="937">937</th><td>    }</td></tr>
<tr><th id="938">938</th><td>  } <b>else</b> {  <i>/* Search for pattern. */</i></td></tr>
<tr><th id="939">939</th><td>    <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col7 ref" href="#207J" title='J' data-ref="207J" data-ref-filename="207J">J</a>, <a class="local col8 ref" href="#208rd" title='rd' data-ref="208rd" data-ref-filename="208rd">rd</a>);</td></tr>
<tr><th id="940">940</th><td>    <b>return</b>;</td></tr>
<tr><th id="941">941</th><td>  }</td></tr>
<tr><th id="942">942</th><td>}</td></tr>
<tr><th id="943">943</th><td></td></tr>
<tr><th id="944">944</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_string_format" title='recff_string_format' data-type='void recff_string_format(jit_State * J, RecordFFData * rd)' data-ref="recff_string_format" data-ref-filename="recff_string_format">recff_string_format</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="224J" title='J' data-type='jit_State *' data-ref="224J" data-ref-filename="224J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="225rd" title='rd' data-type='RecordFFData *' data-ref="225rd" data-ref-filename="225rd">rd</dfn>)</td></tr>
<tr><th id="945">945</th><td>{</td></tr>
<tr><th id="946">946</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="226trfmt" title='trfmt' data-type='TRef' data-ref="226trfmt" data-ref-filename="226trfmt">trfmt</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="947">947</th><td>  <a class="typedef" href="lj_obj.h.html#GCstr" title='GCstr' data-type='struct GCstr' data-ref="GCstr" data-ref-filename="GCstr">GCstr</a> *<dfn class="local col7 decl" id="227fmt" title='fmt' data-type='GCstr *' data-ref="227fmt" data-ref-filename="227fmt">fmt</dfn> = <a class="tu ref fn" href="#argv2str" title='argv2str' data-use='c' data-ref="argv2str" data-ref-filename="argv2str">argv2str</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, &amp;<a class="local col5 ref" href="#225rd" title='rd' data-ref="225rd" data-ref-filename="225rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="948">948</th><td>  <em>int</em> <dfn class="local col8 decl" id="228arg" title='arg' data-type='int' data-ref="228arg" data-ref-filename="228arg">arg</dfn> = <var>1</var>;</td></tr>
<tr><th id="949">949</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="229hdr" title='hdr' data-type='TRef' data-ref="229hdr" data-ref-filename="229hdr">hdr</dfn>, <dfn class="local col0 decl" id="230tr" title='tr' data-type='TRef' data-ref="230tr" data-ref-filename="230tr">tr</dfn>;</td></tr>
<tr><th id="950">950</th><td>  <a class="typedef" href="lj_strfmt.h.html#FormatState" title='FormatState' data-type='struct FormatState' data-ref="FormatState" data-ref-filename="FormatState">FormatState</a> <dfn class="local col1 decl" id="231fs" title='fs' data-type='FormatState' data-ref="231fs" data-ref-filename="231fs">fs</dfn>;</td></tr>
<tr><th id="951">951</th><td>  <a class="typedef" href="lj_strfmt.h.html#SFormat" title='SFormat' data-type='uint32_t' data-ref="SFormat" data-ref-filename="SFormat">SFormat</a> <dfn class="local col2 decl" id="232sf" title='sf' data-type='SFormat' data-ref="232sf" data-ref-filename="232sf">sf</dfn>;</td></tr>
<tr><th id="952">952</th><td>  <i>/* Specialize to the format string. */</i></td></tr>
<tr><th id="953">953</th><td>  <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((trfmt)), (IRRef1)((lj_ir_kgc(J, ((GCobj *)((fmt))), IRT_STR)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col6 ref" href="#226trfmt" title='trfmt' data-ref="226trfmt" data-ref-filename="226trfmt">trfmt</a>, <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((fmt))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col7 ref" href="#227fmt" title='fmt' data-ref="227fmt" data-ref-filename="227fmt">fmt</a>));</td></tr>
<tr><th id="954">954</th><td>  <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="local col9 ref" href="#229hdr" title='hdr' data-ref="229hdr" data-ref-filename="229hdr">hdr</a> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>);</td></tr>
<tr><th id="955">955</th><td>  <a class="ref fn" href="lj_strfmt.h.html#lj_strfmt_init" title='lj_strfmt_init' data-ref="lj_strfmt_init" data-ref-filename="lj_strfmt_init">lj_strfmt_init</a>(&amp;<a class="local col1 ref" href="#231fs" title='fs' data-ref="231fs" data-ref-filename="231fs">fs</a>, <a class="macro" href="lj_obj.h.html#313" title="((const char *)((fmt)+1))" data-ref="_M/strdata">strdata</a>(<a class="local col7 ref" href="#227fmt" title='fmt' data-ref="227fmt" data-ref-filename="227fmt">fmt</a>), <a class="local col7 ref" href="#227fmt" title='fmt' data-ref="227fmt" data-ref-filename="227fmt">fmt</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCstr::len" title='GCstr::len' data-ref="GCstr::len" data-ref-filename="GCstr..len">len</a>);</td></tr>
<tr><th id="956">956</th><td>  <b>while</b> ((<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> = <a class="ref fn" href="lj_strfmt.h.html#lj_strfmt_parse" title='lj_strfmt_parse' data-ref="lj_strfmt_parse" data-ref-filename="lj_strfmt_parse">lj_strfmt_parse</a>(&amp;<a class="local col1 ref" href="#231fs" title='fs' data-ref="231fs" data-ref-filename="231fs">fs</a>)) != <a class="enum" href="lj_strfmt.h.html#STRFMT_EOF" title='STRFMT_EOF' data-ref="STRFMT_EOF" data-ref-filename="STRFMT_EOF">STRFMT_EOF</a>) {  <i>/* Parse format. */</i></td></tr>
<tr><th id="957">957</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="233tra" title='tra' data-type='TRef' data-ref="233tra" data-ref-filename="233tra">tra</dfn> = <a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> == <a class="enum" href="lj_strfmt.h.html#STRFMT_LIT" title='STRFMT_LIT' data-ref="STRFMT_LIT" data-ref-filename="STRFMT_LIT">STRFMT_LIT</a> ? <var>0</var> : <a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col8 ref" href="#228arg" title='arg' data-ref="228arg" data-ref-filename="228arg">arg</a>++];</td></tr>
<tr><th id="958">958</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="234trsf" title='trsf' data-type='TRef' data-ref="234trsf" data-ref-filename="234trsf">trsf</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a>);</td></tr>
<tr><th id="959">959</th><td>    <a class="typedef" href="lj_ircall.h.html#IRCallID" title='IRCallID' data-type='enum IRCallID' data-ref="IRCallID" data-ref-filename="IRCallID">IRCallID</a> <dfn class="local col5 decl" id="235id" title='id' data-type='IRCallID' data-ref="235id" data-ref-filename="235id">id</dfn>;</td></tr>
<tr><th id="960">960</th><td>    <b>switch</b> (<a class="macro" href="lj_strfmt.h.html#48" title="((FormatType)((sf) &amp; 15))" data-ref="_M/STRFMT_TYPE">STRFMT_TYPE</a>(<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a>)) {</td></tr>
<tr><th id="961">961</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_LIT" title='STRFMT_LIT' data-ref="STRFMT_LIT" data-ref-filename="STRFMT_LIT">STRFMT_LIT</a>:</td></tr>
<tr><th id="962">962</th><td>      <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kgc(J, ((GCobj *)((lj_str_new(J-&gt;L, fs.str, fs.len)))), IRT_STR)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>,</td></tr>
<tr><th id="963">963</th><td>		  <a class="macro" href="lj_iropt.h.html#66" title="lj_ir_kgc(J, ((GCobj *)((lj_str_new(J-&gt;L, fs.str, fs.len)))), IRT_STR)" data-ref="_M/lj_ir_kstr">lj_ir_kstr</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="ref fn" href="lj_str.h.html#lj_str_new" title='lj_str_new' data-ref="lj_str_new" data-ref-filename="lj_str_new">lj_str_new</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, <a class="local col1 ref" href="#231fs" title='fs' data-ref="231fs" data-ref-filename="231fs">fs</a>.<a class="ref field" href="lj_strfmt.h.html#FormatState::str" title='FormatState::str' data-ref="FormatState::str" data-ref-filename="FormatState..str">str</a>, <a class="local col1 ref" href="#231fs" title='fs' data-ref="231fs" data-ref-filename="231fs">fs</a>.<a class="ref field" href="lj_strfmt.h.html#FormatState::len" title='FormatState::len' data-ref="FormatState::len" data-ref-filename="FormatState..len">len</a>)));</td></tr>
<tr><th id="964">964</th><td>      <b>break</b>;</td></tr>
<tr><th id="965">965</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_INT" title='STRFMT_INT' data-ref="STRFMT_INT" data-ref-filename="STRFMT_INT">STRFMT_INT</a>:</td></tr>
<tr><th id="966">966</th><td>      <a class="local col5 ref" href="#235id" title='id' data-ref="235id" data-ref-filename="235id">id</a> = <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfnum_int' data-ref="IRCALL_lj_strfmt_putfnum_int" data-ref-filename="IRCALL_lj_strfmt_putfnum_int">IRCALL_lj_strfmt_putfnum_int</a>;</td></tr>
<tr><th id="967">967</th><td>    <dfn class="lbl" id="236handle_int" data-ref="236handle_int" data-ref-filename="236handle_int">handle_int</dfn>:</td></tr>
<tr><th id="968">968</th><td>      <b>if</b> (!<a class="macro" href="lj_ir.h.html#510" title="((((((tra))&gt;&gt;24) &amp; IRT_TYPE) - (TRef)(IRT_I8) &lt;= (TRef)(IRT_INT-IRT_I8)))" data-ref="_M/tref_isinteger">tref_isinteger</a>(<a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>)) {</td></tr>
<tr><th id="969">969</th><td><u>#<span data-ppcond="969">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="970">970</th><td>	<b>if</b> (<a class="macro" href="lj_ir.h.html#501" title="(((((tra)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_CDATA)&lt;&lt;24)))" data-ref="_M/tref_iscdata">tref_iscdata</a>(<a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>)) {</td></tr>
<tr><th id="971">971</th><td>	  <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a> = <a class="ref fn" href="lj_crecord.h.html#lj_crecord_loadiu64" title='lj_crecord_loadiu64' data-ref="lj_crecord_loadiu64" data-ref-filename="lj_crecord_loadiu64">lj_crecord_loadiu64</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>, &amp;<a class="local col5 ref" href="#225rd" title='rd' data-ref="225rd" data-ref-filename="225rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<a class="local col8 ref" href="#228arg" title='arg' data-ref="228arg" data-ref-filename="228arg">arg</a>-<var>1</var>]);</td></tr>
<tr><th id="972">972</th><td>	  <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfxint' data-ref="IRCALL_lj_strfmt_putfxint" data-ref-filename="IRCALL_lj_strfmt_putfxint">IRCALL_lj_strfmt_putfxint</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col4 ref" href="#234trsf" title='trsf' data-ref="234trsf" data-ref-filename="234trsf">trsf</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="973">973</th><td>	  <a class="macro" href="lj_jit.h.html#398" title="((void)(J))" data-ref="_M/lj_needsplit">lj_needsplit</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>);</td></tr>
<tr><th id="974">974</th><td>	  <b>break</b>;</td></tr>
<tr><th id="975">975</th><td>	}</td></tr>
<tr><th id="976">976</th><td><u>#<span data-ppcond="969">endif</span></u></td></tr>
<tr><th id="977">977</th><td>	<b>goto</b> <a class="lbl" href="#237handle_num" data-ref="237handle_num" data-ref-filename="237handle_num">handle_num</a>;</td></tr>
<tr><th id="978">978</th><td>      }</td></tr>
<tr><th id="979">979</th><td>      <b>if</b> (<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> == <a class="enum" href="lj_strfmt.h.html#STRFMT_INT" title='STRFMT_INT' data-ref="STRFMT_INT" data-ref-filename="STRFMT_INT">STRFMT_INT</a>) { <i>/* Shortcut for plain %d. */</i></td></tr>
<tr><th id="980">980</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)(((lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tra)), (IRRef1)((0))), lj_opt_fold(J))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>,</td></tr>
<tr><th id="981">981</th><td>		    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tra)), (IRRef1)((0))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_TOSTR' data-ref="IR_TOSTR" data-ref-filename="IR_TOSTR">IR_TOSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>, <a class="macro" href="lj_ir.h.html#255" title="0" data-ref="_M/IRTOSTR_INT">IRTOSTR_INT</a>));</td></tr>
<tr><th id="982">982</th><td>      } <b>else</b> {</td></tr>
<tr><th id="983">983</th><td><u>#<span data-ppcond="983">if</span> <a class="macro" href="lj_arch.h.html#549" title="1" data-ref="_M/LJ_HASFFI">LJ_HASFFI</a></u></td></tr>
<tr><th id="984">984</th><td>	<a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_CONV)&lt;&lt;8) | (IRT_U64))))), (IRRef1)((tra)), (IRRef1)(((IRT_INT|(IRT_U64&lt;&lt;5)|0x0800)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_CONV)&lt;&lt;8) | (IRT_U64)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_CONV' data-ref="IR_CONV" data-ref-filename="IR_CONV">IR_CONV</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_U64' data-ref="IRT_U64" data-ref-filename="IRT_U64">IRT_U64</a>), <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>,</td></tr>
<tr><th id="985">985</th><td>		     (<a class="enum" href="lj_ir.h.html#318" title='IRT_INT' data-ref="IRT_INT" data-ref-filename="IRT_INT">IRT_INT</a>|(<a class="enum" href="lj_ir.h.html#318" title='IRT_U64' data-ref="IRT_U64" data-ref-filename="IRT_U64">IRT_U64</a>&lt;&lt;<var>5</var>)|<a class="macro" href="lj_ir.h.html#244" title="0x0800" data-ref="_M/IRCONV_SEXT">IRCONV_SEXT</a>));</td></tr>
<tr><th id="986">986</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfxint' data-ref="IRCALL_lj_strfmt_putfxint" data-ref-filename="IRCALL_lj_strfmt_putfxint">IRCALL_lj_strfmt_putfxint</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col4 ref" href="#234trsf" title='trsf' data-ref="234trsf" data-ref-filename="234trsf">trsf</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="987">987</th><td>	<a class="macro" href="lj_jit.h.html#398" title="((void)(J))" data-ref="_M/lj_needsplit">lj_needsplit</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>);</td></tr>
<tr><th id="988">988</th><td><u>#<span data-ppcond="983">else</span></u></td></tr>
<tr><th id="989">989</th><td>	recff_nyiu(J, rd);  <i>/* Don't bother working around this NYI. */</i></td></tr>
<tr><th id="990">990</th><td>	<b>return</b>;</td></tr>
<tr><th id="991">991</th><td><u>#<span data-ppcond="983">endif</span></u></td></tr>
<tr><th id="992">992</th><td>      }</td></tr>
<tr><th id="993">993</th><td>      <b>break</b>;</td></tr>
<tr><th id="994">994</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_UINT" title='STRFMT_UINT' data-ref="STRFMT_UINT" data-ref-filename="STRFMT_UINT">STRFMT_UINT</a>:</td></tr>
<tr><th id="995">995</th><td>      <a class="local col5 ref" href="#235id" title='id' data-ref="235id" data-ref-filename="235id">id</a> = <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfnum_uint' data-ref="IRCALL_lj_strfmt_putfnum_uint" data-ref-filename="IRCALL_lj_strfmt_putfnum_uint">IRCALL_lj_strfmt_putfnum_uint</a>;</td></tr>
<tr><th id="996">996</th><td>      <b>goto</b> <a class="lbl" href="#236handle_int" data-ref="236handle_int" data-ref-filename="236handle_int">handle_int</a>;</td></tr>
<tr><th id="997">997</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_NUM" title='STRFMT_NUM' data-ref="STRFMT_NUM" data-ref-filename="STRFMT_NUM">STRFMT_NUM</a>:</td></tr>
<tr><th id="998">998</th><td>      <a class="local col5 ref" href="#235id" title='id' data-ref="235id" data-ref-filename="235id">id</a> = <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfnum' data-ref="IRCALL_lj_strfmt_putfnum" data-ref-filename="IRCALL_lj_strfmt_putfnum">IRCALL_lj_strfmt_putfnum</a>;</td></tr>
<tr><th id="999">999</th><td>    <dfn class="lbl" id="237handle_num" data-ref="237handle_num" data-ref-filename="237handle_num">handle_num</dfn>:</td></tr>
<tr><th id="1000">1000</th><td>      <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tonum" title='lj_ir_tonum' data-ref="lj_ir_tonum" data-ref-filename="lj_ir_tonum">lj_ir_tonum</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1001">1001</th><td>      <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col5 ref" href="#235id" title='id' data-ref="235id" data-ref-filename="235id">id</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col4 ref" href="#234trsf" title='trsf' data-ref="234trsf" data-ref-filename="234trsf">trsf</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1002">1002</th><td>      <b>if</b> (<a class="macro" href="lj_arch.h.html#581" title="((!1) &amp;&amp; 0)" data-ref="_M/LJ_SOFTFP32">LJ_SOFTFP32</a>) <a class="macro" href="lj_jit.h.html#398" title="((void)(J))" data-ref="_M/lj_needsplit">lj_needsplit</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>);</td></tr>
<tr><th id="1003">1003</th><td>      <b>break</b>;</td></tr>
<tr><th id="1004">1004</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_STR" title='STRFMT_STR' data-ref="STRFMT_STR" data-ref-filename="STRFMT_STR">STRFMT_STR</a>:</td></tr>
<tr><th id="1005">1005</th><td>      <b>if</b> (!<a class="macro" href="lj_ir.h.html#499" title="(((((tra)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_STR)&lt;&lt;24)))" data-ref="_M/tref_isstr">tref_isstr</a>(<a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>)) {</td></tr>
<tr><th id="1006">1006</th><td>	<a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col5 ref" href="#225rd" title='rd' data-ref="225rd" data-ref-filename="225rd">rd</a>);  <i>/* NYI: __tostring and non-string types for %s. */</i></td></tr>
<tr><th id="1007">1007</th><td>	<b>return</b>;</td></tr>
<tr><th id="1008">1008</th><td>      }</td></tr>
<tr><th id="1009">1009</th><td>      <b>if</b> (<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> == <a class="enum" href="lj_strfmt.h.html#STRFMT_STR" title='STRFMT_STR' data-ref="STRFMT_STR" data-ref-filename="STRFMT_STR">STRFMT_STR</a>)  <i>/* Shortcut for plain %s. */</i></td></tr>
<tr><th id="1010">1010</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)((tra))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1011">1011</th><td>      <b>else</b> <b>if</b> ((<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> &amp; <a class="macro" href="lj_strfmt.h.html#34" title="0x0010" data-ref="_M/STRFMT_T_QUOTED">STRFMT_T_QUOTED</a>))</td></tr>
<tr><th id="1012">1012</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putquoted' data-ref="IRCALL_lj_strfmt_putquoted" data-ref-filename="IRCALL_lj_strfmt_putquoted">IRCALL_lj_strfmt_putquoted</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1013">1013</th><td>      <b>else</b></td></tr>
<tr><th id="1014">1014</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfstr' data-ref="IRCALL_lj_strfmt_putfstr" data-ref-filename="IRCALL_lj_strfmt_putfstr">IRCALL_lj_strfmt_putfstr</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col4 ref" href="#234trsf" title='trsf' data-ref="234trsf" data-ref-filename="234trsf">trsf</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1015">1015</th><td>      <b>break</b>;</td></tr>
<tr><th id="1016">1016</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_CHAR" title='STRFMT_CHAR' data-ref="STRFMT_CHAR" data-ref-filename="STRFMT_CHAR">STRFMT_CHAR</a>:</td></tr>
<tr><th id="1017">1017</th><td>      <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1018">1018</th><td>      <b>if</b> (<a class="local col2 ref" href="#232sf" title='sf' data-ref="232sf" data-ref-filename="232sf">sf</a> == <a class="enum" href="lj_strfmt.h.html#STRFMT_CHAR" title='STRFMT_CHAR' data-ref="STRFMT_CHAR" data-ref-filename="STRFMT_CHAR">STRFMT_CHAR</a>)  <i>/* Shortcut for plain %c. */</i></td></tr>
<tr><th id="1019">1019</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC))))))), (IRRef1)((tr)), (IRRef1)(((lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tra)), (IRRef1)((2))), lj_opt_fold(J))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFPUT))&lt;&lt;8) | (IRT_GUARD|(IRT_PGC)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFPUT' data-ref="IR_BUFPUT" data-ref-filename="IR_BUFPUT">IR_BUFPUT</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>,</td></tr>
<tr><th id="1020">1020</th><td>		    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR))))), (IRRef1)((tra)), (IRRef1)((2))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_TOSTR)&lt;&lt;8) | (IRT_STR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_TOSTR' data-ref="IR_TOSTR" data-ref-filename="IR_TOSTR">IR_TOSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>, <a class="macro" href="lj_ir.h.html#257" title="2" data-ref="_M/IRTOSTR_CHAR">IRTOSTR_CHAR</a>));</td></tr>
<tr><th id="1021">1021</th><td>      <b>else</b></td></tr>
<tr><th id="1022">1022</th><td>	<a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_strfmt_putfchar' data-ref="IRCALL_lj_strfmt_putfchar" data-ref-filename="IRCALL_lj_strfmt_putfchar">IRCALL_lj_strfmt_putfchar</a>, <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col4 ref" href="#234trsf" title='trsf' data-ref="234trsf" data-ref-filename="234trsf">trsf</a>, <a class="local col3 ref" href="#233tra" title='tra' data-ref="233tra" data-ref-filename="233tra">tra</a>);</td></tr>
<tr><th id="1023">1023</th><td>      <b>break</b>;</td></tr>
<tr><th id="1024">1024</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_PTR" title='STRFMT_PTR' data-ref="STRFMT_PTR" data-ref-filename="STRFMT_PTR">STRFMT_PTR</a>:  <i>/* NYI */</i></td></tr>
<tr><th id="1025">1025</th><td>    <b>case</b> <a class="enum" href="lj_strfmt.h.html#STRFMT_ERR" title='STRFMT_ERR' data-ref="STRFMT_ERR" data-ref-filename="STRFMT_ERR">STRFMT_ERR</a>:</td></tr>
<tr><th id="1026">1026</th><td>    <b>default</b>:</td></tr>
<tr><th id="1027">1027</th><td>      <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>, <a class="local col5 ref" href="#225rd" title='rd' data-ref="225rd" data-ref-filename="225rd">rd</a>);</td></tr>
<tr><th id="1028">1028</th><td>      <b>return</b>;</td></tr>
<tr><th id="1029">1029</th><td>    }</td></tr>
<tr><th id="1030">1030</th><td>  }</td></tr>
<tr><th id="1031">1031</th><td>  <a class="local col4 ref" href="#224J" title='J' data-ref="224J" data-ref-filename="224J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#230tr" title='tr' data-ref="230tr" data-ref-filename="230tr">tr</a>, <a class="local col9 ref" href="#229hdr" title='hdr' data-ref="229hdr" data-ref-filename="229hdr">hdr</a>);</td></tr>
<tr><th id="1032">1032</th><td>}</td></tr>
<tr><th id="1033">1033</th><td></td></tr>
<tr><th id="1034">1034</th><td><i  data-doc="recff_table_insert">/* -- Table library fast functions ---------------------------------------- */</i></td></tr>
<tr><th id="1035">1035</th><td></td></tr>
<tr><th id="1036">1036</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_table_insert" title='recff_table_insert' data-type='void recff_table_insert(jit_State * J, RecordFFData * rd)' data-ref="recff_table_insert" data-ref-filename="recff_table_insert">recff_table_insert</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="238J" title='J' data-type='jit_State *' data-ref="238J" data-ref-filename="238J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col9 decl" id="239rd" title='rd' data-type='RecordFFData *' data-ref="239rd" data-ref-filename="239rd">rd</dfn>)</td></tr>
<tr><th id="1037">1037</th><td>{</td></tr>
<tr><th id="1038">1038</th><td>  <a class="typedef" href="lj_record.h.html#RecordIndex" title='RecordIndex' data-type='struct RecordIndex' data-ref="RecordIndex" data-ref-filename="RecordIndex">RecordIndex</a> <dfn class="local col0 decl" id="240ix" title='ix' data-type='RecordIndex' data-ref="240ix" data-ref-filename="240ix">ix</dfn>;</td></tr>
<tr><th id="1039">1039</th><td>  <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a> = <a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="1040">1040</th><td>  <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a> = <a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>];</td></tr>
<tr><th id="1041">1041</th><td>  <a class="local col9 ref" href="#239rd" title='rd' data-ref="239rd" data-ref-filename="239rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>0</var>;</td></tr>
<tr><th id="1042">1042</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((ix.tab)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a>) &amp;&amp; <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::val" title='RecordIndex::val' data-ref="RecordIndex::val" data-ref-filename="RecordIndex..val">val</a>) {</td></tr>
<tr><th id="1043">1043</th><td>    <b>if</b> (!<a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>]) {  <i>/* Simple push: t[#t+1] = v */</i></td></tr>
<tr><th id="1044">1044</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="241trlen" title='trlen' data-type='TRef' data-ref="241trlen" data-ref-filename="241trlen">trlen</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ALEN))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((ix.tab)), (IRRef1)((((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ALEN))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ALEN' data-ref="IR_ALEN" data-ref-filename="IR_ALEN">IR_ALEN</a>), <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tab" title='RecordIndex::tab' data-ref="RecordIndex::tab" data-ref-filename="RecordIndex..tab">tab</a>, <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>);</td></tr>
<tr><th id="1045">1045</th><td>      <a class="typedef" href="lj_obj.h.html#GCtab" title='GCtab' data-type='struct GCtab' data-ref="GCtab" data-ref-filename="GCtab">GCtab</a> *<dfn class="local col2 decl" id="242t" title='t' data-type='GCtab *' data-ref="242t" data-ref-filename="242t">t</dfn> = <a class="macro" href="lj_obj.h.html#857" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)" data-ref="_M/tabV">tabV</a>(&amp;<a class="local col9 ref" href="#239rd" title='rd' data-ref="239rd" data-ref-filename="239rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]);</td></tr>
<tr><th id="1046">1046</th><td>      <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::key" title='RecordIndex::key' data-ref="RecordIndex::key" data-ref-filename="RecordIndex..key">key</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((trlen)), (IRRef1)((lj_ir_kint(J, 1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ADD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ADD' data-ref="IR_ADD" data-ref-filename="IR_ADD">IR_ADD</a>), <a class="local col1 ref" href="#241trlen" title='trlen' data-ref="241trlen" data-ref-filename="241trlen">trlen</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>, <var>1</var>));</td></tr>
<tr><th id="1047">1047</th><td>      <a class="ref fn" href="lj_obj.h.html#935" title='settabV' data-ref="settabV" data-ref-filename="settabV">settabV</a>(<a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>, &amp;<a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::tabv" title='RecordIndex::tabv' data-ref="RecordIndex::tabv" data-ref-filename="RecordIndex..tabv">tabv</a>, <a class="local col2 ref" href="#242t" title='t' data-ref="242t" data-ref-filename="242t">t</a>);</td></tr>
<tr><th id="1048">1048</th><td>      <a class="ref fn" href="lj_obj.h.html#setintV" title='setintV' data-ref="setintV" data-ref-filename="setintV">setintV</a>(&amp;<a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::keyv" title='RecordIndex::keyv' data-ref="RecordIndex::keyv" data-ref-filename="RecordIndex..keyv">keyv</a>, <a class="ref fn" href="lj_tab.h.html#lj_tab_len" title='lj_tab_len' data-ref="lj_tab_len" data-ref-filename="lj_tab_len">lj_tab_len</a>(<a class="local col2 ref" href="#242t" title='t' data-ref="242t" data-ref-filename="242t">t</a>) + <var>1</var>);</td></tr>
<tr><th id="1049">1049</th><td>      <a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>.<a class="ref field" href="lj_record.h.html#RecordIndex::idxchain" title='RecordIndex::idxchain' data-ref="RecordIndex::idxchain" data-ref-filename="RecordIndex..idxchain">idxchain</a> = <var>0</var>;</td></tr>
<tr><th id="1050">1050</th><td>      <a class="ref fn" href="lj_record.h.html#lj_record_idx" title='lj_record_idx' data-ref="lj_record_idx" data-ref-filename="lj_record_idx">lj_record_idx</a>(<a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>, &amp;<a class="local col0 ref" href="#240ix" title='ix' data-ref="240ix" data-ref-filename="240ix">ix</a>);  <i>/* Set new value. */</i></td></tr>
<tr><th id="1051">1051</th><td>    } <b>else</b> {  <i>/* Complex case: insert in the middle. */</i></td></tr>
<tr><th id="1052">1052</th><td>      <a class="macro" href="#177" title="recff_nyi" data-ref="_M/recff_nyiu">recff_nyiu</a>(<a class="local col8 ref" href="#238J" title='J' data-ref="238J" data-ref-filename="238J">J</a>, <a class="local col9 ref" href="#239rd" title='rd' data-ref="239rd" data-ref-filename="239rd">rd</a>);</td></tr>
<tr><th id="1053">1053</th><td>      <b>return</b>;</td></tr>
<tr><th id="1054">1054</th><td>    }</td></tr>
<tr><th id="1055">1055</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="1056">1056</th><td>}</td></tr>
<tr><th id="1057">1057</th><td></td></tr>
<tr><th id="1058">1058</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_table_concat" title='recff_table_concat' data-type='void recff_table_concat(jit_State * J, RecordFFData * rd)' data-ref="recff_table_concat" data-ref-filename="recff_table_concat">recff_table_concat</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col3 decl" id="243J" title='J' data-type='jit_State *' data-ref="243J" data-ref-filename="243J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col4 decl" id="244rd" title='rd' data-type='RecordFFData *' data-ref="244rd" data-ref-filename="244rd">rd</dfn>)</td></tr>
<tr><th id="1059">1059</th><td>{</td></tr>
<tr><th id="1060">1060</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="245tab" title='tab' data-type='TRef' data-ref="245tab" data-ref-filename="245tab">tab</dfn> = <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="1061">1061</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((tab)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col5 ref" href="#245tab" title='tab' data-ref="245tab" data-ref-filename="245tab">tab</a>)) {</td></tr>
<tr><th id="1062">1062</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="246sep" title='sep' data-type='TRef' data-ref="246sep" data-ref-filename="246sep">sep</dfn> = !<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[1])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]) ?</td></tr>
<tr><th id="1063">1063</th><td>	       <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]) : <a class="ref fn" href="lj_iropt.h.html#lj_ir_knull" title='lj_ir_knull' data-ref="lj_ir_knull" data-ref-filename="lj_ir_knull">lj_ir_knull</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>);</td></tr>
<tr><th id="1064">1064</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="247tri" title='tri' data-type='TRef' data-ref="247tri" data-ref-filename="247tri">tri</dfn> = (<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] &amp;&amp; !<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[2])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>])) ?</td></tr>
<tr><th id="1065">1065</th><td>	       <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>]) : <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <var>1</var>);</td></tr>
<tr><th id="1066">1066</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="248tre" title='tre' data-type='TRef' data-ref="248tre" data-ref-filename="248tre">tre</dfn> = (<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>] &amp;&amp; <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>2</var>] &amp;&amp; !<a class="macro" href="lj_ir.h.html#495" title="(((((J-&gt;base[3])) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_NIL)&lt;&lt;24)))" data-ref="_M/tref_isnil">tref_isnil</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>3</var>])) ?</td></tr>
<tr><th id="1067">1067</th><td>	       <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>3</var>]) :</td></tr>
<tr><th id="1068">1068</th><td>	       <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_ALEN))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((tab)), (IRRef1)((((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_ALEN))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_ALEN' data-ref="IR_ALEN" data-ref-filename="IR_ALEN">IR_ALEN</a>), <a class="local col5 ref" href="#245tab" title='tab' data-ref="245tab" data-ref-filename="245tab">tab</a>, <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>);</td></tr>
<tr><th id="1069">1069</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="249hdr" title='hdr' data-type='TRef' data-ref="249hdr" data-ref-filename="249hdr">hdr</dfn> = <a class="tu ref fn" href="#recff_bufhdr" title='recff_bufhdr' data-use='c' data-ref="recff_bufhdr" data-ref-filename="recff_bufhdr">recff_bufhdr</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>);</td></tr>
<tr><th id="1070">1070</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col0 decl" id="250tr" title='tr' data-type='TRef' data-ref="250tr" data-ref-filename="250tr">tr</dfn> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_buf_puttab' data-ref="IRCALL_lj_buf_puttab" data-ref-filename="IRCALL_lj_buf_puttab">IRCALL_lj_buf_puttab</a>, <a class="local col9 ref" href="#249hdr" title='hdr' data-ref="249hdr" data-ref-filename="249hdr">hdr</a>, <a class="local col5 ref" href="#245tab" title='tab' data-ref="245tab" data-ref-filename="245tab">tab</a>, <a class="local col6 ref" href="#246sep" title='sep' data-ref="246sep" data-ref-filename="246sep">sep</a>, <a class="local col7 ref" href="#247tri" title='tri' data-ref="247tri" data-ref-filename="247tri">tri</a>, <a class="local col8 ref" href="#248tre" title='tre' data-ref="248tre" data-ref-filename="248tre">tre</a>);</td></tr>
<tr><th id="1071">1071</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PTR))))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kptr_(J, IR_KPTR, (((void*)0)))))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PTR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_NE' data-ref="IR_NE" data-ref-filename="IR_NE">IR_NE</a>, <a class="enum" href="lj_ir.h.html#IRT_PTR" title='IRT_PTR' data-ref="IRT_PTR" data-ref-filename="IRT_PTR">IRT_PTR</a>), <a class="local col0 ref" href="#250tr" title='tr' data-ref="250tr" data-ref-filename="250tr">tr</a>, <a class="macro" href="lj_iropt.h.html#69" title="lj_ir_kptr_(J, IR_KPTR, (((void*)0)))" data-ref="_M/lj_ir_kptr">lj_ir_kptr</a>(<a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="1072">1072</th><td>    <a class="local col3 ref" href="#243J" title='J' data-ref="243J" data-ref-filename="243J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR))))))), (IRRef1)((tr)), (IRRef1)((hdr))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_BUFSTR))&lt;&lt;8) | (IRT_GUARD|(IRT_STR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_BUFSTR' data-ref="IR_BUFSTR" data-ref-filename="IR_BUFSTR">IR_BUFSTR</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_STR' data-ref="IRT_STR" data-ref-filename="IRT_STR">IRT_STR</a>), <a class="local col0 ref" href="#250tr" title='tr' data-ref="250tr" data-ref-filename="250tr">tr</a>, <a class="local col9 ref" href="#249hdr" title='hdr' data-ref="249hdr" data-ref-filename="249hdr">hdr</a>);</td></tr>
<tr><th id="1073">1073</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="1074">1074</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col4 ref" href="#244rd" title='rd' data-ref="244rd" data-ref-filename="244rd">rd</a>);</td></tr>
<tr><th id="1075">1075</th><td>}</td></tr>
<tr><th id="1076">1076</th><td></td></tr>
<tr><th id="1077">1077</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_table_new" title='recff_table_new' data-type='void recff_table_new(jit_State * J, RecordFFData * rd)' data-ref="recff_table_new" data-ref-filename="recff_table_new">recff_table_new</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col1 decl" id="251J" title='J' data-type='jit_State *' data-ref="251J" data-ref-filename="251J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col2 decl" id="252rd" title='rd' data-type='RecordFFData *' data-ref="252rd" data-ref-filename="252rd">rd</dfn>)</td></tr>
<tr><th id="1078">1078</th><td>{</td></tr>
<tr><th id="1079">1079</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="253tra" title='tra' data-type='TRef' data-ref="253tra" data-ref-filename="253tra">tra</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>, <a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>]);</td></tr>
<tr><th id="1080">1080</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col4 decl" id="254trh" title='trh' data-type='TRef' data-ref="254trh" data-ref-filename="254trh">trh</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_opt_narrow_toint" title='lj_opt_narrow_toint' data-ref="lj_opt_narrow_toint" data-ref-filename="lj_opt_narrow_toint">lj_opt_narrow_toint</a>(<a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>, <a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>1</var>]);</td></tr>
<tr><th id="1081">1081</th><td>  <a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col1 ref" href="#251J" title='J' data-ref="251J" data-ref-filename="251J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_tab_new_ah' data-ref="IRCALL_lj_tab_new_ah" data-ref-filename="IRCALL_lj_tab_new_ah">IRCALL_lj_tab_new_ah</a>, <a class="local col3 ref" href="#253tra" title='tra' data-ref="253tra" data-ref-filename="253tra">tra</a>, <a class="local col4 ref" href="#254trh" title='trh' data-ref="254trh" data-ref-filename="254trh">trh</a>);</td></tr>
<tr><th id="1082">1082</th><td>  <a class="macro" href="lj_def.h.html#91" title="((void)(rd))" data-ref="_M/UNUSED">UNUSED</a>(<a class="local col2 ref" href="#252rd" title='rd' data-ref="252rd" data-ref-filename="252rd">rd</a>);</td></tr>
<tr><th id="1083">1083</th><td>}</td></tr>
<tr><th id="1084">1084</th><td></td></tr>
<tr><th id="1085">1085</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_table_clear" title='recff_table_clear' data-type='void recff_table_clear(jit_State * J, RecordFFData * rd)' data-ref="recff_table_clear" data-ref-filename="recff_table_clear">recff_table_clear</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col5 decl" id="255J" title='J' data-type='jit_State *' data-ref="255J" data-ref-filename="255J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col6 decl" id="256rd" title='rd' data-type='RecordFFData *' data-ref="256rd" data-ref-filename="256rd">rd</dfn>)</td></tr>
<tr><th id="1086">1086</th><td>{</td></tr>
<tr><th id="1087">1087</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col7 decl" id="257tr" title='tr' data-type='TRef' data-ref="257tr" data-ref-filename="257tr">tr</dfn> = <a class="local col5 ref" href="#255J" title='J' data-ref="255J" data-ref-filename="255J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="1088">1088</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col7 ref" href="#257tr" title='tr' data-ref="257tr" data-ref-filename="257tr">tr</a>)) {</td></tr>
<tr><th id="1089">1089</th><td>    <a class="local col6 ref" href="#256rd" title='rd' data-ref="256rd" data-ref-filename="256rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>0</var>;</td></tr>
<tr><th id="1090">1090</th><td>    <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col5 ref" href="#255J" title='J' data-ref="255J" data-ref-filename="255J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_lj_tab_clear' data-ref="IRCALL_lj_tab_clear" data-ref-filename="IRCALL_lj_tab_clear">IRCALL_lj_tab_clear</a>, <a class="local col7 ref" href="#257tr" title='tr' data-ref="257tr" data-ref-filename="257tr">tr</a>);</td></tr>
<tr><th id="1091">1091</th><td>    <a class="local col5 ref" href="#255J" title='J' data-ref="255J" data-ref-filename="255J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::needsnap" title='jit_State::needsnap' data-ref="jit_State::needsnap" data-ref-filename="jit_State..needsnap">needsnap</a> = <var>1</var>;</td></tr>
<tr><th id="1092">1092</th><td>  }  <i>/* else: Interpreter will throw. */</i></td></tr>
<tr><th id="1093">1093</th><td>}</td></tr>
<tr><th id="1094">1094</th><td></td></tr>
<tr><th id="1095">1095</th><td><i>/* -- I/O library fast functions ------------------------------------------ */</i></td></tr>
<tr><th id="1096">1096</th><td></td></tr>
<tr><th id="1097">1097</th><td><i  data-doc="recff_io_fp">/* Get FILE* for I/O function. Any I/O error aborts recording, so there's</i></td></tr>
<tr><th id="1098">1098</th><td><i  data-doc="recff_io_fp">** no need to encode the alternate cases for any of the guards.</i></td></tr>
<tr><th id="1099">1099</th><td><i  data-doc="recff_io_fp">*/</i></td></tr>
<tr><th id="1100">1100</th><td><em>static</em> <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="tu decl def fn" id="recff_io_fp" title='recff_io_fp' data-type='TRef recff_io_fp(jit_State * J, TRef * udp, int32_t id)' data-ref="recff_io_fp" data-ref-filename="recff_io_fp">recff_io_fp</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="258J" title='J' data-type='jit_State *' data-ref="258J" data-ref-filename="258J">J</dfn>, <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> *<dfn class="local col9 decl" id="259udp" title='udp' data-type='TRef *' data-ref="259udp" data-ref-filename="259udp">udp</dfn>, <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col0 decl" id="260id" title='id' data-type='int32_t' data-ref="260id" data-ref-filename="260id">id</dfn>)</td></tr>
<tr><th id="1101">1101</th><td>{</td></tr>
<tr><th id="1102">1102</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="261tr" title='tr' data-type='TRef' data-ref="261tr" data-ref-filename="261tr">tr</dfn>, <dfn class="local col2 decl" id="262ud" title='ud' data-type='TRef' data-ref="262ud" data-ref-filename="262ud">ud</dfn>, <dfn class="local col3 decl" id="263fp" title='fp' data-type='TRef' data-ref="263fp" data-ref-filename="263fp">fp</dfn>;</td></tr>
<tr><th id="1103">1103</th><td>  <b>if</b> (<a class="local col0 ref" href="#260id" title='id' data-ref="260id" data-ref-filename="260id">id</a>) {  <i>/* io.func() */</i></td></tr>
<tr><th id="1104">1104</th><td>    <a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_ggfload" title='lj_ir_ggfload' data-ref="lj_ir_ggfload" data-ref-filename="lj_ir_ggfload">lj_ir_ggfload</a>(<a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J">J</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_UDATA' data-ref="IRT_UDATA" data-ref-filename="IRT_UDATA">IRT_UDATA</a>, <a class="macro" href="lj_dispatch.h.html#111" title="((int)__builtin_offsetof(GG_State, g.gcroot[id]))" data-ref="_M/GG_OFS">GG_OFS</a>(g.gcroot[<a class="local col0 ref" href="#260id" title='id' data-ref="260id" data-ref-filename="260id">id</a>]));</td></tr>
<tr><th id="1105">1105</th><td>  } <b>else</b> {  <i>/* fp:method() */</i></td></tr>
<tr><th id="1106">1106</th><td>    <a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a> = <a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="1107">1107</th><td>    <b>if</b> (!<a class="macro" href="lj_ir.h.html#503" title="(((((ud)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_UDATA)&lt;&lt;24)))" data-ref="_M/tref_isudata">tref_isudata</a>(<a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a>))</td></tr>
<tr><th id="1108">1108</th><td>      <a class="ref fn" href="lj_trace.h.html#lj_trace_err" title='lj_trace_err' data-ref="lj_trace_err" data-ref-filename="lj_trace_err">lj_trace_err</a>(<a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J">J</a>, <a class="enum" href="lj_traceerr.h.html#24" title='LJ_TRERR_BADTYPE' data-ref="LJ_TRERR_BADTYPE" data-ref-filename="LJ_TRERR_BADTYPE">LJ_TRERR_BADTYPE</a>);</td></tr>
<tr><th id="1109">1109</th><td>    <a class="local col1 ref" href="#261tr" title='tr' data-ref="261tr" data-ref-filename="261tr">tr</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_U8))))), (IRRef1)((ud)), (IRRef1)((IRFL_UDATA_UDTYPE))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_U8)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_U8' data-ref="IRT_U8" data-ref-filename="IRT_U8">IRT_U8</a>), <a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_UDATA_UDTYPE' data-ref="IRFL_UDATA_UDTYPE" data-ref-filename="IRFL_UDATA_UDTYPE">IRFL_UDATA_UDTYPE</a>);</td></tr>
<tr><th id="1110">1110</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kint(J, UDTYPE_IO_FILE)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>), <a class="local col1 ref" href="#261tr" title='tr' data-ref="261tr" data-ref-filename="261tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J">J</a>, <a class="enum" href="lj_obj.h.html#UDTYPE_IO_FILE" title='UDTYPE_IO_FILE' data-ref="UDTYPE_IO_FILE" data-ref-filename="UDTYPE_IO_FILE">UDTYPE_IO_FILE</a>));</td></tr>
<tr><th id="1111">1111</th><td>  }</td></tr>
<tr><th id="1112">1112</th><td>  *<a class="local col9 ref" href="#259udp" title='udp' data-ref="259udp" data-ref-filename="259udp">udp</a> = <a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a>;</td></tr>
<tr><th id="1113">1113</th><td>  <a class="local col3 ref" href="#263fp" title='fp' data-ref="263fp" data-ref-filename="263fp">fp</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_PTR))))), (IRRef1)((ud)), (IRRef1)((IRFL_UDATA_FILE))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_PTR)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>, <a class="enum" href="lj_ir.h.html#IRT_PTR" title='IRT_PTR' data-ref="IRT_PTR" data-ref-filename="IRT_PTR">IRT_PTR</a>), <a class="local col2 ref" href="#262ud" title='ud' data-ref="262ud" data-ref-filename="262ud">ud</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_UDATA_FILE' data-ref="IRFL_UDATA_FILE" data-ref-filename="IRFL_UDATA_FILE">IRFL_UDATA_FILE</a>);</td></tr>
<tr><th id="1114">1114</th><td>  <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PTR))))))), (IRRef1)((fp)), (IRRef1)((lj_ir_knull(J, IRT_PTR)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|(IRT_PTR)))))" data-ref="_M/IRTG">IRTG</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_NE' data-ref="IR_NE" data-ref-filename="IR_NE">IR_NE</a>, <a class="enum" href="lj_ir.h.html#IRT_PTR" title='IRT_PTR' data-ref="IRT_PTR" data-ref-filename="IRT_PTR">IRT_PTR</a>), <a class="local col3 ref" href="#263fp" title='fp' data-ref="263fp" data-ref-filename="263fp">fp</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_knull" title='lj_ir_knull' data-ref="lj_ir_knull" data-ref-filename="lj_ir_knull">lj_ir_knull</a>(<a class="local col8 ref" href="#258J" title='J' data-ref="258J" data-ref-filename="258J">J</a>, <a class="enum" href="lj_ir.h.html#IRT_PTR" title='IRT_PTR' data-ref="IRT_PTR" data-ref-filename="IRT_PTR">IRT_PTR</a>));</td></tr>
<tr><th id="1115">1115</th><td>  <b>return</b> <a class="local col3 ref" href="#263fp" title='fp' data-ref="263fp" data-ref-filename="263fp">fp</a>;</td></tr>
<tr><th id="1116">1116</th><td>}</td></tr>
<tr><th id="1117">1117</th><td></td></tr>
<tr><th id="1118">1118</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_io_write" title='recff_io_write' data-type='void recff_io_write(jit_State * J, RecordFFData * rd)' data-ref="recff_io_write" data-ref-filename="recff_io_write">recff_io_write</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col4 decl" id="264J" title='J' data-type='jit_State *' data-ref="264J" data-ref-filename="264J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col5 decl" id="265rd" title='rd' data-type='RecordFFData *' data-ref="265rd" data-ref-filename="265rd">rd</dfn>)</td></tr>
<tr><th id="1119">1119</th><td>{</td></tr>
<tr><th id="1120">1120</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="266ud" title='ud' data-type='TRef' data-ref="266ud" data-ref-filename="266ud">ud</dfn>, <dfn class="local col7 decl" id="267fp" title='fp' data-type='TRef' data-ref="267fp" data-ref-filename="267fp">fp</dfn> = <a class="tu ref fn" href="#recff_io_fp" title='recff_io_fp' data-use='c' data-ref="recff_io_fp" data-ref-filename="recff_io_fp">recff_io_fp</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, &amp;<a class="local col6 ref" href="#266ud" title='ud' data-ref="266ud" data-ref-filename="266ud">ud</a>, <a class="local col5 ref" href="#265rd" title='rd' data-ref="265rd" data-ref-filename="265rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="1121">1121</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col8 decl" id="268zero" title='zero' data-type='TRef' data-ref="268zero" data-ref-filename="268zero">zero</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, <var>0</var>);</td></tr>
<tr><th id="1122">1122</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="269one" title='one' data-type='TRef' data-ref="269one" data-ref-filename="269one">one</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, <var>1</var>);</td></tr>
<tr><th id="1123">1123</th><td>  <span class='typedef' title='ptrdiff_t' data-type='long' data-ref="ptrdiff_t" data-ref-filename="ptrdiff_t">ptrdiff_t</span> <dfn class="local col0 decl" id="270i" title='i' data-type='ptrdiff_t' data-ref="270i" data-ref-filename="270i">i</dfn> = <a class="local col5 ref" href="#265rd" title='rd' data-ref="265rd" data-ref-filename="265rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a> == <var>0</var> ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1124">1124</th><td>  <b>for</b> (; <a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col0 ref" href="#270i" title='i' data-ref="270i" data-ref-filename="270i">i</a>]; <a class="local col0 ref" href="#270i" title='i' data-ref="270i" data-ref-filename="270i">i</a>++) {</td></tr>
<tr><th id="1125">1125</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="271str" title='str' data-type='TRef' data-ref="271str" data-ref-filename="271str">str</dfn> = <a class="ref fn" href="lj_iropt.h.html#lj_ir_tostr" title='lj_ir_tostr' data-ref="lj_ir_tostr" data-ref-filename="lj_ir_tostr">lj_ir_tostr</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, <a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col0 ref" href="#270i" title='i' data-ref="270i" data-ref-filename="270i">i</a>]);</td></tr>
<tr><th id="1126">1126</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col2 decl" id="272buf" title='buf' data-type='TRef' data-ref="272buf" data-ref-filename="272buf">buf</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC))))), (IRRef1)((str)), (IRRef1)((zero))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_STRREF)&lt;&lt;8) | (IRT_PGC)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_STRREF' data-ref="IR_STRREF" data-ref-filename="IR_STRREF">IR_STRREF</a>, <a class="enum" href="lj_ir.h.html#IRT_PGC" title='IRT_PGC' data-ref="IRT_PGC" data-ref-filename="IRT_PGC">IRT_PGC</a>), <a class="local col1 ref" href="#271str" title='str' data-ref="271str" data-ref-filename="271str">str</a>, <a class="local col8 ref" href="#268zero" title='zero' data-ref="268zero" data-ref-filename="268zero">zero</a>);</td></tr>
<tr><th id="1127">1127</th><td>    <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col3 decl" id="273len" title='len' data-type='TRef' data-ref="273len" data-ref-filename="273len">len</dfn> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT)))))), (IRRef1)((str)), (IRRef1)((IRFL_STR_LEN))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#345" title="(((uint32_t)((((IR_FLOAD))&lt;&lt;8) | (IRT_INT))))" data-ref="_M/IRTI">IRTI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>), <a class="local col1 ref" href="#271str" title='str' data-ref="271str" data-ref-filename="271str">str</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_STR_LEN' data-ref="IRFL_STR_LEN" data-ref-filename="IRFL_STR_LEN">IRFL_STR_LEN</a>);</td></tr>
<tr><th id="1128">1128</th><td>    <b>if</b> (<a class="macro" href="lj_ir.h.html#515" title="(((((IRRef1)((len)))) &lt; REF_BIAS))" data-ref="_M/tref_isk">tref_isk</a>(<a class="local col3 ref" href="#273len" title='len' data-ref="273len" data-ref-filename="273len">len</a>) &amp;&amp; <a class="macro" href="#33" title="(&amp;J-&gt;cur.ir[(((IRRef1)(len)))])" data-ref="_M/IR">IR</a>(<a class="macro" href="lj_ir.h.html#488" title="((IRRef1)(len))" data-ref="_M/tref_ref">tref_ref</a>(<a class="local col3 ref" href="#273len" title='len' data-ref="273len" data-ref-filename="273len">len</a>))-&gt;<a class="ref field" href="lj_ir.h.html#IRIns::i" title='IRIns::i' data-ref="IRIns::i" data-ref-filename="IRIns..i">i</a> == <var>1</var>) {</td></tr>
<tr><th id="1129">1129</th><td>      <a class="typedef" href="lj_ir.h.html#IRIns" title='IRIns' data-type='union IRIns' data-ref="IRIns" data-ref-filename="IRIns">IRIns</a> *<dfn class="local col4 decl" id="274irs" title='irs' data-type='IRIns *' data-ref="274irs" data-ref-filename="274irs">irs</dfn> = <a class="macro" href="#33" title="(&amp;J-&gt;cur.ir[(((IRRef1)(str)))])" data-ref="_M/IR">IR</a>(<a class="macro" href="lj_ir.h.html#488" title="((IRRef1)(str))" data-ref="_M/tref_ref">tref_ref</a>(<a class="local col1 ref" href="#271str" title='str' data-ref="271str" data-ref-filename="271str">str</a>));</td></tr>
<tr><th id="1130">1130</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="275tr" title='tr' data-type='TRef' data-ref="275tr" data-ref-filename="275tr">tr</dfn> = (<a class="local col4 ref" href="#274irs" title='irs' data-ref="274irs" data-ref-filename="274irs">irs</a>-&gt;<a class="ref field" href="lj_ir.h.html#551" title='IRIns::(anonymous struct)::o' data-ref="IRIns::(anonymous)::o" data-ref-filename="IRIns..(anonymous)..o">o</a> == <a class="enum" href="lj_ir.h.html#154" title='IR_TOSTR' data-ref="IR_TOSTR" data-ref-filename="IR_TOSTR">IR_TOSTR</a> &amp;&amp; <a class="local col4 ref" href="#274irs" title='irs' data-ref="274irs" data-ref-filename="274irs">irs</a>-&gt;<a class="ref field" href="lj_ir.h.html#542" title='IRIns::(anonymous struct)::op2' data-ref="IRIns::(anonymous)::op2" data-ref-filename="IRIns..(anonymous)..op2">op2</a> == <a class="macro" href="lj_ir.h.html#257" title="2" data-ref="_M/IRTOSTR_CHAR">IRTOSTR_CHAR</a>) ?</td></tr>
<tr><th id="1131">1131</th><td>		<a class="local col4 ref" href="#274irs" title='irs' data-ref="274irs" data-ref-filename="274irs">irs</a>-&gt;<a class="ref field" href="lj_ir.h.html#542" title='IRIns::(anonymous struct)::op1' data-ref="IRIns::(anonymous)::op1" data-ref-filename="IRIns..(anonymous)..op1">op1</a> :</td></tr>
<tr><th id="1132">1132</th><td>		<a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8))))), (IRRef1)((buf)), (IRRef1)((1))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_XLOAD)&lt;&lt;8) | (IRT_U8)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_XLOAD' data-ref="IR_XLOAD" data-ref-filename="IR_XLOAD">IR_XLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_U8' data-ref="IRT_U8" data-ref-filename="IRT_U8">IRT_U8</a>), <a class="local col2 ref" href="#272buf" title='buf' data-ref="272buf" data-ref-filename="272buf">buf</a>, <a class="macro" href="lj_ir.h.html#230" title="1" data-ref="_M/IRXLOAD_READONLY">IRXLOAD_READONLY</a>);</td></tr>
<tr><th id="1133">1133</th><td>      <a class="local col5 ref" href="#275tr" title='tr' data-ref="275tr" data-ref-filename="275tr">tr</a> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_fputc' data-ref="IRCALL_fputc" data-ref-filename="IRCALL_fputc">IRCALL_fputc</a>, <a class="local col5 ref" href="#275tr" title='tr' data-ref="275tr" data-ref-filename="275tr">tr</a>, <a class="local col7 ref" href="#267fp" title='fp' data-ref="267fp" data-ref-filename="267fp">fp</a>);</td></tr>
<tr><th id="1134">1134</th><td>      <b>if</b> (<a class="tu ref fn" href="#results_wanted" title='results_wanted' data-use='c' data-ref="results_wanted" data-ref-filename="results_wanted">results_wanted</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>) != <var>0</var>)  <i>/* Check result only if not ignored. */</i></td></tr>
<tr><th id="1135">1135</th><td>	<a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kint(J, -1)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_NE))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_NE' data-ref="IR_NE" data-ref-filename="IR_NE">IR_NE</a>), <a class="local col5 ref" href="#275tr" title='tr' data-ref="275tr" data-ref-filename="275tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, -<var>1</var>));</td></tr>
<tr><th id="1136">1136</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1137">1137</th><td>      <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="276tr" title='tr' data-type='TRef' data-ref="276tr" data-ref-filename="276tr">tr</dfn> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_fwrite' data-ref="IRCALL_fwrite" data-ref-filename="IRCALL_fwrite">IRCALL_fwrite</a>, <a class="local col2 ref" href="#272buf" title='buf' data-ref="272buf" data-ref-filename="272buf">buf</a>, <a class="local col9 ref" href="#269one" title='one' data-ref="269one" data-ref-filename="269one">one</a>, <a class="local col3 ref" href="#273len" title='len' data-ref="273len" data-ref-filename="273len">len</a>, <a class="local col7 ref" href="#267fp" title='fp' data-ref="267fp" data-ref-filename="267fp">fp</a>);</td></tr>
<tr><th id="1138">1138</th><td>      <b>if</b> (<a class="tu ref fn" href="#results_wanted" title='results_wanted' data-use='c' data-ref="results_wanted" data-ref-filename="results_wanted">results_wanted</a>(<a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>) != <var>0</var>)  <i>/* Check result only if not ignored. */</i></td></tr>
<tr><th id="1139">1139</th><td>	<a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((len))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>), <a class="local col6 ref" href="#276tr" title='tr' data-ref="276tr" data-ref-filename="276tr">tr</a>, <a class="local col3 ref" href="#273len" title='len' data-ref="273len" data-ref-filename="273len">len</a>);</td></tr>
<tr><th id="1140">1140</th><td>    }</td></tr>
<tr><th id="1141">1141</th><td>  }</td></tr>
<tr><th id="1142">1142</th><td>  <a class="local col4 ref" href="#264J" title='J' data-ref="264J" data-ref-filename="264J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_arch.h.html#657" title="0" data-ref="_M/LJ_52">LJ_52</a> ? <a class="local col6 ref" href="#266ud" title='ud' data-ref="266ud" data-ref-filename="266ud">ud</a> : <a class="macro" href="lj_ir.h.html#521" title="((((TRef)((REF_NIL-(IRT_TRUE)) + (((IRT_TRUE))&lt;&lt;24)))))" data-ref="_M/TREF_TRUE">TREF_TRUE</a>;</td></tr>
<tr><th id="1143">1143</th><td>}</td></tr>
<tr><th id="1144">1144</th><td></td></tr>
<tr><th id="1145">1145</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_io_flush" title='recff_io_flush' data-type='void recff_io_flush(jit_State * J, RecordFFData * rd)' data-ref="recff_io_flush" data-ref-filename="recff_io_flush">recff_io_flush</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col7 decl" id="277J" title='J' data-type='jit_State *' data-ref="277J" data-ref-filename="277J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col8 decl" id="278rd" title='rd' data-type='RecordFFData *' data-ref="278rd" data-ref-filename="278rd">rd</dfn>)</td></tr>
<tr><th id="1146">1146</th><td>{</td></tr>
<tr><th id="1147">1147</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col9 decl" id="279ud" title='ud' data-type='TRef' data-ref="279ud" data-ref-filename="279ud">ud</dfn>, <dfn class="local col0 decl" id="280fp" title='fp' data-type='TRef' data-ref="280fp" data-ref-filename="280fp">fp</dfn> = <a class="tu ref fn" href="#recff_io_fp" title='recff_io_fp' data-use='c' data-ref="recff_io_fp" data-ref-filename="recff_io_fp">recff_io_fp</a>(<a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J">J</a>, &amp;<a class="local col9 ref" href="#279ud" title='ud' data-ref="279ud" data-ref-filename="279ud">ud</a>, <a class="local col8 ref" href="#278rd" title='rd' data-ref="278rd" data-ref-filename="278rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a>);</td></tr>
<tr><th id="1148">1148</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col1 decl" id="281tr" title='tr' data-type='TRef' data-ref="281tr" data-ref-filename="281tr">tr</dfn> = <a class="ref fn" href="lj_ircall.h.html#lj_ir_call" title='lj_ir_call' data-ref="lj_ir_call" data-ref-filename="lj_ir_call">lj_ir_call</a>(<a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J">J</a>, <a class="enum" href="lj_ircall.h.html#254" title='IRCALL_fflush' data-ref="IRCALL_fflush" data-ref-filename="IRCALL_fflush">IRCALL_fflush</a>, <a class="local col0 ref" href="#280fp" title='fp' data-ref="280fp" data-ref-filename="280fp">fp</a>);</td></tr>
<tr><th id="1149">1149</th><td>  <b>if</b> (<a class="tu ref fn" href="#results_wanted" title='results_wanted' data-use='c' data-ref="results_wanted" data-ref-filename="results_wanted">results_wanted</a>(<a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J">J</a>) != <var>0</var>)  <i>/* Check result only if not ignored. */</i></td></tr>
<tr><th id="1150">1150</th><td>    <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT)))))), (IRRef1)((tr)), (IRRef1)((lj_ir_kint(J, 0)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#348" title="(((uint32_t)((((IR_EQ))&lt;&lt;8) | (IRT_GUARD|IRT_INT))))" data-ref="_M/IRTGI">IRTGI</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>), <a class="local col1 ref" href="#281tr" title='tr' data-ref="281tr" data-ref-filename="281tr">tr</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_kint" title='lj_ir_kint' data-ref="lj_ir_kint" data-ref-filename="lj_ir_kint">lj_ir_kint</a>(<a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J">J</a>, <var>0</var>));</td></tr>
<tr><th id="1151">1151</th><td>  <a class="local col7 ref" href="#277J" title='J' data-ref="277J" data-ref-filename="277J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="macro" href="lj_ir.h.html#521" title="((((TRef)((REF_NIL-(IRT_TRUE)) + (((IRT_TRUE))&lt;&lt;24)))))" data-ref="_M/TREF_TRUE">TREF_TRUE</a>;</td></tr>
<tr><th id="1152">1152</th><td>}</td></tr>
<tr><th id="1153">1153</th><td></td></tr>
<tr><th id="1154">1154</th><td><i  data-doc="recff_debug_getmetatable">/* -- Debug library fast functions ---------------------------------------- */</i></td></tr>
<tr><th id="1155">1155</th><td></td></tr>
<tr><th id="1156">1156</th><td><em>static</em> <em>void</em> <a class="macro" href="lj_def.h.html#314" title="" data-ref="_M/LJ_FASTCALL">LJ_FASTCALL</a> <dfn class="tu decl def fn" id="recff_debug_getmetatable" title='recff_debug_getmetatable' data-type='void recff_debug_getmetatable(jit_State * J, RecordFFData * rd)' data-ref="recff_debug_getmetatable" data-ref-filename="recff_debug_getmetatable">recff_debug_getmetatable</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col2 decl" id="282J" title='J' data-type='jit_State *' data-ref="282J" data-ref-filename="282J">J</dfn>, <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> *<dfn class="local col3 decl" id="283rd" title='rd' data-type='RecordFFData *' data-ref="283rd" data-ref-filename="283rd">rd</dfn>)</td></tr>
<tr><th id="1157">1157</th><td>{</td></tr>
<tr><th id="1158">1158</th><td>  <a class="typedef" href="lj_obj.h.html#GCtab" title='GCtab' data-type='struct GCtab' data-ref="GCtab" data-ref-filename="GCtab">GCtab</a> *<dfn class="local col4 decl" id="284mt" title='mt' data-type='GCtab *' data-ref="284mt" data-ref-filename="284mt">mt</dfn>;</td></tr>
<tr><th id="1159">1159</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col5 decl" id="285mtref" title='mtref' data-type='TRef' data-ref="285mtref" data-ref-filename="285mtref">mtref</dfn>;</td></tr>
<tr><th id="1160">1160</th><td>  <a class="typedef" href="lj_ir.h.html#TRef" title='TRef' data-type='uint32_t' data-ref="TRef" data-ref-filename="TRef">TRef</a> <dfn class="local col6 decl" id="286tr" title='tr' data-type='TRef' data-ref="286tr" data-ref-filename="286tr">tr</dfn> = <a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>];</td></tr>
<tr><th id="1161">1161</th><td>  <b>if</b> (<a class="macro" href="lj_ir.h.html#502" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_TAB)&lt;&lt;24)))" data-ref="_M/tref_istab">tref_istab</a>(<a class="local col6 ref" href="#286tr" title='tr' data-ref="286tr" data-ref-filename="286tr">tr</a>)) {</td></tr>
<tr><th id="1162">1162</th><td>    <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> = <a class="macro" href="lj_obj.h.html#511" title="(&amp;((GCobj *)(((&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)-&gt;metatable)).gcptr64)-&gt;tab)" data-ref="_M/tabref">tabref</a>(<a class="macro" href="lj_obj.h.html#857" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;tab)" data-ref="_M/tabV">tabV</a>(&amp;<a class="local col3 ref" href="#283rd" title='rd' data-ref="283rd" data-ref-filename="283rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>])-&gt;<a class="ref field" href="lj_obj.h.html#GCtab::metatable" title='GCtab::metatable' data-ref="GCtab::metatable" data-ref-filename="GCtab..metatable">metatable</a>);</td></tr>
<tr><th id="1163">1163</th><td>    <a class="local col5 ref" href="#285mtref" title='mtref' data-ref="285mtref" data-ref-filename="285mtref">mtref</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB))))), (IRRef1)((tr)), (IRRef1)((IRFL_TAB_META))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col6 ref" href="#286tr" title='tr' data-ref="286tr" data-ref-filename="286tr">tr</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_TAB_META' data-ref="IRFL_TAB_META" data-ref-filename="IRFL_TAB_META">IRFL_TAB_META</a>);</td></tr>
<tr><th id="1164">1164</th><td>  } <b>else</b> <b>if</b> (<a class="macro" href="lj_ir.h.html#503" title="(((((tr)) &amp; (IRT_TYPE&lt;&lt;24)) == ((IRT_UDATA)&lt;&lt;24)))" data-ref="_M/tref_isudata">tref_isudata</a>(<a class="local col6 ref" href="#286tr" title='tr' data-ref="286tr" data-ref-filename="286tr">tr</a>)) {</td></tr>
<tr><th id="1165">1165</th><td>    <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> = <a class="macro" href="lj_obj.h.html#511" title="(&amp;((GCobj *)(((&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;ud)-&gt;metatable)).gcptr64)-&gt;tab)" data-ref="_M/tabref">tabref</a>(<a class="macro" href="lj_obj.h.html#858" title="(&amp;((GCobj *)((((&amp;rd-&gt;argv[0])-&gt;gcr).gcptr64) &amp; (((uint64_t)1 &lt;&lt; 47) - 1)))-&gt;ud)" data-ref="_M/udataV">udataV</a>(&amp;<a class="local col3 ref" href="#283rd" title='rd' data-ref="283rd" data-ref-filename="283rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>])-&gt;<a class="ref field" href="lj_obj.h.html#GCudata::metatable" title='GCudata::metatable' data-ref="GCudata::metatable" data-ref-filename="GCudata..metatable">metatable</a>);</td></tr>
<tr><th id="1166">1166</th><td>    <a class="local col5 ref" href="#285mtref" title='mtref' data-ref="285mtref" data-ref-filename="285mtref">mtref</a> = <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)((((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB))))), (IRRef1)((tr)), (IRRef1)((IRFL_UDATA_META))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#344" title="((uint32_t)(((IR_FLOAD)&lt;&lt;8) | (IRT_TAB)))" data-ref="_M/IRT">IRT</a>(<a class="enum" href="lj_ir.h.html#154" title='IR_FLOAD' data-ref="IR_FLOAD" data-ref-filename="IR_FLOAD">IR_FLOAD</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col6 ref" href="#286tr" title='tr' data-ref="286tr" data-ref-filename="286tr">tr</a>, <a class="enum" href="lj_ir.h.html#216" title='IRFL_UDATA_META' data-ref="IRFL_UDATA_META" data-ref-filename="IRFL_UDATA_META">IRFL_UDATA_META</a>);</td></tr>
<tr><th id="1167">1167</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1168">1168</th><td>    <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> = <a class="macro" href="lj_obj.h.html#511" title="(&amp;((GCobj *)(((((&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g))-&gt;gcroot[GCROOT_BASEMT+((((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)) &lt;= (~13u)) ? ~(~13u) : ~((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)))]))).gcptr64)-&gt;tab)" data-ref="_M/tabref">tabref</a>(<a class="macro" href="lj_obj.h.html#583" title="(((&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g))-&gt;gcroot[GCROOT_BASEMT+((((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)) &lt;= (~13u)) ? ~(~13u) : ~((uint32_t)((&amp;rd-&gt;argv[0])-&gt;it64 &gt;&gt; 47)))])" data-ref="_M/basemt_obj">basemt_obj</a>(<a class="macro" href="lj_dispatch.h.html#115" title="(&amp;((GG_State *)((char *)(J) - ((int)__builtin_offsetof(GG_State, J))))-&gt;g)" data-ref="_M/J2G">J2G</a>(<a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>), &amp;<a class="local col3 ref" href="#283rd" title='rd' data-ref="283rd" data-ref-filename="283rd">rd</a>-&gt;<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a>[<var>0</var>]));</td></tr>
<tr><th id="1169">1169</th><td>    <a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> ? <a class="macro" href="lj_iropt.h.html#67" title="lj_ir_kgc(J, ((GCobj *)((mt))), IRT_TAB)" data-ref="_M/lj_ir_ktab">lj_ir_ktab</a>(<a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>, <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a>) : <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>;</td></tr>
<tr><th id="1170">1170</th><td>    <b>return</b>;</td></tr>
<tr><th id="1171">1171</th><td>  }</td></tr>
<tr><th id="1172">1172</th><td>  <a class="macro" href="#36" title="(lj_ir_set_(J, (uint16_t)(((((uint32_t)((((mt ? IR_NE : IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_TAB))))))), (IRRef1)((mtref)), (IRRef1)((lj_ir_knull(J, IRT_TAB)))), lj_opt_fold(J))" data-ref="_M/emitir">emitir</a>(<a class="macro" href="lj_ir.h.html#347" title="(((uint32_t)((((mt ? IR_NE : IR_EQ))&lt;&lt;8) | (IRT_GUARD|(IRT_TAB)))))" data-ref="_M/IRTG">IRTG</a>(<a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> ? <a class="enum" href="lj_ir.h.html#154" title='IR_NE' data-ref="IR_NE" data-ref-filename="IR_NE">IR_NE</a> : <a class="enum" href="lj_ir.h.html#154" title='IR_EQ' data-ref="IR_EQ" data-ref-filename="IR_EQ">IR_EQ</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>), <a class="local col5 ref" href="#285mtref" title='mtref' data-ref="285mtref" data-ref-filename="285mtref">mtref</a>, <a class="ref fn" href="lj_iropt.h.html#lj_ir_knull" title='lj_ir_knull' data-ref="lj_ir_knull" data-ref-filename="lj_ir_knull">lj_ir_knull</a>(<a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>, <a class="enum" href="lj_ir.h.html#318" title='IRT_TAB' data-ref="IRT_TAB" data-ref-filename="IRT_TAB">IRT_TAB</a>));</td></tr>
<tr><th id="1173">1173</th><td>  <a class="local col2 ref" href="#282J" title='J' data-ref="282J" data-ref-filename="282J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<var>0</var>] = <a class="local col4 ref" href="#284mt" title='mt' data-ref="284mt" data-ref-filename="284mt">mt</a> ? <a class="local col5 ref" href="#285mtref" title='mtref' data-ref="285mtref" data-ref-filename="285mtref">mtref</a> : <a class="macro" href="lj_ir.h.html#519" title="((((TRef)((REF_NIL-(IRT_NIL)) + (((IRT_NIL))&lt;&lt;24)))))" data-ref="_M/TREF_NIL">TREF_NIL</a>;</td></tr>
<tr><th id="1174">1174</th><td>}</td></tr>
<tr><th id="1175">1175</th><td></td></tr>
<tr><th id="1176">1176</th><td><i>/* -- Record calls to fast functions -------------------------------------- */</i></td></tr>
<tr><th id="1177">1177</th><td></td></tr>
<tr><th id="1178">1178</th><td><u>#include <a href="lj_recdef.h.html">"lj_recdef.h"</a></u></td></tr>
<tr><th id="1179">1179</th><td></td></tr>
<tr><th id="1180">1180</th><td><em>static</em> <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="tu decl def fn" id="recdef_lookup" title='recdef_lookup' data-type='uint32_t recdef_lookup(GCfunc * fn)' data-ref="recdef_lookup" data-ref-filename="recdef_lookup">recdef_lookup</dfn>(<a class="typedef" href="lj_obj.h.html#GCfunc" title='GCfunc' data-type='union GCfunc' data-ref="GCfunc" data-ref-filename="GCfunc">GCfunc</a> *<dfn class="local col7 decl" id="287fn" title='fn' data-type='GCfunc *' data-ref="287fn" data-ref-filename="287fn">fn</dfn>)</td></tr>
<tr><th id="1181">1181</th><td>{</td></tr>
<tr><th id="1182">1182</th><td>  <b>if</b> (<a class="local col7 ref" href="#287fn" title='fn' data-ref="287fn" data-ref-filename="287fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#456" title='GCfuncC::ffid' data-ref="GCfuncC::ffid" data-ref-filename="GCfuncC..ffid">ffid</a> &lt; <b>sizeof</b>(<a class="ref" href="lj_recdef.h.html#recff_idmap" title='recff_idmap' data-ref="recff_idmap" data-ref-filename="recff_idmap">recff_idmap</a>)/<b>sizeof</b>(<a class="ref" href="lj_recdef.h.html#recff_idmap" title='recff_idmap' data-ref="recff_idmap" data-ref-filename="recff_idmap">recff_idmap</a>[<var>0</var>]))</td></tr>
<tr><th id="1183">1183</th><td>    <b>return</b> <a class="ref" href="lj_recdef.h.html#recff_idmap" title='recff_idmap' data-ref="recff_idmap" data-ref-filename="recff_idmap">recff_idmap</a>[<a class="local col7 ref" href="#287fn" title='fn' data-ref="287fn" data-ref-filename="287fn">fn</a>-&gt;<a class="ref field" href="lj_obj.h.html#GCfunc::c" title='GCfunc::c' data-ref="GCfunc::c" data-ref-filename="GCfunc..c">c</a>.<a class="ref field" href="lj_obj.h.html#456" title='GCfuncC::ffid' data-ref="GCfuncC::ffid" data-ref-filename="GCfuncC..ffid">ffid</a>];</td></tr>
<tr><th id="1184">1184</th><td>  <b>else</b></td></tr>
<tr><th id="1185">1185</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1186">1186</th><td>}</td></tr>
<tr><th id="1187">1187</th><td></td></tr>
<tr><th id="1188">1188</th><td><i>/* Record entry to a fast function or C function. */</i></td></tr>
<tr><th id="1189">1189</th><td><em>void</em> <dfn class="decl def fn" id="lj_ffrecord_func" title='lj_ffrecord_func' data-ref="lj_ffrecord_func" data-ref-filename="lj_ffrecord_func">lj_ffrecord_func</dfn>(<a class="typedef" href="lj_jit.h.html#jit_State" title='jit_State' data-type='struct jit_State' data-ref="jit_State" data-ref-filename="jit_State">jit_State</a> *<dfn class="local col8 decl" id="288J" title='J' data-type='jit_State *' data-ref="288J" data-ref-filename="288J">J</dfn>)</td></tr>
<tr><th id="1190">1190</th><td>{</td></tr>
<tr><th id="1191">1191</th><td>  <a class="typedef" href="lj_ffrecord.h.html#RecordFFData" title='RecordFFData' data-type='struct RecordFFData' data-ref="RecordFFData" data-ref-filename="RecordFFData">RecordFFData</a> <dfn class="local col9 decl" id="289rd" title='rd' data-type='RecordFFData' data-ref="289rd" data-ref-filename="289rd">rd</dfn>;</td></tr>
<tr><th id="1192">1192</th><td>  <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="290m" title='m' data-type='uint32_t' data-ref="290m" data-ref-filename="290m">m</dfn> = <a class="tu ref fn" href="#recdef_lookup" title='recdef_lookup' data-use='c' data-ref="recdef_lookup" data-ref-filename="recdef_lookup">recdef_lookup</a>(<a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::fn" title='jit_State::fn' data-ref="jit_State::fn" data-ref-filename="jit_State..fn">fn</a>);</td></tr>
<tr><th id="1193">1193</th><td>  <a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>.<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::data" title='RecordFFData::data' data-ref="RecordFFData::data" data-ref-filename="RecordFFData..data">data</a> = <a class="local col0 ref" href="#290m" title='m' data-ref="290m" data-ref-filename="290m">m</a> &amp; <var>0xff</var>;</td></tr>
<tr><th id="1194">1194</th><td>  <a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>.<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> = <var>1</var>;  <i>/* Default is one result. */</i></td></tr>
<tr><th id="1195">1195</th><td>  <a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>.<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::argv" title='RecordFFData::argv' data-ref="RecordFFData::argv" data-ref-filename="RecordFFData..argv">argv</a> = <a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::L" title='jit_State::L' data-ref="jit_State::L" data-ref-filename="jit_State..L">L</a>-&gt;<a class="ref field" href="lj_obj.h.html#lua_State::base" title='lua_State::base' data-ref="lua_State::base" data-ref-filename="lua_State..base">base</a>;</td></tr>
<tr><th id="1196">1196</th><td>  <a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::base" title='jit_State::base' data-ref="jit_State::base" data-ref-filename="jit_State..base">base</a>[<a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::maxslot" title='jit_State::maxslot' data-ref="jit_State::maxslot" data-ref-filename="jit_State..maxslot">maxslot</a>] = <var>0</var>;  <i>/* Mark end of arguments. */</i></td></tr>
<tr><th id="1197">1197</th><td>  (<a class="ref" href="lj_recdef.h.html#recff_func" title='recff_func' data-ref="recff_func" data-ref-filename="recff_func">recff_func</a>[<a class="local col0 ref" href="#290m" title='m' data-ref="290m" data-ref-filename="290m">m</a> &gt;&gt; <var>8</var>])(<a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>, &amp;<a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>);  <i>/* Call recff_* handler. */</i></td></tr>
<tr><th id="1198">1198</th><td>  <b>if</b> (<a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>.<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="1199">1199</th><td>    <b>if</b> (<a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::postproc" title='jit_State::postproc' data-ref="jit_State::postproc" data-ref-filename="jit_State..postproc">postproc</a> == <a class="enum" href="lj_jit.h.html#LJ_POST_NONE" title='LJ_POST_NONE' data-ref="LJ_POST_NONE" data-ref-filename="LJ_POST_NONE">LJ_POST_NONE</a>) <a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>-&gt;<a class="ref field" href="lj_jit.h.html#jit_State::postproc" title='jit_State::postproc' data-ref="jit_State::postproc" data-ref-filename="jit_State..postproc">postproc</a> = <a class="enum" href="lj_jit.h.html#LJ_POST_FFRETRY" title='LJ_POST_FFRETRY' data-ref="LJ_POST_FFRETRY" data-ref-filename="LJ_POST_FFRETRY">LJ_POST_FFRETRY</a>;</td></tr>
<tr><th id="1200">1200</th><td>    <a class="ref fn" href="lj_record.h.html#lj_record_ret" title='lj_record_ret' data-ref="lj_record_ret" data-ref-filename="lj_record_ret">lj_record_ret</a>(<a class="local col8 ref" href="#288J" title='J' data-ref="288J" data-ref-filename="288J">J</a>, <var>0</var>, <a class="local col9 ref" href="#289rd" title='rd' data-ref="289rd" data-ref-filename="289rd">rd</a>.<a class="ref field" href="lj_ffrecord.h.html#RecordFFData::nres" title='RecordFFData::nres' data-ref="RecordFFData::nres" data-ref-filename="RecordFFData..nres">nres</a>);</td></tr>
<tr><th id="1201">1201</th><td>  }</td></tr>
<tr><th id="1202">1202</th><td>}</td></tr>
<tr><th id="1203">1203</th><td></td></tr>
<tr><th id="1204">1204</th><td><u>#undef <a class="macro" href="#33" data-ref="_M/IR">IR</a></u></td></tr>
<tr><th id="1205">1205</th><td><u>#undef <a class="macro" href="#36" data-ref="_M/emitir">emitir</a></u></td></tr>
<tr><th id="1206">1206</th><td></td></tr>
<tr><th id="1207">1207</th><td><u>#<span data-ppcond="11">endif</span></u></td></tr>
<tr><th id="1208">1208</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2022-Jun-23</em> from project luajit revision <em>v2.1.0-beta3-294-ge9577376</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
