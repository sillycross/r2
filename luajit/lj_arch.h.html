<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>lj_arch.h source code [luajit/lj_arch.h] - Woboq Code Browser</title>
<link rel="stylesheet" href=".././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href=".././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src=".././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src=".././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'luajit/lj_arch.h'; var root_path = '..'; var data_path = '.././data'; var ecma_script_api_version = 2;</script>
<script src='.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='./'>luajit</a>/<a href='lj_arch.h.html'>lj_arch.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i>** Target architecture selection.</i></td></tr>
<tr><th id="3">3</th><td><i>** Copyright (C) 2005-2021 Mike Pall. See Copyright Notice in luajit.h</i></td></tr>
<tr><th id="4">4</th><td><i>*/</i></td></tr>
<tr><th id="5">5</th><td></td></tr>
<tr><th id="6">6</th><td><u>#<span data-ppcond="6">ifndef</span> <span class="macro" data-ref="_M/_LJ_ARCH_H">_LJ_ARCH_H</span></u></td></tr>
<tr><th id="7">7</th><td><u>#define <dfn class="macro" id="_M/_LJ_ARCH_H" data-ref="_M/_LJ_ARCH_H">_LJ_ARCH_H</dfn></u></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="lua.h.html">"lua.h"</a></u></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><i>/* -- Target definitions -------------------------------------------------- */</i></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><i>/* Target endianess. */</i></td></tr>
<tr><th id="14">14</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_LE" data-ref="_M/LUAJIT_LE">LUAJIT_LE</dfn>	0</u></td></tr>
<tr><th id="15">15</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_BE" data-ref="_M/LUAJIT_BE">LUAJIT_BE</dfn>	1</u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><i>/* Target architectures. */</i></td></tr>
<tr><th id="18">18</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_X86" data-ref="_M/LUAJIT_ARCH_X86">LUAJIT_ARCH_X86</dfn>		1</u></td></tr>
<tr><th id="19">19</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_x86" data-ref="_M/LUAJIT_ARCH_x86">LUAJIT_ARCH_x86</dfn>		1</u></td></tr>
<tr><th id="20">20</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_X64" data-ref="_M/LUAJIT_ARCH_X64">LUAJIT_ARCH_X64</dfn>		2</u></td></tr>
<tr><th id="21">21</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_x64" data-ref="_M/LUAJIT_ARCH_x64">LUAJIT_ARCH_x64</dfn>		2</u></td></tr>
<tr><th id="22">22</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_ARM" data-ref="_M/LUAJIT_ARCH_ARM">LUAJIT_ARCH_ARM</dfn>		3</u></td></tr>
<tr><th id="23">23</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_arm" data-ref="_M/LUAJIT_ARCH_arm">LUAJIT_ARCH_arm</dfn>		3</u></td></tr>
<tr><th id="24">24</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_ARM64" data-ref="_M/LUAJIT_ARCH_ARM64">LUAJIT_ARCH_ARM64</dfn>	4</u></td></tr>
<tr><th id="25">25</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_arm64" data-ref="_M/LUAJIT_ARCH_arm64">LUAJIT_ARCH_arm64</dfn>	4</u></td></tr>
<tr><th id="26">26</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_PPC" data-ref="_M/LUAJIT_ARCH_PPC">LUAJIT_ARCH_PPC</dfn>		5</u></td></tr>
<tr><th id="27">27</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_ppc" data-ref="_M/LUAJIT_ARCH_ppc">LUAJIT_ARCH_ppc</dfn>		5</u></td></tr>
<tr><th id="28">28</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_MIPS" data-ref="_M/LUAJIT_ARCH_MIPS">LUAJIT_ARCH_MIPS</dfn>	6</u></td></tr>
<tr><th id="29">29</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_mips" data-ref="_M/LUAJIT_ARCH_mips">LUAJIT_ARCH_mips</dfn>	6</u></td></tr>
<tr><th id="30">30</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_MIPS32" data-ref="_M/LUAJIT_ARCH_MIPS32">LUAJIT_ARCH_MIPS32</dfn>	6</u></td></tr>
<tr><th id="31">31</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_mips32" data-ref="_M/LUAJIT_ARCH_mips32">LUAJIT_ARCH_mips32</dfn>	6</u></td></tr>
<tr><th id="32">32</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_MIPS64" data-ref="_M/LUAJIT_ARCH_MIPS64">LUAJIT_ARCH_MIPS64</dfn>	7</u></td></tr>
<tr><th id="33">33</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_ARCH_mips64" data-ref="_M/LUAJIT_ARCH_mips64">LUAJIT_ARCH_mips64</dfn>	7</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><i>/* Target OS. */</i></td></tr>
<tr><th id="36">36</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_OTHER" data-ref="_M/LUAJIT_OS_OTHER">LUAJIT_OS_OTHER</dfn>		0</u></td></tr>
<tr><th id="37">37</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_WINDOWS" data-ref="_M/LUAJIT_OS_WINDOWS">LUAJIT_OS_WINDOWS</dfn>	1</u></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_LINUX" data-ref="_M/LUAJIT_OS_LINUX">LUAJIT_OS_LINUX</dfn>		2</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_OSX" data-ref="_M/LUAJIT_OS_OSX">LUAJIT_OS_OSX</dfn>		3</u></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_BSD" data-ref="_M/LUAJIT_OS_BSD">LUAJIT_OS_BSD</dfn>		4</u></td></tr>
<tr><th id="41">41</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS_POSIX" data-ref="_M/LUAJIT_OS_POSIX">LUAJIT_OS_POSIX</dfn>		5</u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i>/* Number mode. */</i></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/LJ_NUMMODE_SINGLE" data-ref="_M/LJ_NUMMODE_SINGLE">LJ_NUMMODE_SINGLE</dfn>	0	/* Single-number mode only. */</u></td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/LJ_NUMMODE_SINGLE_DUAL" data-ref="_M/LJ_NUMMODE_SINGLE_DUAL">LJ_NUMMODE_SINGLE_DUAL</dfn>	1	/* Default to single-number mode. */</u></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/LJ_NUMMODE_DUAL" data-ref="_M/LJ_NUMMODE_DUAL">LJ_NUMMODE_DUAL</dfn>		2	/* Dual-number mode only. */</u></td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/LJ_NUMMODE_DUAL_SINGLE" data-ref="_M/LJ_NUMMODE_DUAL_SINGLE">LJ_NUMMODE_DUAL_SINGLE</dfn>	3	/* Default to dual-number mode. */</u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><i>/* -- Target detection ---------------------------------------------------- */</i></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><i>/* Select native target if no target defined. */</i></td></tr>
<tr><th id="52">52</th><td><u>#<span data-ppcond="52">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_TARGET">LUAJIT_TARGET</span></u></td></tr>
<tr><th id="53">53</th><td></td></tr>
<tr><th id="54">54</th><td><u>#if defined(__i386) || defined(__i386__) || defined(_M_IX86)</u></td></tr>
<tr><th id="55">55</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_X86</u></td></tr>
<tr><th id="56">56</th><td><u>#elif defined(__x86_64__) || defined(__x86_64) || defined(_M_X64) || defined(_M_AMD64)</u></td></tr>
<tr><th id="57">57</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_X64</u></td></tr>
<tr><th id="58">58</th><td><u>#elif defined(__arm__) || defined(__arm) || defined(__ARM__) || defined(__ARM)</u></td></tr>
<tr><th id="59">59</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_ARM</u></td></tr>
<tr><th id="60">60</th><td><u>#elif defined(__aarch64__)</u></td></tr>
<tr><th id="61">61</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_ARM64</u></td></tr>
<tr><th id="62">62</th><td><u>#elif defined(__ppc__) || defined(__ppc) || defined(__PPC__) || defined(__PPC) || defined(__powerpc__) || defined(__powerpc) || defined(__POWERPC__) || defined(__POWERPC) || defined(_M_PPC)</u></td></tr>
<tr><th id="63">63</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_PPC</u></td></tr>
<tr><th id="64">64</th><td><u>#elif defined(__mips64__) || defined(__mips64) || defined(__MIPS64__) || defined(__MIPS64)</u></td></tr>
<tr><th id="65">65</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_MIPS64</u></td></tr>
<tr><th id="66">66</th><td><u>#elif defined(__mips__) || defined(__mips) || defined(__MIPS__) || defined(__MIPS)</u></td></tr>
<tr><th id="67">67</th><td><u>#define LUAJIT_TARGET	LUAJIT_ARCH_MIPS32</u></td></tr>
<tr><th id="68">68</th><td><u>#else</u></td></tr>
<tr><th id="69">69</th><td><u>#error "No support for this architecture (yet)"</u></td></tr>
<tr><th id="70">70</th><td><u>#endif</u></td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td><u>#<span data-ppcond="52">endif</span></u></td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><i>/* Select native OS if no target OS defined. */</i></td></tr>
<tr><th id="75">75</th><td><u>#<span data-ppcond="75">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_OS">LUAJIT_OS</span></u></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><u>#<span data-ppcond="77">if</span> defined(<span class="macro" data-ref="_M/_WIN32">_WIN32</span>) &amp;&amp; !defined(<span class="macro" data-ref="_M/_XBOX_VER">_XBOX_VER</span>)</u></td></tr>
<tr><th id="78">78</th><td><u>#define LUAJIT_OS	LUAJIT_OS_WINDOWS</u></td></tr>
<tr><th id="79">79</th><td><u>#<span data-ppcond="77">elif</span> defined(<span class="macro" data-ref="_M/__linux__">__linux__</span>)</u></td></tr>
<tr><th id="80">80</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_OS" data-ref="_M/LUAJIT_OS">LUAJIT_OS</dfn>	LUAJIT_OS_LINUX</u></td></tr>
<tr><th id="81">81</th><td><u>#<span data-ppcond="77">elif</span> defined(__MACH__) &amp;&amp; defined(__APPLE__)</u></td></tr>
<tr><th id="82">82</th><td><u>#include "TargetConditionals.h"</u></td></tr>
<tr><th id="83">83</th><td><u>#define LUAJIT_OS	LUAJIT_OS_OSX</u></td></tr>
<tr><th id="84">84</th><td><u>#elif (defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || \</u></td></tr>
<tr><th id="85">85</th><td><u>       defined(__NetBSD__) || defined(__OpenBSD__) || \</u></td></tr>
<tr><th id="86">86</th><td><u>       defined(__DragonFly__)) &amp;&amp; !defined(__ORBIS__)</u></td></tr>
<tr><th id="87">87</th><td><u>#define LUAJIT_OS	LUAJIT_OS_BSD</u></td></tr>
<tr><th id="88">88</th><td><u>#elif (defined(__sun__) &amp;&amp; defined(__svr4__))</u></td></tr>
<tr><th id="89">89</th><td><u>#define LJ_TARGET_SOLARIS	1</u></td></tr>
<tr><th id="90">90</th><td><u>#define LUAJIT_OS	LUAJIT_OS_POSIX</u></td></tr>
<tr><th id="91">91</th><td><u>#elif defined(__HAIKU__)</u></td></tr>
<tr><th id="92">92</th><td><u>#define LUAJIT_OS	LUAJIT_OS_POSIX</u></td></tr>
<tr><th id="93">93</th><td><u>#elif defined(__CYGWIN__)</u></td></tr>
<tr><th id="94">94</th><td><u>#define LJ_TARGET_CYGWIN	1</u></td></tr>
<tr><th id="95">95</th><td><u>#define LUAJIT_OS	LUAJIT_OS_POSIX</u></td></tr>
<tr><th id="96">96</th><td><u>#else</u></td></tr>
<tr><th id="97">97</th><td><u>#define LUAJIT_OS	LUAJIT_OS_OTHER</u></td></tr>
<tr><th id="98">98</th><td><u>#<span data-ppcond="77">endif</span></u></td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><u>#<span data-ppcond="75">endif</span></u></td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td><i>/* Set target OS properties. */</i></td></tr>
<tr><th id="103">103</th><td><u>#<span data-ppcond="103">if</span> <a class="macro" href="#80" title="2" data-ref="_M/LUAJIT_OS">LUAJIT_OS</a> == <a class="macro" href="#37" title="1" data-ref="_M/LUAJIT_OS_WINDOWS">LUAJIT_OS_WINDOWS</a></u></td></tr>
<tr><th id="104">104</th><td><u>#define LJ_OS_NAME	"Windows"</u></td></tr>
<tr><th id="105">105</th><td><u>#<span data-ppcond="103">elif</span> <a class="macro" href="#80" title="2" data-ref="_M/LUAJIT_OS">LUAJIT_OS</a> == <a class="macro" href="#38" title="2" data-ref="_M/LUAJIT_OS_LINUX">LUAJIT_OS_LINUX</a></u></td></tr>
<tr><th id="106">106</th><td><u>#define <dfn class="macro" id="_M/LJ_OS_NAME" data-ref="_M/LJ_OS_NAME">LJ_OS_NAME</dfn>	"Linux"</u></td></tr>
<tr><th id="107">107</th><td><u>#<span data-ppcond="103">elif</span> LUAJIT_OS == LUAJIT_OS_OSX</u></td></tr>
<tr><th id="108">108</th><td><u>#define LJ_OS_NAME	"OSX"</u></td></tr>
<tr><th id="109">109</th><td><u>#elif LUAJIT_OS == LUAJIT_OS_BSD</u></td></tr>
<tr><th id="110">110</th><td><u>#define LJ_OS_NAME	"BSD"</u></td></tr>
<tr><th id="111">111</th><td><u>#elif LUAJIT_OS == LUAJIT_OS_POSIX</u></td></tr>
<tr><th id="112">112</th><td><u>#define LJ_OS_NAME	"POSIX"</u></td></tr>
<tr><th id="113">113</th><td><u>#else</u></td></tr>
<tr><th id="114">114</th><td><u>#define LJ_OS_NAME	"Other"</u></td></tr>
<tr><th id="115">115</th><td><u>#<span data-ppcond="103">endif</span></u></td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_WINDOWS" data-ref="_M/LJ_TARGET_WINDOWS">LJ_TARGET_WINDOWS</dfn>	(LUAJIT_OS == LUAJIT_OS_WINDOWS)</u></td></tr>
<tr><th id="118">118</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_LINUX" data-ref="_M/LJ_TARGET_LINUX">LJ_TARGET_LINUX</dfn>		(LUAJIT_OS == LUAJIT_OS_LINUX)</u></td></tr>
<tr><th id="119">119</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_OSX" data-ref="_M/LJ_TARGET_OSX">LJ_TARGET_OSX</dfn>		(LUAJIT_OS == LUAJIT_OS_OSX)</u></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_BSD" data-ref="_M/LJ_TARGET_BSD">LJ_TARGET_BSD</dfn>		(LUAJIT_OS == LUAJIT_OS_BSD)</u></td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_POSIX" data-ref="_M/LJ_TARGET_POSIX">LJ_TARGET_POSIX</dfn>		(LUAJIT_OS &gt; LUAJIT_OS_WINDOWS)</u></td></tr>
<tr><th id="122">122</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_DLOPEN" data-ref="_M/LJ_TARGET_DLOPEN">LJ_TARGET_DLOPEN</dfn>	LJ_TARGET_POSIX</u></td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td><u>#<span data-ppcond="124">if</span> TARGET_OS_IPHONE</u></td></tr>
<tr><th id="125">125</th><td><u>#define LJ_TARGET_IOS		1</u></td></tr>
<tr><th id="126">126</th><td><u>#<span data-ppcond="124">else</span></u></td></tr>
<tr><th id="127">127</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_IOS" data-ref="_M/LJ_TARGET_IOS">LJ_TARGET_IOS</dfn>		0</u></td></tr>
<tr><th id="128">128</th><td><u>#<span data-ppcond="124">endif</span></u></td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td><u>#<span data-ppcond="130">ifdef</span> <span class="macro" data-ref="_M/__CELLOS_LV2__">__CELLOS_LV2__</span></u></td></tr>
<tr><th id="131">131</th><td><u>#define LJ_TARGET_PS3		1</u></td></tr>
<tr><th id="132">132</th><td><u>#define LJ_TARGET_CONSOLE	1</u></td></tr>
<tr><th id="133">133</th><td><u>#<span data-ppcond="130">endif</span></u></td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td><u>#<span data-ppcond="135">ifdef</span> <span class="macro" data-ref="_M/__ORBIS__">__ORBIS__</span></u></td></tr>
<tr><th id="136">136</th><td><u>#define LJ_TARGET_PS4		1</u></td></tr>
<tr><th id="137">137</th><td><u>#define LJ_TARGET_CONSOLE	1</u></td></tr>
<tr><th id="138">138</th><td><u>#undef NULL</u></td></tr>
<tr><th id="139">139</th><td><u>#define NULL ((void*)0)</u></td></tr>
<tr><th id="140">140</th><td><u>#<span data-ppcond="135">endif</span></u></td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td><u>#<span data-ppcond="142">ifdef</span> <span class="macro" data-ref="_M/__psp2__">__psp2__</span></u></td></tr>
<tr><th id="143">143</th><td><u>#define LJ_TARGET_PSVITA	1</u></td></tr>
<tr><th id="144">144</th><td><u>#define LJ_TARGET_CONSOLE	1</u></td></tr>
<tr><th id="145">145</th><td><u>#<span data-ppcond="142">endif</span></u></td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td><u>#<span data-ppcond="147">if</span> _XBOX_VER &gt;= 200</u></td></tr>
<tr><th id="148">148</th><td><u>#define LJ_TARGET_XBOX360	1</u></td></tr>
<tr><th id="149">149</th><td><u>#define LJ_TARGET_CONSOLE	1</u></td></tr>
<tr><th id="150">150</th><td><u>#<span data-ppcond="147">endif</span></u></td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td><u>#<span data-ppcond="152">ifdef</span> <span class="macro" data-ref="_M/_DURANGO">_DURANGO</span></u></td></tr>
<tr><th id="153">153</th><td><u>#define LJ_TARGET_XBOXONE	1</u></td></tr>
<tr><th id="154">154</th><td><u>#define LJ_TARGET_CONSOLE	1</u></td></tr>
<tr><th id="155">155</th><td><u>#define LJ_TARGET_GC64		1</u></td></tr>
<tr><th id="156">156</th><td><u>#<span data-ppcond="152">endif</span></u></td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td><u>#<span data-ppcond="158">ifdef</span> <span class="macro" data-ref="_M/_UWP">_UWP</span></u></td></tr>
<tr><th id="159">159</th><td><u>#define LJ_TARGET_UWP		1</u></td></tr>
<tr><th id="160">160</th><td><u>#if LUAJIT_TARGET == LUAJIT_ARCH_X64</u></td></tr>
<tr><th id="161">161</th><td><u>#define LJ_TARGET_GC64		1</u></td></tr>
<tr><th id="162">162</th><td><u>#endif</u></td></tr>
<tr><th id="163">163</th><td><u>#<span data-ppcond="158">endif</span></u></td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><i>/* -- Arch-specific settings ---------------------------------------------- */</i></td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td><i>/* Set target architecture properties. */</i></td></tr>
<tr><th id="168">168</th><td><u>#<span data-ppcond="168">if</span> <span class="macro" title="2" data-ref="_M/LUAJIT_TARGET">LUAJIT_TARGET</span> == <a class="macro" href="#18" title="1" data-ref="_M/LUAJIT_ARCH_X86">LUAJIT_ARCH_X86</a></u></td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td><u>#define LJ_ARCH_NAME		"x86"</u></td></tr>
<tr><th id="171">171</th><td><u>#define LJ_ARCH_BITS		32</u></td></tr>
<tr><th id="172">172</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_LE</u></td></tr>
<tr><th id="173">173</th><td><u>#define LJ_TARGET_X86		1</u></td></tr>
<tr><th id="174">174</th><td><u>#define LJ_TARGET_X86ORX64	1</u></td></tr>
<tr><th id="175">175</th><td><u>#define LJ_TARGET_EHRETREG	0</u></td></tr>
<tr><th id="176">176</th><td><u>#define LJ_TARGET_EHRAREG	8</u></td></tr>
<tr><th id="177">177</th><td><u>#define LJ_TARGET_MASKSHIFT	1</u></td></tr>
<tr><th id="178">178</th><td><u>#define LJ_TARGET_MASKROT	1</u></td></tr>
<tr><th id="179">179</th><td><u>#define LJ_TARGET_UNALIGNED	1</u></td></tr>
<tr><th id="180">180</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_SINGLE_DUAL</u></td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><u>#<span data-ppcond="168">elif</span> <span class="macro" title="2" data-ref="_M/LUAJIT_TARGET">LUAJIT_TARGET</span> == <a class="macro" href="#20" title="2" data-ref="_M/LUAJIT_ARCH_X64">LUAJIT_ARCH_X64</a></u></td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td><u>#define <dfn class="macro" id="_M/LJ_ARCH_NAME" data-ref="_M/LJ_ARCH_NAME">LJ_ARCH_NAME</dfn>		"x64"</u></td></tr>
<tr><th id="185">185</th><td><u>#define <dfn class="macro" id="_M/LJ_ARCH_BITS" data-ref="_M/LJ_ARCH_BITS">LJ_ARCH_BITS</dfn>		64</u></td></tr>
<tr><th id="186">186</th><td><u>#define <dfn class="macro" id="_M/LJ_ARCH_ENDIAN" data-ref="_M/LJ_ARCH_ENDIAN">LJ_ARCH_ENDIAN</dfn>		LUAJIT_LE</u></td></tr>
<tr><th id="187">187</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_X64" data-ref="_M/LJ_TARGET_X64">LJ_TARGET_X64</dfn>		1</u></td></tr>
<tr><th id="188">188</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_X86ORX64" data-ref="_M/LJ_TARGET_X86ORX64">LJ_TARGET_X86ORX64</dfn>	1</u></td></tr>
<tr><th id="189">189</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_EHRETREG" data-ref="_M/LJ_TARGET_EHRETREG">LJ_TARGET_EHRETREG</dfn>	0</u></td></tr>
<tr><th id="190">190</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_EHRAREG" data-ref="_M/LJ_TARGET_EHRAREG">LJ_TARGET_EHRAREG</dfn>	16</u></td></tr>
<tr><th id="191">191</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_JUMPRANGE" data-ref="_M/LJ_TARGET_JUMPRANGE">LJ_TARGET_JUMPRANGE</dfn>	31	/* +-2^31 = +-2GB */</u></td></tr>
<tr><th id="192">192</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_MASKSHIFT" data-ref="_M/LJ_TARGET_MASKSHIFT">LJ_TARGET_MASKSHIFT</dfn>	1</u></td></tr>
<tr><th id="193">193</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_MASKROT" data-ref="_M/LJ_TARGET_MASKROT">LJ_TARGET_MASKROT</dfn>	1</u></td></tr>
<tr><th id="194">194</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_UNALIGNED" data-ref="_M/LJ_TARGET_UNALIGNED">LJ_TARGET_UNALIGNED</dfn>	1</u></td></tr>
<tr><th id="195">195</th><td><u>#define <dfn class="macro" id="_M/LJ_ARCH_NUMMODE" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</dfn>		LJ_NUMMODE_SINGLE_DUAL</u></td></tr>
<tr><th id="196">196</th><td><u>#<span data-ppcond="196">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_DISABLE_GC64">LUAJIT_DISABLE_GC64</span></u></td></tr>
<tr><th id="197">197</th><td><u>#define <dfn class="macro" id="_M/LJ_TARGET_GC64" data-ref="_M/LJ_TARGET_GC64">LJ_TARGET_GC64</dfn>		1</u></td></tr>
<tr><th id="198">198</th><td><u>#<span data-ppcond="196">elif</span> LJ_TARGET_OSX</u></td></tr>
<tr><th id="199">199</th><td><u>#error "macOS requires GC64 -- don't disable it"</u></td></tr>
<tr><th id="200">200</th><td><u>#<span data-ppcond="196">endif</span></u></td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td><u>#<span data-ppcond="168">elif</span> LUAJIT_TARGET == LUAJIT_ARCH_ARM</u></td></tr>
<tr><th id="203">203</th><td></td></tr>
<tr><th id="204">204</th><td><u>#define LJ_ARCH_NAME		"arm"</u></td></tr>
<tr><th id="205">205</th><td><u>#define LJ_ARCH_BITS		32</u></td></tr>
<tr><th id="206">206</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_LE</u></td></tr>
<tr><th id="207">207</th><td><u>#if !defined(LJ_ARCH_HASFPU) &amp;&amp; __SOFTFP__</u></td></tr>
<tr><th id="208">208</th><td><u>#define LJ_ARCH_HASFPU		0</u></td></tr>
<tr><th id="209">209</th><td><u>#endif</u></td></tr>
<tr><th id="210">210</th><td><u>#if !defined(LJ_ABI_SOFTFP) &amp;&amp; !__ARM_PCS_VFP</u></td></tr>
<tr><th id="211">211</th><td><u>#define LJ_ABI_SOFTFP		1</u></td></tr>
<tr><th id="212">212</th><td><u>#endif</u></td></tr>
<tr><th id="213">213</th><td><u>#define LJ_ABI_EABI		1</u></td></tr>
<tr><th id="214">214</th><td><u>#define LJ_TARGET_ARM		1</u></td></tr>
<tr><th id="215">215</th><td><u>#define LJ_TARGET_EHRETREG	0</u></td></tr>
<tr><th id="216">216</th><td><u>#define LJ_TARGET_EHRAREG	14</u></td></tr>
<tr><th id="217">217</th><td><u>#define LJ_TARGET_JUMPRANGE	25	/* +-2^25 = +-32MB */</u></td></tr>
<tr><th id="218">218</th><td><u>#define LJ_TARGET_MASKSHIFT	0</u></td></tr>
<tr><th id="219">219</th><td><u>#define LJ_TARGET_MASKROT	1</u></td></tr>
<tr><th id="220">220</th><td><u>#define LJ_TARGET_UNIFYROT	2	/* Want only IR_BROR. */</u></td></tr>
<tr><th id="221">221</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_DUAL</u></td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td><u>#if __ARM_ARCH == 8 || __ARM_ARCH_8__ || __ARM_ARCH_8A__</u></td></tr>
<tr><th id="224">224</th><td><u>#define LJ_ARCH_VERSION		80</u></td></tr>
<tr><th id="225">225</th><td><u>#elif __ARM_ARCH == 7 || __ARM_ARCH_7__ || __ARM_ARCH_7A__ || __ARM_ARCH_7R__ || __ARM_ARCH_7S__ || __ARM_ARCH_7VE__</u></td></tr>
<tr><th id="226">226</th><td><u>#define LJ_ARCH_VERSION		70</u></td></tr>
<tr><th id="227">227</th><td><u>#elif __ARM_ARCH_6T2__</u></td></tr>
<tr><th id="228">228</th><td><u>#define LJ_ARCH_VERSION		61</u></td></tr>
<tr><th id="229">229</th><td><u>#elif __ARM_ARCH == 6 || __ARM_ARCH_6__ || __ARM_ARCH_6J__ || __ARM_ARCH_6K__ || __ARM_ARCH_6Z__ || __ARM_ARCH_6ZK__</u></td></tr>
<tr><th id="230">230</th><td><u>#define LJ_ARCH_VERSION		60</u></td></tr>
<tr><th id="231">231</th><td><u>#else</u></td></tr>
<tr><th id="232">232</th><td><u>#define LJ_ARCH_VERSION		50</u></td></tr>
<tr><th id="233">233</th><td><u>#endif</u></td></tr>
<tr><th id="234">234</th><td></td></tr>
<tr><th id="235">235</th><td><u>#elif LUAJIT_TARGET == LUAJIT_ARCH_ARM64</u></td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td><u>#define LJ_ARCH_BITS		64</u></td></tr>
<tr><th id="238">238</th><td><u>#if defined(__AARCH64EB__)</u></td></tr>
<tr><th id="239">239</th><td><u>#define LJ_ARCH_NAME		"arm64be"</u></td></tr>
<tr><th id="240">240</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_BE</u></td></tr>
<tr><th id="241">241</th><td><u>#else</u></td></tr>
<tr><th id="242">242</th><td><u>#define LJ_ARCH_NAME		"arm64"</u></td></tr>
<tr><th id="243">243</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_LE</u></td></tr>
<tr><th id="244">244</th><td><u>#endif</u></td></tr>
<tr><th id="245">245</th><td><u>#define LJ_TARGET_ARM64		1</u></td></tr>
<tr><th id="246">246</th><td><u>#define LJ_TARGET_EHRETREG	0</u></td></tr>
<tr><th id="247">247</th><td><u>#define LJ_TARGET_EHRAREG	30</u></td></tr>
<tr><th id="248">248</th><td><u>#define LJ_TARGET_JUMPRANGE	27	/* +-2^27 = +-128MB */</u></td></tr>
<tr><th id="249">249</th><td><u>#define LJ_TARGET_MASKSHIFT	1</u></td></tr>
<tr><th id="250">250</th><td><u>#define LJ_TARGET_MASKROT	1</u></td></tr>
<tr><th id="251">251</th><td><u>#define LJ_TARGET_UNIFYROT	2	/* Want only IR_BROR. */</u></td></tr>
<tr><th id="252">252</th><td><u>#define LJ_TARGET_GC64		1</u></td></tr>
<tr><th id="253">253</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_DUAL</u></td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td><u>#define LJ_ARCH_VERSION		80</u></td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td><u>#elif LUAJIT_TARGET == LUAJIT_ARCH_PPC</u></td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td><u>#ifndef LJ_ARCH_ENDIAN</u></td></tr>
<tr><th id="260">260</th><td><u>#if __BYTE_ORDER__ != __ORDER_BIG_ENDIAN__</u></td></tr>
<tr><th id="261">261</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_LE</u></td></tr>
<tr><th id="262">262</th><td><u>#else</u></td></tr>
<tr><th id="263">263</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_BE</u></td></tr>
<tr><th id="264">264</th><td><u>#endif</u></td></tr>
<tr><th id="265">265</th><td><u>#endif</u></td></tr>
<tr><th id="266">266</th><td></td></tr>
<tr><th id="267">267</th><td><u>#if _LP64</u></td></tr>
<tr><th id="268">268</th><td><u>#define LJ_ARCH_BITS		64</u></td></tr>
<tr><th id="269">269</th><td><u>#if LJ_ARCH_ENDIAN == LUAJIT_LE</u></td></tr>
<tr><th id="270">270</th><td><u>#define LJ_ARCH_NAME		"ppc64le"</u></td></tr>
<tr><th id="271">271</th><td><u>#else</u></td></tr>
<tr><th id="272">272</th><td><u>#define LJ_ARCH_NAME		"ppc64"</u></td></tr>
<tr><th id="273">273</th><td><u>#endif</u></td></tr>
<tr><th id="274">274</th><td><u>#else</u></td></tr>
<tr><th id="275">275</th><td><u>#define LJ_ARCH_BITS		32</u></td></tr>
<tr><th id="276">276</th><td><u>#define LJ_ARCH_NAME		"ppc"</u></td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td><u>#if !defined(LJ_ARCH_HASFPU)</u></td></tr>
<tr><th id="279">279</th><td><u>#if defined(_SOFT_FLOAT) || defined(_SOFT_DOUBLE)</u></td></tr>
<tr><th id="280">280</th><td><u>#define LJ_ARCH_HASFPU		0</u></td></tr>
<tr><th id="281">281</th><td><u>#else</u></td></tr>
<tr><th id="282">282</th><td><u>#define LJ_ARCH_HASFPU		1</u></td></tr>
<tr><th id="283">283</th><td><u>#endif</u></td></tr>
<tr><th id="284">284</th><td><u>#endif</u></td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td><u>#if !defined(LJ_ABI_SOFTFP)</u></td></tr>
<tr><th id="287">287</th><td><u>#if defined(_SOFT_FLOAT) || defined(_SOFT_DOUBLE)</u></td></tr>
<tr><th id="288">288</th><td><u>#define LJ_ABI_SOFTFP		1</u></td></tr>
<tr><th id="289">289</th><td><u>#else</u></td></tr>
<tr><th id="290">290</th><td><u>#define LJ_ABI_SOFTFP		0</u></td></tr>
<tr><th id="291">291</th><td><u>#endif</u></td></tr>
<tr><th id="292">292</th><td><u>#endif</u></td></tr>
<tr><th id="293">293</th><td><u>#endif</u></td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td><u>#if LJ_ABI_SOFTFP</u></td></tr>
<tr><th id="296">296</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_DUAL</u></td></tr>
<tr><th id="297">297</th><td><u>#else</u></td></tr>
<tr><th id="298">298</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_DUAL_SINGLE</u></td></tr>
<tr><th id="299">299</th><td><u>#endif</u></td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td><u>#define LJ_TARGET_PPC		1</u></td></tr>
<tr><th id="302">302</th><td><u>#define LJ_TARGET_EHRETREG	3</u></td></tr>
<tr><th id="303">303</th><td><u>#define LJ_TARGET_EHRAREG	65</u></td></tr>
<tr><th id="304">304</th><td><u>#define LJ_TARGET_JUMPRANGE	25	/* +-2^25 = +-32MB */</u></td></tr>
<tr><th id="305">305</th><td><u>#define LJ_TARGET_MASKSHIFT	0</u></td></tr>
<tr><th id="306">306</th><td><u>#define LJ_TARGET_MASKROT	1</u></td></tr>
<tr><th id="307">307</th><td><u>#define LJ_TARGET_UNIFYROT	1	/* Want only IR_BROL. */</u></td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td><u>#if LJ_TARGET_CONSOLE</u></td></tr>
<tr><th id="310">310</th><td><u>#define LJ_ARCH_PPC32ON64	1</u></td></tr>
<tr><th id="311">311</th><td><u>#define LJ_ARCH_NOFFI		1</u></td></tr>
<tr><th id="312">312</th><td><u>#elif LJ_ARCH_BITS == 64</u></td></tr>
<tr><th id="313">313</th><td><u>#error "No support for PPC64"</u></td></tr>
<tr><th id="314">314</th><td><u>#endif</u></td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td><u>#if _ARCH_PWR7</u></td></tr>
<tr><th id="317">317</th><td><u>#define LJ_ARCH_VERSION		70</u></td></tr>
<tr><th id="318">318</th><td><u>#elif _ARCH_PWR6</u></td></tr>
<tr><th id="319">319</th><td><u>#define LJ_ARCH_VERSION		60</u></td></tr>
<tr><th id="320">320</th><td><u>#elif _ARCH_PWR5X</u></td></tr>
<tr><th id="321">321</th><td><u>#define LJ_ARCH_VERSION		51</u></td></tr>
<tr><th id="322">322</th><td><u>#elif _ARCH_PWR5</u></td></tr>
<tr><th id="323">323</th><td><u>#define LJ_ARCH_VERSION		50</u></td></tr>
<tr><th id="324">324</th><td><u>#elif _ARCH_PWR4</u></td></tr>
<tr><th id="325">325</th><td><u>#define LJ_ARCH_VERSION		40</u></td></tr>
<tr><th id="326">326</th><td><u>#else</u></td></tr>
<tr><th id="327">327</th><td><u>#define LJ_ARCH_VERSION		0</u></td></tr>
<tr><th id="328">328</th><td><u>#endif</u></td></tr>
<tr><th id="329">329</th><td><u>#if _ARCH_PPCSQ</u></td></tr>
<tr><th id="330">330</th><td><u>#define LJ_ARCH_SQRT		1</u></td></tr>
<tr><th id="331">331</th><td><u>#endif</u></td></tr>
<tr><th id="332">332</th><td><u>#if _ARCH_PWR5X</u></td></tr>
<tr><th id="333">333</th><td><u>#define LJ_ARCH_ROUND		1</u></td></tr>
<tr><th id="334">334</th><td><u>#endif</u></td></tr>
<tr><th id="335">335</th><td><u>#if __PPU__</u></td></tr>
<tr><th id="336">336</th><td><u>#define LJ_ARCH_CELL		1</u></td></tr>
<tr><th id="337">337</th><td><u>#endif</u></td></tr>
<tr><th id="338">338</th><td><u>#if LJ_TARGET_XBOX360</u></td></tr>
<tr><th id="339">339</th><td><u>#define LJ_ARCH_XENON		1</u></td></tr>
<tr><th id="340">340</th><td><u>#endif</u></td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td><u>#elif LUAJIT_TARGET == LUAJIT_ARCH_MIPS32 || LUAJIT_TARGET == LUAJIT_ARCH_MIPS64</u></td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td><u>#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL)</u></td></tr>
<tr><th id="345">345</th><td><u>#if __mips_isa_rev &gt;= 6</u></td></tr>
<tr><th id="346">346</th><td><u>#define LJ_TARGET_MIPSR6	1</u></td></tr>
<tr><th id="347">347</th><td><u>#define LJ_TARGET_UNALIGNED	1</u></td></tr>
<tr><th id="348">348</th><td><u>#endif</u></td></tr>
<tr><th id="349">349</th><td><u>#if LUAJIT_TARGET == LUAJIT_ARCH_MIPS32</u></td></tr>
<tr><th id="350">350</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="351">351</th><td><u>#define LJ_ARCH_NAME		"mips32r6el"</u></td></tr>
<tr><th id="352">352</th><td><u>#else</u></td></tr>
<tr><th id="353">353</th><td><u>#define LJ_ARCH_NAME		"mipsel"</u></td></tr>
<tr><th id="354">354</th><td><u>#endif</u></td></tr>
<tr><th id="355">355</th><td><u>#else</u></td></tr>
<tr><th id="356">356</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="357">357</th><td><u>#define LJ_ARCH_NAME		"mips64r6el"</u></td></tr>
<tr><th id="358">358</th><td><u>#else</u></td></tr>
<tr><th id="359">359</th><td><u>#define LJ_ARCH_NAME		"mips64el"</u></td></tr>
<tr><th id="360">360</th><td><u>#endif</u></td></tr>
<tr><th id="361">361</th><td><u>#endif</u></td></tr>
<tr><th id="362">362</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_LE</u></td></tr>
<tr><th id="363">363</th><td><u>#else</u></td></tr>
<tr><th id="364">364</th><td><u>#if LUAJIT_TARGET == LUAJIT_ARCH_MIPS32</u></td></tr>
<tr><th id="365">365</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="366">366</th><td><u>#define LJ_ARCH_NAME		"mips32r6"</u></td></tr>
<tr><th id="367">367</th><td><u>#else</u></td></tr>
<tr><th id="368">368</th><td><u>#define LJ_ARCH_NAME		"mips"</u></td></tr>
<tr><th id="369">369</th><td><u>#endif</u></td></tr>
<tr><th id="370">370</th><td><u>#else</u></td></tr>
<tr><th id="371">371</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="372">372</th><td><u>#define LJ_ARCH_NAME		"mips64r6"</u></td></tr>
<tr><th id="373">373</th><td><u>#else</u></td></tr>
<tr><th id="374">374</th><td><u>#define LJ_ARCH_NAME		"mips64"</u></td></tr>
<tr><th id="375">375</th><td><u>#endif</u></td></tr>
<tr><th id="376">376</th><td><u>#endif</u></td></tr>
<tr><th id="377">377</th><td><u>#define LJ_ARCH_ENDIAN		LUAJIT_BE</u></td></tr>
<tr><th id="378">378</th><td><u>#endif</u></td></tr>
<tr><th id="379">379</th><td></td></tr>
<tr><th id="380">380</th><td><u>#if !defined(LJ_ARCH_HASFPU)</u></td></tr>
<tr><th id="381">381</th><td><u>#ifdef __mips_soft_float</u></td></tr>
<tr><th id="382">382</th><td><u>#define LJ_ARCH_HASFPU		0</u></td></tr>
<tr><th id="383">383</th><td><u>#else</u></td></tr>
<tr><th id="384">384</th><td><u>#define LJ_ARCH_HASFPU		1</u></td></tr>
<tr><th id="385">385</th><td><u>#endif</u></td></tr>
<tr><th id="386">386</th><td><u>#endif</u></td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td><u>#if !defined(LJ_ABI_SOFTFP)</u></td></tr>
<tr><th id="389">389</th><td><u>#ifdef __mips_soft_float</u></td></tr>
<tr><th id="390">390</th><td><u>#define LJ_ABI_SOFTFP		1</u></td></tr>
<tr><th id="391">391</th><td><u>#else</u></td></tr>
<tr><th id="392">392</th><td><u>#define LJ_ABI_SOFTFP		0</u></td></tr>
<tr><th id="393">393</th><td><u>#endif</u></td></tr>
<tr><th id="394">394</th><td><u>#endif</u></td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td><u>#if LUAJIT_TARGET == LUAJIT_ARCH_MIPS32</u></td></tr>
<tr><th id="397">397</th><td><u>#define LJ_ARCH_BITS		32</u></td></tr>
<tr><th id="398">398</th><td><u>#define LJ_TARGET_MIPS32	1</u></td></tr>
<tr><th id="399">399</th><td><u>#else</u></td></tr>
<tr><th id="400">400</th><td><u>#define LJ_ARCH_BITS		64</u></td></tr>
<tr><th id="401">401</th><td><u>#define LJ_TARGET_MIPS64	1</u></td></tr>
<tr><th id="402">402</th><td><u>#define LJ_TARGET_GC64		1</u></td></tr>
<tr><th id="403">403</th><td><u>#endif</u></td></tr>
<tr><th id="404">404</th><td><u>#define LJ_TARGET_MIPS		1</u></td></tr>
<tr><th id="405">405</th><td><u>#define LJ_TARGET_EHRETREG	4</u></td></tr>
<tr><th id="406">406</th><td><u>#define LJ_TARGET_EHRAREG	31</u></td></tr>
<tr><th id="407">407</th><td><u>#define LJ_TARGET_JUMPRANGE	27	/* 2*2^27 = 256MB-aligned region */</u></td></tr>
<tr><th id="408">408</th><td><u>#define LJ_TARGET_MASKSHIFT	1</u></td></tr>
<tr><th id="409">409</th><td><u>#define LJ_TARGET_MASKROT	1</u></td></tr>
<tr><th id="410">410</th><td><u>#define LJ_TARGET_UNIFYROT	2	/* Want only IR_BROR. */</u></td></tr>
<tr><th id="411">411</th><td><u>#define LJ_ARCH_NUMMODE		LJ_NUMMODE_DUAL</u></td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="414">414</th><td><u>#define LJ_ARCH_VERSION		60</u></td></tr>
<tr><th id="415">415</th><td><u>#elif _MIPS_ARCH_MIPS32R2 || _MIPS_ARCH_MIPS64R2</u></td></tr>
<tr><th id="416">416</th><td><u>#define LJ_ARCH_VERSION		20</u></td></tr>
<tr><th id="417">417</th><td><u>#else</u></td></tr>
<tr><th id="418">418</th><td><u>#define LJ_ARCH_VERSION		10</u></td></tr>
<tr><th id="419">419</th><td><u>#endif</u></td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><u>#else</u></td></tr>
<tr><th id="422">422</th><td><u>#error "No target architecture defined"</u></td></tr>
<tr><th id="423">423</th><td><u>#<span data-ppcond="168">endif</span></u></td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><i>/* -- Checks for requirements --------------------------------------------- */</i></td></tr>
<tr><th id="426">426</th><td></td></tr>
<tr><th id="427">427</th><td><i>/* Check for minimum required compiler versions. */</i></td></tr>
<tr><th id="428">428</th><td><u>#<span data-ppcond="428">if</span> defined(<span class="macro" data-ref="_M/__GNUC__">__GNUC__</span>)</u></td></tr>
<tr><th id="429">429</th><td><u>#<span data-ppcond="429">if</span> LJ_TARGET_X86</u></td></tr>
<tr><th id="430">430</th><td><u>#if (__GNUC__ &lt; 3) || ((__GNUC__ == 3) &amp;&amp; __GNUC_MINOR__ &lt; 4)</u></td></tr>
<tr><th id="431">431</th><td><u>#error "Need at least GCC 3.4 or newer"</u></td></tr>
<tr><th id="432">432</th><td><u>#endif</u></td></tr>
<tr><th id="433">433</th><td><u>#<span data-ppcond="429">elif</span> <a class="macro" href="#187" title="1" data-ref="_M/LJ_TARGET_X64">LJ_TARGET_X64</a></u></td></tr>
<tr><th id="434">434</th><td><u>#<span data-ppcond="434">if</span> <span class="macro" title="4" data-ref="_M/__GNUC__">__GNUC__</span> &lt; 4</u></td></tr>
<tr><th id="435">435</th><td><u>#error "Need at least GCC 4.0 or newer"</u></td></tr>
<tr><th id="436">436</th><td><u>#<span data-ppcond="434">endif</span></u></td></tr>
<tr><th id="437">437</th><td><u>#<span data-ppcond="429">elif</span> LJ_TARGET_ARM</u></td></tr>
<tr><th id="438">438</th><td><u>#if (__GNUC__ &lt; 4) || ((__GNUC__ == 4) &amp;&amp; __GNUC_MINOR__ &lt; 2)</u></td></tr>
<tr><th id="439">439</th><td><u>#error "Need at least GCC 4.2 or newer"</u></td></tr>
<tr><th id="440">440</th><td><u>#endif</u></td></tr>
<tr><th id="441">441</th><td><u>#elif LJ_TARGET_ARM64</u></td></tr>
<tr><th id="442">442</th><td><u>#if __clang__</u></td></tr>
<tr><th id="443">443</th><td><u>#if ((__clang_major__ &lt; 3) || ((__clang_major__ == 3) &amp;&amp; __clang_minor__ &lt; 5)) &amp;&amp; !defined(__NX_TOOLCHAIN_MAJOR__)</u></td></tr>
<tr><th id="444">444</th><td><u>#error "Need at least Clang 3.5 or newer"</u></td></tr>
<tr><th id="445">445</th><td><u>#endif</u></td></tr>
<tr><th id="446">446</th><td><u>#else</u></td></tr>
<tr><th id="447">447</th><td><u>#if (__GNUC__ &lt; 4) || ((__GNUC__ == 4) &amp;&amp; __GNUC_MINOR__ &lt; 8)</u></td></tr>
<tr><th id="448">448</th><td><u>#error "Need at least GCC 4.8 or newer"</u></td></tr>
<tr><th id="449">449</th><td><u>#endif</u></td></tr>
<tr><th id="450">450</th><td><u>#endif</u></td></tr>
<tr><th id="451">451</th><td><u>#elif !LJ_TARGET_PS3</u></td></tr>
<tr><th id="452">452</th><td><u>#if (__GNUC__ &lt; 4) || ((__GNUC__ == 4) &amp;&amp; __GNUC_MINOR__ &lt; 3)</u></td></tr>
<tr><th id="453">453</th><td><u>#error "Need at least GCC 4.3 or newer"</u></td></tr>
<tr><th id="454">454</th><td><u>#endif</u></td></tr>
<tr><th id="455">455</th><td><u>#<span data-ppcond="429">endif</span></u></td></tr>
<tr><th id="456">456</th><td><u>#<span data-ppcond="428">endif</span></u></td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td><i>/* Check target-specific constraints. */</i></td></tr>
<tr><th id="459">459</th><td><u>#<span data-ppcond="459">ifndef</span> <a class="macro" href="host/buildvm.h.html#7" data-ref="_M/_BUILDVM_H">_BUILDVM_H</a></u></td></tr>
<tr><th id="460">460</th><td><u>#if LJ_TARGET_X64</u></td></tr>
<tr><th id="461">461</th><td><u>#if __USING_SJLJ_EXCEPTIONS__</u></td></tr>
<tr><th id="462">462</th><td><u>#error "Need a C compiler with native exception handling on x64"</u></td></tr>
<tr><th id="463">463</th><td><u>#endif</u></td></tr>
<tr><th id="464">464</th><td><u>#elif LJ_TARGET_ARM</u></td></tr>
<tr><th id="465">465</th><td><u>#if defined(__ARMEB__)</u></td></tr>
<tr><th id="466">466</th><td><u>#error "No support for big-endian ARM"</u></td></tr>
<tr><th id="467">467</th><td><u>#endif</u></td></tr>
<tr><th id="468">468</th><td><u>#if __ARM_ARCH_6M__ || __ARM_ARCH_7M__ || __ARM_ARCH_7EM__</u></td></tr>
<tr><th id="469">469</th><td><u>#error "No support for Cortex-M CPUs"</u></td></tr>
<tr><th id="470">470</th><td><u>#endif</u></td></tr>
<tr><th id="471">471</th><td><u>#if !(__ARM_EABI__ || LJ_TARGET_IOS)</u></td></tr>
<tr><th id="472">472</th><td><u>#error "Only ARM EABI or iOS 3.0+ ABI is supported"</u></td></tr>
<tr><th id="473">473</th><td><u>#endif</u></td></tr>
<tr><th id="474">474</th><td><u>#elif LJ_TARGET_ARM64</u></td></tr>
<tr><th id="475">475</th><td><u>#if defined(_ILP32)</u></td></tr>
<tr><th id="476">476</th><td><u>#error "No support for ILP32 model on ARM64"</u></td></tr>
<tr><th id="477">477</th><td><u>#endif</u></td></tr>
<tr><th id="478">478</th><td><u>#elif LJ_TARGET_PPC</u></td></tr>
<tr><th id="479">479</th><td><u>#if defined(_LITTLE_ENDIAN) &amp;&amp; (!defined(_BYTE_ORDER) || (_BYTE_ORDER == _LITTLE_ENDIAN))</u></td></tr>
<tr><th id="480">480</th><td><u>#error "No support for little-endian PPC32"</u></td></tr>
<tr><th id="481">481</th><td><u>#endif</u></td></tr>
<tr><th id="482">482</th><td><u>#if defined(__NO_FPRS__) &amp;&amp; !defined(_SOFT_FLOAT)</u></td></tr>
<tr><th id="483">483</th><td><u>#error "No support for PPC/e500 anymore (use LuaJIT 2.0)"</u></td></tr>
<tr><th id="484">484</th><td><u>#endif</u></td></tr>
<tr><th id="485">485</th><td><u>#elif LJ_TARGET_MIPS32</u></td></tr>
<tr><th id="486">486</th><td><u>#if !((defined(_MIPS_SIM_ABI32) &amp;&amp; _MIPS_SIM == _MIPS_SIM_ABI32) || (defined(_ABIO32) &amp;&amp; _MIPS_SIM == _ABIO32))</u></td></tr>
<tr><th id="487">487</th><td><u>#error "Only o32 ABI supported for MIPS32"</u></td></tr>
<tr><th id="488">488</th><td><u>#endif</u></td></tr>
<tr><th id="489">489</th><td><u>#if LJ_TARGET_MIPSR6</u></td></tr>
<tr><th id="490">490</th><td><i>/* Not that useful, since most available r6 CPUs are 64 bit. */</i></td></tr>
<tr><th id="491">491</th><td><u>#error "No support for MIPS32R6"</u></td></tr>
<tr><th id="492">492</th><td><u>#endif</u></td></tr>
<tr><th id="493">493</th><td><u>#elif LJ_TARGET_MIPS64</u></td></tr>
<tr><th id="494">494</th><td><u>#if !((defined(_MIPS_SIM_ABI64) &amp;&amp; _MIPS_SIM == _MIPS_SIM_ABI64) || (defined(_ABI64) &amp;&amp; _MIPS_SIM == _ABI64))</u></td></tr>
<tr><th id="495">495</th><td><i>/* MIPS32ON64 aka n32 ABI support might be desirable, but difficult. */</i></td></tr>
<tr><th id="496">496</th><td><u>#error "Only n64 ABI supported for MIPS64"</u></td></tr>
<tr><th id="497">497</th><td><u>#endif</u></td></tr>
<tr><th id="498">498</th><td><u>#endif</u></td></tr>
<tr><th id="499">499</th><td><u>#<span data-ppcond="459">endif</span></u></td></tr>
<tr><th id="500">500</th><td></td></tr>
<tr><th id="501">501</th><td><i>/* -- Derived defines ----------------------------------------------------- */</i></td></tr>
<tr><th id="502">502</th><td></td></tr>
<tr><th id="503">503</th><td><i>/* Enable or disable the dual-number mode for the VM. */</i></td></tr>
<tr><th id="504">504</th><td><u>#<span data-ppcond="504">if</span> (<a class="macro" href="#195" title="1" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</a> == <a class="macro" href="#44" title="0" data-ref="_M/LJ_NUMMODE_SINGLE">LJ_NUMMODE_SINGLE</a> &amp;&amp; LUAJIT_NUMMODE == 2) || \</u></td></tr>
<tr><th id="505">505</th><td><u>    (<a class="macro" href="#195" title="1" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</a> == <a class="macro" href="#46" title="2" data-ref="_M/LJ_NUMMODE_DUAL">LJ_NUMMODE_DUAL</a> &amp;&amp; LUAJIT_NUMMODE == 1)</u></td></tr>
<tr><th id="506">506</th><td><u>#error "No support for this number mode on this architecture"</u></td></tr>
<tr><th id="507">507</th><td><u>#<span data-ppcond="504">endif</span></u></td></tr>
<tr><th id="508">508</th><td><u>#<span data-ppcond="508">if</span> <a class="macro" href="#195" title="1" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</a> == <a class="macro" href="#46" title="2" data-ref="_M/LJ_NUMMODE_DUAL">LJ_NUMMODE_DUAL</a> || \</u></td></tr>
<tr><th id="509">509</th><td><u>    (<a class="macro" href="#195" title="1" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</a> == <a class="macro" href="#47" title="3" data-ref="_M/LJ_NUMMODE_DUAL_SINGLE">LJ_NUMMODE_DUAL_SINGLE</a> &amp;&amp; LUAJIT_NUMMODE != 1) || \</u></td></tr>
<tr><th id="510">510</th><td><u>    (<a class="macro" href="#195" title="1" data-ref="_M/LJ_ARCH_NUMMODE">LJ_ARCH_NUMMODE</a> == <a class="macro" href="#45" title="1" data-ref="_M/LJ_NUMMODE_SINGLE_DUAL">LJ_NUMMODE_SINGLE_DUAL</a> &amp;&amp; LUAJIT_NUMMODE == 2)</u></td></tr>
<tr><th id="511">511</th><td><u>#define LJ_DUALNUM		1</u></td></tr>
<tr><th id="512">512</th><td><u>#<span data-ppcond="508">else</span></u></td></tr>
<tr><th id="513">513</th><td><u>#define <dfn class="macro" id="_M/LJ_DUALNUM" data-ref="_M/LJ_DUALNUM">LJ_DUALNUM</dfn>		0</u></td></tr>
<tr><th id="514">514</th><td><u>#<span data-ppcond="508">endif</span></u></td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td><u>#<span data-ppcond="516">if</span> <a class="macro" href="#127" title="0" data-ref="_M/LJ_TARGET_IOS">LJ_TARGET_IOS</a> || LJ_TARGET_CONSOLE</u></td></tr>
<tr><th id="517">517</th><td><i>/* Runtime code generation is restricted on iOS. Complain to Apple, not me. */</i></td></tr>
<tr><th id="518">518</th><td><i>/* Ditto for the consoles. Complain to Sony or MS, not me. */</i></td></tr>
<tr><th id="519">519</th><td><u>#ifndef LUAJIT_ENABLE_JIT</u></td></tr>
<tr><th id="520">520</th><td><u>#define LJ_OS_NOJIT		1</u></td></tr>
<tr><th id="521">521</th><td><u>#endif</u></td></tr>
<tr><th id="522">522</th><td><u>#<span data-ppcond="516">endif</span></u></td></tr>
<tr><th id="523">523</th><td></td></tr>
<tr><th id="524">524</th><td><i>/* 64 bit GC references. */</i></td></tr>
<tr><th id="525">525</th><td><u>#<span data-ppcond="525">if</span> <a class="macro" href="#197" title="1" data-ref="_M/LJ_TARGET_GC64">LJ_TARGET_GC64</a></u></td></tr>
<tr><th id="526">526</th><td><u>#define <dfn class="macro" id="_M/LJ_GC64" data-ref="_M/LJ_GC64">LJ_GC64</dfn>			1</u></td></tr>
<tr><th id="527">527</th><td><u>#<span data-ppcond="525">else</span></u></td></tr>
<tr><th id="528">528</th><td><u>#define LJ_GC64			0</u></td></tr>
<tr><th id="529">529</th><td><u>#<span data-ppcond="525">endif</span></u></td></tr>
<tr><th id="530">530</th><td></td></tr>
<tr><th id="531">531</th><td><i>/* 2-slot frame info. */</i></td></tr>
<tr><th id="532">532</th><td><u>#<span data-ppcond="532">if</span> <a class="macro" href="#526" title="1" data-ref="_M/LJ_GC64">LJ_GC64</a></u></td></tr>
<tr><th id="533">533</th><td><u>#define <dfn class="macro" id="_M/LJ_FR2" data-ref="_M/LJ_FR2">LJ_FR2</dfn>			1</u></td></tr>
<tr><th id="534">534</th><td><u>#<span data-ppcond="532">else</span></u></td></tr>
<tr><th id="535">535</th><td><u>#define LJ_FR2			0</u></td></tr>
<tr><th id="536">536</th><td><u>#<span data-ppcond="532">endif</span></u></td></tr>
<tr><th id="537">537</th><td></td></tr>
<tr><th id="538">538</th><td><i>/* Disable or enable the JIT compiler. */</i></td></tr>
<tr><th id="539">539</th><td><u>#<span data-ppcond="539">if</span> defined(<span class="macro" data-ref="_M/LUAJIT_DISABLE_JIT">LUAJIT_DISABLE_JIT</span>) || defined(<span class="macro" data-ref="_M/LJ_ARCH_NOJIT">LJ_ARCH_NOJIT</span>) || defined(<span class="macro" data-ref="_M/LJ_OS_NOJIT">LJ_OS_NOJIT</span>)</u></td></tr>
<tr><th id="540">540</th><td><u>#define LJ_HASJIT		0</u></td></tr>
<tr><th id="541">541</th><td><u>#<span data-ppcond="539">else</span></u></td></tr>
<tr><th id="542">542</th><td><u>#define <dfn class="macro" id="_M/LJ_HASJIT" data-ref="_M/LJ_HASJIT">LJ_HASJIT</dfn>		1</u></td></tr>
<tr><th id="543">543</th><td><u>#<span data-ppcond="539">endif</span></u></td></tr>
<tr><th id="544">544</th><td></td></tr>
<tr><th id="545">545</th><td><i>/* Disable or enable the FFI extension. */</i></td></tr>
<tr><th id="546">546</th><td><u>#<span data-ppcond="546">if</span> defined(<span class="macro" data-ref="_M/LUAJIT_DISABLE_FFI">LUAJIT_DISABLE_FFI</span>) || defined(<span class="macro" data-ref="_M/LJ_ARCH_NOFFI">LJ_ARCH_NOFFI</span>)</u></td></tr>
<tr><th id="547">547</th><td><u>#define LJ_HASFFI		0</u></td></tr>
<tr><th id="548">548</th><td><u>#<span data-ppcond="546">else</span></u></td></tr>
<tr><th id="549">549</th><td><u>#define <dfn class="macro" id="_M/LJ_HASFFI" data-ref="_M/LJ_HASFFI">LJ_HASFFI</dfn>		1</u></td></tr>
<tr><th id="550">550</th><td><u>#<span data-ppcond="546">endif</span></u></td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td><i>/* Disable or enable the string buffer extension. */</i></td></tr>
<tr><th id="553">553</th><td><u>#<span data-ppcond="553">if</span> defined(<span class="macro" data-ref="_M/LUAJIT_DISABLE_BUFFER">LUAJIT_DISABLE_BUFFER</span>)</u></td></tr>
<tr><th id="554">554</th><td><u>#define LJ_HASBUFFER		0</u></td></tr>
<tr><th id="555">555</th><td><u>#<span data-ppcond="553">else</span></u></td></tr>
<tr><th id="556">556</th><td><u>#define <dfn class="macro" id="_M/LJ_HASBUFFER" data-ref="_M/LJ_HASBUFFER">LJ_HASBUFFER</dfn>		1</u></td></tr>
<tr><th id="557">557</th><td><u>#<span data-ppcond="553">endif</span></u></td></tr>
<tr><th id="558">558</th><td></td></tr>
<tr><th id="559">559</th><td><u>#<span data-ppcond="559">if</span> defined(<span class="macro" data-ref="_M/LUAJIT_DISABLE_PROFILE">LUAJIT_DISABLE_PROFILE</span>)</u></td></tr>
<tr><th id="560">560</th><td><u>#define LJ_HASPROFILE		0</u></td></tr>
<tr><th id="561">561</th><td><u>#<span data-ppcond="559">elif</span> <a class="macro" href="#121" title="(2 &gt; 1)" data-ref="_M/LJ_TARGET_POSIX">LJ_TARGET_POSIX</a></u></td></tr>
<tr><th id="562">562</th><td><u>#define <dfn class="macro" id="_M/LJ_HASPROFILE" data-ref="_M/LJ_HASPROFILE">LJ_HASPROFILE</dfn>		1</u></td></tr>
<tr><th id="563">563</th><td><u>#define <dfn class="macro" id="_M/LJ_PROFILE_SIGPROF" data-ref="_M/LJ_PROFILE_SIGPROF">LJ_PROFILE_SIGPROF</dfn>	1</u></td></tr>
<tr><th id="564">564</th><td><u>#<span data-ppcond="559">elif</span> LJ_TARGET_PS3</u></td></tr>
<tr><th id="565">565</th><td><u>#define LJ_HASPROFILE		1</u></td></tr>
<tr><th id="566">566</th><td><u>#define LJ_PROFILE_PTHREAD	1</u></td></tr>
<tr><th id="567">567</th><td><u>#elif LJ_TARGET_WINDOWS || LJ_TARGET_XBOX360</u></td></tr>
<tr><th id="568">568</th><td><u>#define LJ_HASPROFILE		1</u></td></tr>
<tr><th id="569">569</th><td><u>#define LJ_PROFILE_WTHREAD	1</u></td></tr>
<tr><th id="570">570</th><td><u>#else</u></td></tr>
<tr><th id="571">571</th><td><u>#define LJ_HASPROFILE		0</u></td></tr>
<tr><th id="572">572</th><td><u>#<span data-ppcond="559">endif</span></u></td></tr>
<tr><th id="573">573</th><td></td></tr>
<tr><th id="574">574</th><td><u>#<span data-ppcond="574">ifndef</span> <span class="macro" data-ref="_M/LJ_ARCH_HASFPU">LJ_ARCH_HASFPU</span></u></td></tr>
<tr><th id="575">575</th><td><u>#define LJ_ARCH_HASFPU		1</u></td></tr>
<tr><th id="576">576</th><td><u>#<span data-ppcond="574">endif</span></u></td></tr>
<tr><th id="577">577</th><td><u>#<span data-ppcond="577">ifndef</span> <span class="macro" data-ref="_M/LJ_ABI_SOFTFP">LJ_ABI_SOFTFP</span></u></td></tr>
<tr><th id="578">578</th><td><u>#define LJ_ABI_SOFTFP		0</u></td></tr>
<tr><th id="579">579</th><td><u>#<span data-ppcond="577">endif</span></u></td></tr>
<tr><th id="580">580</th><td><u>#define <dfn class="macro" id="_M/LJ_SOFTFP" data-ref="_M/LJ_SOFTFP">LJ_SOFTFP</dfn>		(!LJ_ARCH_HASFPU)</u></td></tr>
<tr><th id="581">581</th><td><u>#define <dfn class="macro" id="_M/LJ_SOFTFP32" data-ref="_M/LJ_SOFTFP32">LJ_SOFTFP32</dfn>		(LJ_SOFTFP &amp;&amp; LJ_32)</u></td></tr>
<tr><th id="582">582</th><td></td></tr>
<tr><th id="583">583</th><td><u>#<span data-ppcond="583">if</span> <a class="macro" href="#186" title="0" data-ref="_M/LJ_ARCH_ENDIAN">LJ_ARCH_ENDIAN</a> == <a class="macro" href="#15" title="1" data-ref="_M/LUAJIT_BE">LUAJIT_BE</a></u></td></tr>
<tr><th id="584">584</th><td><u>#define LJ_LE			0</u></td></tr>
<tr><th id="585">585</th><td><u>#define LJ_BE			1</u></td></tr>
<tr><th id="586">586</th><td><u>#define LJ_ENDIAN_SELECT(le, be)	be</u></td></tr>
<tr><th id="587">587</th><td><u>#define LJ_ENDIAN_LOHI(lo, hi)		hi lo</u></td></tr>
<tr><th id="588">588</th><td><u>#<span data-ppcond="583">else</span></u></td></tr>
<tr><th id="589">589</th><td><u>#define <dfn class="macro" id="_M/LJ_LE" data-ref="_M/LJ_LE">LJ_LE</dfn>			1</u></td></tr>
<tr><th id="590">590</th><td><u>#define <dfn class="macro" id="_M/LJ_BE" data-ref="_M/LJ_BE">LJ_BE</dfn>			0</u></td></tr>
<tr><th id="591">591</th><td><u>#define <dfn class="macro" id="_M/LJ_ENDIAN_SELECT" data-ref="_M/LJ_ENDIAN_SELECT">LJ_ENDIAN_SELECT</dfn>(le, be)	le</u></td></tr>
<tr><th id="592">592</th><td><u>#define <dfn class="macro" id="_M/LJ_ENDIAN_LOHI" data-ref="_M/LJ_ENDIAN_LOHI">LJ_ENDIAN_LOHI</dfn>(lo, hi)		lo hi</u></td></tr>
<tr><th id="593">593</th><td><u>#<span data-ppcond="583">endif</span></u></td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td><u>#<span data-ppcond="595">if</span> <a class="macro" href="#185" title="64" data-ref="_M/LJ_ARCH_BITS">LJ_ARCH_BITS</a> == 32</u></td></tr>
<tr><th id="596">596</th><td><u>#define LJ_32			1</u></td></tr>
<tr><th id="597">597</th><td><u>#define LJ_64			0</u></td></tr>
<tr><th id="598">598</th><td><u>#<span data-ppcond="595">else</span></u></td></tr>
<tr><th id="599">599</th><td><u>#define <dfn class="macro" id="_M/LJ_32" data-ref="_M/LJ_32">LJ_32</dfn>			0</u></td></tr>
<tr><th id="600">600</th><td><u>#define <dfn class="macro" id="_M/LJ_64" data-ref="_M/LJ_64">LJ_64</dfn>			1</u></td></tr>
<tr><th id="601">601</th><td><u>#<span data-ppcond="595">endif</span></u></td></tr>
<tr><th id="602">602</th><td></td></tr>
<tr><th id="603">603</th><td><u>#<span data-ppcond="603">ifndef</span> <a class="macro" href="#194" data-ref="_M/LJ_TARGET_UNALIGNED">LJ_TARGET_UNALIGNED</a></u></td></tr>
<tr><th id="604">604</th><td><u>#define LJ_TARGET_UNALIGNED	0</u></td></tr>
<tr><th id="605">605</th><td><u>#<span data-ppcond="603">endif</span></u></td></tr>
<tr><th id="606">606</th><td></td></tr>
<tr><th id="607">607</th><td><u>#<span data-ppcond="607">ifndef</span> <span class="macro" data-ref="_M/LJ_PAGESIZE">LJ_PAGESIZE</span></u></td></tr>
<tr><th id="608">608</th><td><u>#define <dfn class="macro" id="_M/LJ_PAGESIZE" data-ref="_M/LJ_PAGESIZE">LJ_PAGESIZE</dfn>		4096</u></td></tr>
<tr><th id="609">609</th><td><u>#<span data-ppcond="607">endif</span></u></td></tr>
<tr><th id="610">610</th><td></td></tr>
<tr><th id="611">611</th><td><i>/* Various workarounds for embedded operating systems or weak C runtimes. */</i></td></tr>
<tr><th id="612">612</th><td><u>#<span data-ppcond="612">if</span> defined(<span class="macro" data-ref="_M/__ANDROID__">__ANDROID__</span>) || defined(<span class="macro" data-ref="_M/__symbian__">__symbian__</span>) || LJ_TARGET_XBOX360 || <a class="macro" href="#117" title="(2 == 1)" data-ref="_M/LJ_TARGET_WINDOWS">LJ_TARGET_WINDOWS</a></u></td></tr>
<tr><th id="613">613</th><td><u>#define LUAJIT_NO_LOG2</u></td></tr>
<tr><th id="614">614</th><td><u>#<span data-ppcond="612">endif</span></u></td></tr>
<tr><th id="615">615</th><td><u>#<span data-ppcond="615">if</span> LJ_TARGET_CONSOLE || (<a class="macro" href="#127" title="0" data-ref="_M/LJ_TARGET_IOS">LJ_TARGET_IOS</a> &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= __IPHONE_8_0)</u></td></tr>
<tr><th id="616">616</th><td><u>#define LJ_NO_SYSTEM		1</u></td></tr>
<tr><th id="617">617</th><td><u>#<span data-ppcond="615">endif</span></u></td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td><u>#<span data-ppcond="619">if</span> <a class="macro" href="#117" title="(2 == 1)" data-ref="_M/LJ_TARGET_WINDOWS">LJ_TARGET_WINDOWS</a> || LJ_TARGET_CYGWIN</u></td></tr>
<tr><th id="620">620</th><td><u>#define LJ_ABI_WIN		1</u></td></tr>
<tr><th id="621">621</th><td><u>#<span data-ppcond="619">else</span></u></td></tr>
<tr><th id="622">622</th><td><u>#define <dfn class="macro" id="_M/LJ_ABI_WIN" data-ref="_M/LJ_ABI_WIN">LJ_ABI_WIN</dfn>		0</u></td></tr>
<tr><th id="623">623</th><td><u>#<span data-ppcond="619">endif</span></u></td></tr>
<tr><th id="624">624</th><td></td></tr>
<tr><th id="625">625</th><td><u>#<span data-ppcond="625">if</span> <a class="macro" href="#117" title="(2 == 1)" data-ref="_M/LJ_TARGET_WINDOWS">LJ_TARGET_WINDOWS</a></u></td></tr>
<tr><th id="626">626</th><td><u>#if LJ_TARGET_UWP</u></td></tr>
<tr><th id="627">627</th><td><u>#define LJ_WIN_VALLOC	VirtualAllocFromApp</u></td></tr>
<tr><th id="628">628</th><td><u>#define LJ_WIN_VPROTECT	VirtualProtectFromApp</u></td></tr>
<tr><th id="629">629</th><td><b>extern</b> <em>void</em> *LJ_WIN_LOADLIBA(<em>const</em> <em>char</em> *path);</td></tr>
<tr><th id="630">630</th><td><u>#else</u></td></tr>
<tr><th id="631">631</th><td><u>#define LJ_WIN_VALLOC	VirtualAlloc</u></td></tr>
<tr><th id="632">632</th><td><u>#define LJ_WIN_VPROTECT	VirtualProtect</u></td></tr>
<tr><th id="633">633</th><td><u>#define LJ_WIN_LOADLIBA(path)	LoadLibraryExA((path), NULL, 0)</u></td></tr>
<tr><th id="634">634</th><td><u>#endif</u></td></tr>
<tr><th id="635">635</th><td><u>#<span data-ppcond="625">endif</span></u></td></tr>
<tr><th id="636">636</th><td></td></tr>
<tr><th id="637">637</th><td><u>#<span data-ppcond="637">if</span> defined(<span class="macro" data-ref="_M/LUAJIT_NO_UNWIND">LUAJIT_NO_UNWIND</span>) || __GNU_COMPACT_EH__ || defined(<span class="macro" data-ref="_M/__symbian__">__symbian__</span>) || <a class="macro" href="#127" title="0" data-ref="_M/LJ_TARGET_IOS">LJ_TARGET_IOS</a> || LJ_TARGET_PS3 || LJ_TARGET_PS4</u></td></tr>
<tr><th id="638">638</th><td><u>#define LJ_NO_UNWIND		1</u></td></tr>
<tr><th id="639">639</th><td><u>#<span data-ppcond="637">endif</span></u></td></tr>
<tr><th id="640">640</th><td></td></tr>
<tr><th id="641">641</th><td><u>#<span data-ppcond="641">if</span> !LJ_NO_UNWIND &amp;&amp; !defined(<span class="macro" data-ref="_M/LUAJIT_UNWIND_INTERNAL">LUAJIT_UNWIND_INTERNAL</span>) &amp;&amp; (<a class="macro" href="#622" title="0" data-ref="_M/LJ_ABI_WIN">LJ_ABI_WIN</a> || (defined(<span class="macro" data-ref="_M/LUAJIT_UNWIND_EXTERNAL">LUAJIT_UNWIND_EXTERNAL</span>) &amp;&amp; (defined(<span class="macro" data-ref="_M/__GNUC__">__GNUC__</span>) || defined(<span class="macro" data-ref="_M/__clang__">__clang__</span>))))</u></td></tr>
<tr><th id="642">642</th><td><u>#define LJ_UNWIND_EXT		1</u></td></tr>
<tr><th id="643">643</th><td><u>#<span data-ppcond="641">else</span></u></td></tr>
<tr><th id="644">644</th><td><u>#define <dfn class="macro" id="_M/LJ_UNWIND_EXT" data-ref="_M/LJ_UNWIND_EXT">LJ_UNWIND_EXT</dfn>		0</u></td></tr>
<tr><th id="645">645</th><td><u>#<span data-ppcond="641">endif</span></u></td></tr>
<tr><th id="646">646</th><td></td></tr>
<tr><th id="647">647</th><td><u>#<span data-ppcond="647">if</span> <a class="macro" href="#644" title="0" data-ref="_M/LJ_UNWIND_EXT">LJ_UNWIND_EXT</a> &amp;&amp; <a class="macro" href="#542" title="1" data-ref="_M/LJ_HASJIT">LJ_HASJIT</a> &amp;&amp; !LJ_TARGET_ARM &amp;&amp; !(<a class="macro" href="#622" title="0" data-ref="_M/LJ_ABI_WIN">LJ_ABI_WIN</a> &amp;&amp; LJ_TARGET_X86)</u></td></tr>
<tr><th id="648">648</th><td><u>#define LJ_UNWIND_JIT		1</u></td></tr>
<tr><th id="649">649</th><td><u>#<span data-ppcond="647">else</span></u></td></tr>
<tr><th id="650">650</th><td><u>#define <dfn class="macro" id="_M/LJ_UNWIND_JIT" data-ref="_M/LJ_UNWIND_JIT">LJ_UNWIND_JIT</dfn>		0</u></td></tr>
<tr><th id="651">651</th><td><u>#<span data-ppcond="647">endif</span></u></td></tr>
<tr><th id="652">652</th><td></td></tr>
<tr><th id="653">653</th><td><i>/* Compatibility with Lua 5.1 vs. 5.2. */</i></td></tr>
<tr><th id="654">654</th><td><u>#<span data-ppcond="654">ifdef</span> <span class="macro" data-ref="_M/LUAJIT_ENABLE_LUA52COMPAT">LUAJIT_ENABLE_LUA52COMPAT</span></u></td></tr>
<tr><th id="655">655</th><td><u>#define LJ_52			1</u></td></tr>
<tr><th id="656">656</th><td><u>#<span data-ppcond="654">else</span></u></td></tr>
<tr><th id="657">657</th><td><u>#define <dfn class="macro" id="_M/LJ_52" data-ref="_M/LJ_52">LJ_52</dfn>			0</u></td></tr>
<tr><th id="658">658</th><td><u>#<span data-ppcond="654">endif</span></u></td></tr>
<tr><th id="659">659</th><td></td></tr>
<tr><th id="660">660</th><td><i>/* -- VM security --------------------------------------------------------- */</i></td></tr>
<tr><th id="661">661</th><td></td></tr>
<tr><th id="662">662</th><td><i>/* Don't make any changes here. Instead build with:</i></td></tr>
<tr><th id="663">663</th><td><i>**   make "XCFLAGS=-DLUAJIT_SECURITY_flag=value"</i></td></tr>
<tr><th id="664">664</th><td><i>**</i></td></tr>
<tr><th id="665">665</th><td><i>** Important note to distro maintainers: DO NOT change the defaults for a</i></td></tr>
<tr><th id="666">666</th><td><i>** regular distro build -- neither upwards, nor downwards!</i></td></tr>
<tr><th id="667">667</th><td><i>** These build-time configurable security flags are intended for embedders</i></td></tr>
<tr><th id="668">668</th><td><i>** who may have specific needs wrt. security vs. performance.</i></td></tr>
<tr><th id="669">669</th><td><i>*/</i></td></tr>
<tr><th id="670">670</th><td></td></tr>
<tr><th id="671">671</th><td><i>/* Security defaults. */</i></td></tr>
<tr><th id="672">672</th><td><u>#<span data-ppcond="672">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_SECURITY_PRNG">LUAJIT_SECURITY_PRNG</span></u></td></tr>
<tr><th id="673">673</th><td><i>/* PRNG init: 0 = fixed/insecure, 1 = secure from OS. */</i></td></tr>
<tr><th id="674">674</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_SECURITY_PRNG" data-ref="_M/LUAJIT_SECURITY_PRNG">LUAJIT_SECURITY_PRNG</dfn>	1</u></td></tr>
<tr><th id="675">675</th><td><u>#<span data-ppcond="672">endif</span></u></td></tr>
<tr><th id="676">676</th><td></td></tr>
<tr><th id="677">677</th><td><u>#<span data-ppcond="677">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_SECURITY_STRHASH">LUAJIT_SECURITY_STRHASH</span></u></td></tr>
<tr><th id="678">678</th><td><i>/* String hash: 0 = sparse only, 1 = sparse + dense. */</i></td></tr>
<tr><th id="679">679</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_SECURITY_STRHASH" data-ref="_M/LUAJIT_SECURITY_STRHASH">LUAJIT_SECURITY_STRHASH</dfn>	1</u></td></tr>
<tr><th id="680">680</th><td><u>#<span data-ppcond="677">endif</span></u></td></tr>
<tr><th id="681">681</th><td></td></tr>
<tr><th id="682">682</th><td><u>#<span data-ppcond="682">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_SECURITY_STRID">LUAJIT_SECURITY_STRID</span></u></td></tr>
<tr><th id="683">683</th><td><i>/* String IDs: 0 = linear, 1 = reseed &lt; 255, 2 = reseed &lt; 15, 3 = random. */</i></td></tr>
<tr><th id="684">684</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_SECURITY_STRID" data-ref="_M/LUAJIT_SECURITY_STRID">LUAJIT_SECURITY_STRID</dfn>	1</u></td></tr>
<tr><th id="685">685</th><td><u>#<span data-ppcond="682">endif</span></u></td></tr>
<tr><th id="686">686</th><td></td></tr>
<tr><th id="687">687</th><td><u>#<span data-ppcond="687">ifndef</span> <span class="macro" data-ref="_M/LUAJIT_SECURITY_MCODE">LUAJIT_SECURITY_MCODE</span></u></td></tr>
<tr><th id="688">688</th><td><i>/* Machine code page protection: 0 = insecure RWX, 1 = secure RW^X. */</i></td></tr>
<tr><th id="689">689</th><td><u>#define <dfn class="macro" id="_M/LUAJIT_SECURITY_MCODE" data-ref="_M/LUAJIT_SECURITY_MCODE">LUAJIT_SECURITY_MCODE</dfn>	1</u></td></tr>
<tr><th id="690">690</th><td><u>#<span data-ppcond="687">endif</span></u></td></tr>
<tr><th id="691">691</th><td></td></tr>
<tr><th id="692">692</th><td><u>#define <dfn class="macro" id="_M/LJ_SECURITY_MODE" data-ref="_M/LJ_SECURITY_MODE">LJ_SECURITY_MODE</dfn> \</u></td></tr>
<tr><th id="693">693</th><td><u>  ( 0u \</u></td></tr>
<tr><th id="694">694</th><td><u>  | ((LUAJIT_SECURITY_PRNG &amp; 3) &lt;&lt; 0) \</u></td></tr>
<tr><th id="695">695</th><td><u>  | ((LUAJIT_SECURITY_STRHASH &amp; 3) &lt;&lt; 2) \</u></td></tr>
<tr><th id="696">696</th><td><u>  | ((LUAJIT_SECURITY_STRID &amp; 3) &lt;&lt; 4) \</u></td></tr>
<tr><th id="697">697</th><td><u>  | ((LUAJIT_SECURITY_MCODE &amp; 3) &lt;&lt; 6) \</u></td></tr>
<tr><th id="698">698</th><td><u>  )</u></td></tr>
<tr><th id="699">699</th><td><u>#define <dfn class="macro" id="_M/LJ_SECURITY_MODESTRING" data-ref="_M/LJ_SECURITY_MODESTRING">LJ_SECURITY_MODESTRING</dfn> \</u></td></tr>
<tr><th id="700">700</th><td><u>  "\004prng\007strhash\005strid\005mcode"</u></td></tr>
<tr><th id="701">701</th><td></td></tr>
<tr><th id="702">702</th><td><u>#<span data-ppcond="6">endif</span></u></td></tr>
<tr><th id="703">703</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='host/buildvm.c.html'>luajit/host/buildvm.c</a><br/>Generated on <em>2022-Jun-23</em> from project luajit revision <em>v2.1.0-beta3-294-ge9577376</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
